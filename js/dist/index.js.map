{
  "version": 3,
  "sources": ["../src/shared/storage.js", "../src/shared/storage.js", "../src/shared/modal.js", "../src/site/interaction.js", "../src/index.js"],
  "sourcesContent": ["//\r\n// Set and get storage values\r\n// Read, write and parse storage JSON data\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport * as debugLogger from '../shared/debuglogger.js';\r\n\r\n\r\nexport {\r\n//Constants\r\n  KEY,\r\n//Functions\r\n  isAvailable,\r\n  setCookie,\r\n  deleteCookie,\r\n  getValue,\r\n  setValue,\r\n  readJson,\r\n  writeJson,\r\n  readWriteSettingsProxy,\r\n  addSettingsObserver,\r\n  parseEventData,\r\n};\r\n\r\n\r\n/*************************************************************************************************/\r\n\r\n\r\nconst debug     = debugLogger.getInstance('storage');\r\nconst observers = {};\r\n\r\nconst KEY = {\r\n  UF_PLAYBACK_SETTINGS: 'UF_PLAYBACK_SETTINGS',\r\n  UF_SITE_SETTINGS:     'UF_SITE_SETTINGS',\r\n  UF_SITE_THEME:        'UF_SITE_THEME',\r\n  UF_TRACK_LAYOUT:      'UF_TRACK_LAYOUT',\r\n  UF_TRACKS_PER_PAGE:   'UF_TRACKS_PER_PAGE',\r\n};\r\n\r\n\r\n// ************************************************************************************************\r\n// https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API\r\n// ************************************************************************************************\r\n\r\nfunction isAvailable(storageType)\r\n{\r\n  let storage;\r\n\r\n  try\r\n  {\r\n    storage = window[storageType];\r\n    const test = '__storage_test__';\r\n    storage.setItem(test, test);\r\n    storage.removeItem(test);\r\n    return true;\r\n  }\r\n  catch(exception)\r\n  {\r\n    return exception instanceof DOMException && (\r\n      // everything except Firefox\r\n      exception.code === 22 ||\r\n      // Firefox\r\n      exception.code === 1014 ||\r\n      // test name field too, because code might not be present\r\n      // everything except Firefox\r\n      exception.name === 'QuotaExceededError' ||\r\n      // Firefox\r\n      exception.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\r\n      // acknowledge QuotaExceededError only if there's something already stored\r\n      (storage && storage.length !== 0);\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Set and delete cookie key => value pairs\r\n// ************************************************************************************************\r\n\r\nfunction setCookie(keyName, keyValue = '', maxAge = (60 * 60 * 24 * 365), path = '/')\r\n{\r\n  document.cookie = `${keyName}=${keyValue}; Max-Age=${maxAge}; Path=${path}; Secure; SameSite=Strict`;\r\n}\r\n\r\nfunction deleteCookie(keyName, path = '/')\r\n{\r\n  document.cookie = `${keyName}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=${path}`;\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// get / set local storage key => value pairs\r\n// ************************************************************************************************\r\n\r\nfunction getValue(keyName, defaultValue = null, setDefault = false)\r\n{\r\n  const keyValue = localStorage.getItem(keyName);\r\n\r\n  if (keyValue === null)\r\n  {\r\n    if (setDefault && (defaultValue !== null))\r\n      setValue(keyName, defaultValue);\r\n\r\n    return defaultValue;\r\n  }\r\n  \r\n  return keyValue;\r\n}\r\n\r\nfunction setValue(keyName, keyValue)\r\n{\r\n  try\r\n  {\r\n    localStorage.setItem(keyName, keyValue);\r\n  }\r\n  catch(exception)\r\n  {\r\n    debug.error(exception);\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Read (parse) and write (stringify) JSON data from local storage\r\n// ************************************************************************************************\r\n\r\nfunction readJson(keyName, defaultValue = null, setDefault = false)\r\n{\r\n  debug.log(`readJson(): ${keyName} - ${defaultValue} - ${setDefault}`);\r\n  \r\n  const keyValue     = localStorage.getItem(keyName);\r\n  let parsedKeyValue = null;\r\n\r\n  if (keyValue === null)\r\n  {\r\n    if (setDefault && (defaultValue !== null))\r\n      writeJson(keyName, defaultValue);\r\n\r\n    return defaultValue;\r\n  }\r\n  else\r\n  {\r\n    try\r\n    {\r\n      parsedKeyValue = JSON.parse(keyValue);\r\n    }\r\n    catch(exception)\r\n    {\r\n      debug.error(exception);\r\n\r\n      // ToDo: Return error state to specify (for the user) that default settings are used??\r\n      if (defaultValue !== null)\r\n        parsedKeyValue = defaultValue;\r\n    }\r\n  }\r\n\r\n  return parsedKeyValue;\r\n}\r\n\r\nfunction writeJson(keyName, keyData)\r\n{\r\n  debug.log(`writeJson(): ${keyName} - ${keyData}`);\r\n\r\n  try\r\n  {\r\n    localStorage.setItem(keyName, JSON.stringify(keyData));\r\n  }\r\n  catch(exception)\r\n  {\r\n    debug.error(exception);\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Merge and cleanup settings objects on new version\r\n// ************************************************************************************************\r\n\r\nfunction mergeObjectProps(oldObject, newObject, keyName)\r\n{\r\n  debug.log(`mergeObjectProps(): Merging ${keyName} from version ${oldObject.version} to version ${newObject.version}`);\r\n\r\n  const mergedObject = { ...oldObject,      ...newObject      };\r\n  mergedObject.user  = { ...newObject.user, ...oldObject.user };\r\n  mergedObject.priv  = { ...newObject.priv, ...oldObject.priv };\r\n\r\n  if (keyName === KEY.UF_SITE_SETTINGS)\r\n  {\r\n    mergedObject.priv.banners = { ...newObject.priv.banners, ...oldObject.priv.banners };\r\n  }\r\n  else if (keyName === KEY.UF_PLAYBACK_SETTINGS)\r\n  {\r\n    // Handle playback settings only properties here\r\n  }\r\n  \r\n  return mergedObject;\r\n}\r\n\r\nfunction deleteOrphanedKeys(oldObject, newObject)\r\n{\r\n  Object.keys(oldObject).forEach((key) => \r\n  {\r\n    if ((key in newObject) === false)\r\n    {\r\n      debug.log(`deleteOrphanedKeys(): Deleting '${key}'`);\r\n      delete oldObject[key];\r\n    }\r\n  });\r\n}\r\n\r\nfunction removeOrphanedObjectProps(oldObject, newObject, keyName)\r\n{\r\n  deleteOrphanedKeys(oldObject,      newObject);\r\n  deleteOrphanedKeys(oldObject.user, newObject.user);\r\n  deleteOrphanedKeys(oldObject.priv, newObject.priv);\r\n\r\n  if (keyName === KEY.UF_SITE_SETTINGS)\r\n  {\r\n    deleteOrphanedKeys(oldObject.priv.banners, newObject.priv.banners);\r\n  }\r\n  else if (keyName === KEY.UF_PLAYBACK_SETTINGS)\r\n  {\r\n    // Handle playback settings only keys / properties here\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Read and write settings proxy\r\n// ************************************************************************************************\r\n\r\nfunction readWriteSettingsProxy(settingsKey, defaultSettings = null, setDefault = false)\r\n{\r\n  const parsedJson = readJson(settingsKey, defaultSettings, setDefault);\r\n\r\n  if ((parsedJson !== null) && (defaultSettings !== null))\r\n  {\r\n    let settingsObject = null;\r\n    \r\n    // If version is new, perform object merge and cleanup\r\n    if (parsedJson.version < defaultSettings.version)\r\n    {\r\n      debug.log(parsedJson);\r\n      settingsObject = mergeObjectProps(parsedJson, defaultSettings, settingsKey);\r\n      removeOrphanedObjectProps(settingsObject, defaultSettings, settingsKey);\r\n      debug.log(settingsObject);\r\n\r\n      writeJson(settingsKey, settingsObject);\r\n    }\r\n    else\r\n    {\r\n      settingsObject = parsedJson;\r\n    }\r\n\r\n    return onSettingsChange(settingsKey, settingsObject);\r\n  }\r\n\r\n  debug.error(`readWriteSettingsProxy() failed for: ${settingsKey}`);\r\n\r\n  return null;\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Proxy traps (handlers) for settings get and set\r\n// ************************************************************************************************\r\n\r\nconst onSettingsChange = (settingsKey, settingsObject) =>\r\n{ \r\n  const handler =\r\n  {\r\n    get(target, property, receiver)\r\n    {\r\n    //debug.log(`onSettingsChange(): Get property: ${property}`);\r\n      \r\n      if (property in target)\r\n      {      \r\n        const value = Reflect.get(target, property, receiver);\r\n        \r\n        if (typeof value === 'object')\r\n          return new Proxy(value, handler);\r\n\r\n        return value;\r\n      }\r\n\r\n      debug.error(`onSettingsChange(): Get unknown property: ${property}`);\r\n    },\r\n    \r\n    set(target, property, newValue, receiver)\r\n    {\r\n    //debug.log(`onSettingsChange(): Set property: ${property}`);\r\n\r\n      if (property in target)\r\n      {\r\n        const oldValue = Reflect.get(target, property, receiver);\r\n\r\n        // Only update and write data if it has changed\r\n        if (newValue !== oldValue)\r\n        {\r\n          Reflect.set(target, property, newValue);\r\n          writeJson(settingsKey, settingsObject);\r\n          callSettingsObservers(property, oldValue, newValue);\r\n        }\r\n\r\n        return true;\r\n      }\r\n\r\n      debug.error(`onSettingsChange(): Set unknown property: ${property}`);\r\n      return true;\r\n    },\r\n  };\r\n\r\n  return new Proxy(settingsObject, handler);\r\n};\r\n\r\n\r\n// ************************************************************************************************\r\n// Add and call settings observers on property changes\r\n// ************************************************************************************************\r\n\r\nfunction addSettingsObserver(property, observer)\r\n{\r\n  debug.log(`addSettingsObserver() for property: ${property}`);\r\n\r\n  if ((property in observers) === false)\r\n    observers[property] = [];\r\n\r\n  observers[property].push(observer);\r\n}\r\n\r\nfunction callSettingsObservers(property, oldValue, newValue)\r\n{\r\n  if (property in observers)\r\n  {\r\n    debug.log(`callSettingsObserver() for property: ${property} - oldValue: ${oldValue} - newValue: ${newValue}`);\r\n    observers[property].forEach((observer) => observer(oldValue, newValue));\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Helper for windowEventStorage\r\n// ************************************************************************************************\r\n\r\nfunction parseEventData(event, keyName)\r\n{\r\n  let oldData = null;\r\n\r\n  if (event.key === keyName)\r\n  {\r\n    try \r\n    {\r\n      oldData = JSON.parse(event.oldValue);\r\n    }\r\n    catch(exception)\r\n    {\r\n      debug.error(exception);\r\n    }\r\n  }\r\n\r\n  return oldData;\r\n}\r\n\r\n", "//\r\n// Set and get storage values\r\n// Read, write and parse storage JSON data\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport * as debugLogger from '../shared/debuglogger.js';\r\n\r\n\r\nexport {\r\n//Constants\r\n  KEY,\r\n//Functions\r\n  isAvailable,\r\n  setCookie,\r\n  deleteCookie,\r\n  getValue,\r\n  setValue,\r\n  readJson,\r\n  writeJson,\r\n  readWriteSettingsProxy,\r\n  addSettingsObserver,\r\n  parseEventData,\r\n};\r\n\r\n\r\n/*************************************************************************************************/\r\n\r\n\r\nconst debug     = debugLogger.getInstance('storage');\r\nconst observers = {};\r\n\r\nconst KEY = {\r\n  UF_PLAYBACK_SETTINGS: 'UF_PLAYBACK_SETTINGS',\r\n  UF_SITE_SETTINGS:     'UF_SITE_SETTINGS',\r\n  UF_SITE_THEME:        'UF_SITE_THEME',\r\n  UF_TRACK_LAYOUT:      'UF_TRACK_LAYOUT',\r\n  UF_TRACKS_PER_PAGE:   'UF_TRACKS_PER_PAGE',\r\n};\r\n\r\n\r\n// ************************************************************************************************\r\n// https://developer.mozilla.org/en-US/docs/Web/API/Web_Storage_API/Using_the_Web_Storage_API\r\n// ************************************************************************************************\r\n\r\nfunction isAvailable(storageType)\r\n{\r\n  let storage;\r\n\r\n  try\r\n  {\r\n    storage = window[storageType];\r\n    const test = '__storage_test__';\r\n    storage.setItem(test, test);\r\n    storage.removeItem(test);\r\n    return true;\r\n  }\r\n  catch(exception)\r\n  {\r\n    return exception instanceof DOMException && (\r\n      // everything except Firefox\r\n      exception.code === 22 ||\r\n      // Firefox\r\n      exception.code === 1014 ||\r\n      // test name field too, because code might not be present\r\n      // everything except Firefox\r\n      exception.name === 'QuotaExceededError' ||\r\n      // Firefox\r\n      exception.name === 'NS_ERROR_DOM_QUOTA_REACHED') &&\r\n      // acknowledge QuotaExceededError only if there's something already stored\r\n      (storage && storage.length !== 0);\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Set and delete cookie key => value pairs\r\n// ************************************************************************************************\r\n\r\nfunction setCookie(keyName, keyValue = '', maxAge = (60 * 60 * 24 * 365), path = '/')\r\n{\r\n  document.cookie = `${keyName}=${keyValue}; Max-Age=${maxAge}; Path=${path}; Secure; SameSite=Strict`;\r\n}\r\n\r\nfunction deleteCookie(keyName, path = '/')\r\n{\r\n  document.cookie = `${keyName}=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=${path}`;\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// get / set local storage key => value pairs\r\n// ************************************************************************************************\r\n\r\nfunction getValue(keyName, defaultValue = null, setDefault = false)\r\n{\r\n  const keyValue = localStorage.getItem(keyName);\r\n\r\n  if (keyValue === null)\r\n  {\r\n    if (setDefault && (defaultValue !== null))\r\n      setValue(keyName, defaultValue);\r\n\r\n    return defaultValue;\r\n  }\r\n  \r\n  return keyValue;\r\n}\r\n\r\nfunction setValue(keyName, keyValue)\r\n{\r\n  try\r\n  {\r\n    localStorage.setItem(keyName, keyValue);\r\n  }\r\n  catch(exception)\r\n  {\r\n    debug.error(exception);\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Read (parse) and write (stringify) JSON data from local storage\r\n// ************************************************************************************************\r\n\r\nfunction readJson(keyName, defaultValue = null, setDefault = false)\r\n{\r\n  debug.log(`readJson(): ${keyName} - ${defaultValue} - ${setDefault}`);\r\n  \r\n  const keyValue     = localStorage.getItem(keyName);\r\n  let parsedKeyValue = null;\r\n\r\n  if (keyValue === null)\r\n  {\r\n    if (setDefault && (defaultValue !== null))\r\n      writeJson(keyName, defaultValue);\r\n\r\n    return defaultValue;\r\n  }\r\n  else\r\n  {\r\n    try\r\n    {\r\n      parsedKeyValue = JSON.parse(keyValue);\r\n    }\r\n    catch(exception)\r\n    {\r\n      debug.error(exception);\r\n\r\n      // ToDo: Return error state to specify (for the user) that default settings are used??\r\n      if (defaultValue !== null)\r\n        parsedKeyValue = defaultValue;\r\n    }\r\n  }\r\n\r\n  return parsedKeyValue;\r\n}\r\n\r\nfunction writeJson(keyName, keyData)\r\n{\r\n  debug.log(`writeJson(): ${keyName} - ${keyData}`);\r\n\r\n  try\r\n  {\r\n    localStorage.setItem(keyName, JSON.stringify(keyData));\r\n  }\r\n  catch(exception)\r\n  {\r\n    debug.error(exception);\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Merge and cleanup settings objects on new version\r\n// ************************************************************************************************\r\n\r\nfunction mergeObjectProps(oldObject, newObject, keyName)\r\n{\r\n  debug.log(`mergeObjectProps(): Merging ${keyName} from version ${oldObject.version} to version ${newObject.version}`);\r\n\r\n  const mergedObject = { ...oldObject,      ...newObject      };\r\n  mergedObject.user  = { ...newObject.user, ...oldObject.user };\r\n  mergedObject.priv  = { ...newObject.priv, ...oldObject.priv };\r\n\r\n  if (keyName === KEY.UF_SITE_SETTINGS)\r\n  {\r\n    mergedObject.priv.banners = { ...newObject.priv.banners, ...oldObject.priv.banners };\r\n  }\r\n  else if (keyName === KEY.UF_PLAYBACK_SETTINGS)\r\n  {\r\n    // Handle playback settings only properties here\r\n  }\r\n  \r\n  return mergedObject;\r\n}\r\n\r\nfunction deleteOrphanedKeys(oldObject, newObject)\r\n{\r\n  Object.keys(oldObject).forEach((key) => \r\n  {\r\n    if ((key in newObject) === false)\r\n    {\r\n      debug.log(`deleteOrphanedKeys(): Deleting '${key}'`);\r\n      delete oldObject[key];\r\n    }\r\n  });\r\n}\r\n\r\nfunction removeOrphanedObjectProps(oldObject, newObject, keyName)\r\n{\r\n  deleteOrphanedKeys(oldObject,      newObject);\r\n  deleteOrphanedKeys(oldObject.user, newObject.user);\r\n  deleteOrphanedKeys(oldObject.priv, newObject.priv);\r\n\r\n  if (keyName === KEY.UF_SITE_SETTINGS)\r\n  {\r\n    deleteOrphanedKeys(oldObject.priv.banners, newObject.priv.banners);\r\n  }\r\n  else if (keyName === KEY.UF_PLAYBACK_SETTINGS)\r\n  {\r\n    // Handle playback settings only keys / properties here\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Read and write settings proxy\r\n// ************************************************************************************************\r\n\r\nfunction readWriteSettingsProxy(settingsKey, defaultSettings = null, setDefault = false)\r\n{\r\n  const parsedJson = readJson(settingsKey, defaultSettings, setDefault);\r\n\r\n  if ((parsedJson !== null) && (defaultSettings !== null))\r\n  {\r\n    let settingsObject = null;\r\n    \r\n    // If version is new, perform object merge and cleanup\r\n    if (parsedJson.version < defaultSettings.version)\r\n    {\r\n      debug.log(parsedJson);\r\n      settingsObject = mergeObjectProps(parsedJson, defaultSettings, settingsKey);\r\n      removeOrphanedObjectProps(settingsObject, defaultSettings, settingsKey);\r\n      debug.log(settingsObject);\r\n\r\n      writeJson(settingsKey, settingsObject);\r\n    }\r\n    else\r\n    {\r\n      settingsObject = parsedJson;\r\n    }\r\n\r\n    return onSettingsChange(settingsKey, settingsObject);\r\n  }\r\n\r\n  debug.error(`readWriteSettingsProxy() failed for: ${settingsKey}`);\r\n\r\n  return null;\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Proxy traps (handlers) for settings get and set\r\n// ************************************************************************************************\r\n\r\nconst onSettingsChange = (settingsKey, settingsObject) =>\r\n{ \r\n  const handler =\r\n  {\r\n    get(target, property, receiver)\r\n    {\r\n    //debug.log(`onSettingsChange(): Get property: ${property}`);\r\n      \r\n      if (property in target)\r\n      {      \r\n        const value = Reflect.get(target, property, receiver);\r\n        \r\n        if (typeof value === 'object')\r\n          return new Proxy(value, handler);\r\n\r\n        return value;\r\n      }\r\n\r\n      debug.error(`onSettingsChange(): Get unknown property: ${property}`);\r\n    },\r\n    \r\n    set(target, property, newValue, receiver)\r\n    {\r\n    //debug.log(`onSettingsChange(): Set property: ${property}`);\r\n\r\n      if (property in target)\r\n      {\r\n        const oldValue = Reflect.get(target, property, receiver);\r\n\r\n        // Only update and write data if it has changed\r\n        if (newValue !== oldValue)\r\n        {\r\n          Reflect.set(target, property, newValue);\r\n          writeJson(settingsKey, settingsObject);\r\n          callSettingsObservers(property, oldValue, newValue);\r\n        }\r\n\r\n        return true;\r\n      }\r\n\r\n      debug.error(`onSettingsChange(): Set unknown property: ${property}`);\r\n      return true;\r\n    },\r\n  };\r\n\r\n  return new Proxy(settingsObject, handler);\r\n};\r\n\r\n\r\n// ************************************************************************************************\r\n// Add and call settings observers on property changes\r\n// ************************************************************************************************\r\n\r\nfunction addSettingsObserver(property, observer)\r\n{\r\n  debug.log(`addSettingsObserver() for property: ${property}`);\r\n\r\n  if ((property in observers) === false)\r\n    observers[property] = [];\r\n\r\n  observers[property].push(observer);\r\n}\r\n\r\nfunction callSettingsObservers(property, oldValue, newValue)\r\n{\r\n  if (property in observers)\r\n  {\r\n    debug.log(`callSettingsObserver() for property: ${property} - oldValue: ${oldValue} - newValue: ${newValue}`);\r\n    observers[property].forEach((observer) => observer(oldValue, newValue));\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Helper for windowEventStorage\r\n// ************************************************************************************************\r\n\r\nfunction parseEventData(event, keyName)\r\n{\r\n  let oldData = null;\r\n\r\n  if (event.key === keyName)\r\n  {\r\n    try \r\n    {\r\n      oldData = JSON.parse(event.oldValue);\r\n    }\r\n    catch(exception)\r\n    {\r\n      debug.error(exception);\r\n    }\r\n  }\r\n\r\n  return oldData;\r\n}\r\n\r\n", "//\r\n// Modal dialog UI module\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport * as debugLogger from '../shared/debuglogger.js';\r\n\r\n\r\nexport {\r\n  showModal,\r\n};\r\n\r\n\r\n/*************************************************************************************************/\r\n\r\n\r\nconst debug = debugLogger.getInstance('modal');\r\n\r\nconst mConfig = {\r\n  id: 'modal',\r\n};\r\n\r\nconst mTemplate = `\r\n  <div id=\"${mConfig.id}-dialog\" tabindex=\"-1\">\r\n    <div class=\"${mConfig.id}-container\">\r\n      <div class=\"${mConfig.id}-header\">\r\n        <div class=\"${mConfig.id}-title\"></div>\r\n        <div class=\"${mConfig.id}-close-button\"><span class=\"material-icons\" title=\"Dismiss\">close</span></div>\r\n      </div>\r\n      <div class=\"${mConfig.id}-body\"></div>\r\n    </div>\r\n  </div>\r\n`;\r\n\r\nconst mElements = {\r\n  overlay:   null,\r\n  container: null,\r\n  body:      null,\r\n};\r\n\r\nlet selectedClick = null;\r\n\r\n\r\n// ************************************************************************************************\r\n//\r\n// ************************************************************************************************\r\n\r\nfunction showModal(title, singleChoiceList, selectedClickCallback)\r\n{\r\n  debug.log(`showModal(): ${title}`);\r\n\r\n  init();\r\n  \r\n  selectedClick = selectedClickCallback;\r\n  setSingleChoiceList(singleChoiceList);\r\n\r\n  mElements.container.querySelector(`.${mConfig.id}-title`).innerHTML = title;\r\n  mElements.overlay.classList.add('show');\r\n  mElements.overlay.addEventListener('keydown', keyDown);\r\n  mElements.overlay.focus();\r\n  disablePageScrolling(true);\r\n}\r\n\r\nfunction init()\r\n{\r\n  if (mElements.container === null)\r\n  {\r\n    document.body.insertAdjacentHTML('beforeend', mTemplate);\r\n    \r\n    mElements.overlay   = document.getElementById(`${mConfig.id}-dialog`);\r\n    mElements.container = mElements.overlay.querySelector(`.${mConfig.id}-container`);\r\n    mElements.body      = mElements.overlay.querySelector(`.${mConfig.id}-body`);\r\n\r\n    mElements.overlay.addEventListener('click', (event) =>\r\n    {\r\n      if (event.target === mElements.overlay)\r\n        close();\r\n    });\r\n\r\n    mElements.overlay.addEventListener('animationend', () =>\r\n    {\r\n      if (mElements.overlay.classList.contains('hide'))\r\n      {\r\n        mElements.overlay.className = '';\r\n        disablePageScrolling(false);\r\n      }\r\n    });\r\n\r\n    mElements.overlay.querySelector(`.${mConfig.id}-close-button`).addEventListener('click', close);\r\n  }\r\n}\r\n\r\nfunction setSingleChoiceList(singleChoiceList)\r\n{\r\n  let listHtml = '';\r\n\r\n  singleChoiceList.forEach(entry => listHtml += `<div id=\"${entry.id}\" class=\"${mConfig.id}-single-choice\">${entry.description}</div>`);\r\n  mElements.body.innerHTML = listHtml;\r\n\r\n  singleChoiceList.forEach(entry => mElements.body.querySelector(`#${entry.id}`).addEventListener('click', singleChoiceListClick));\r\n}\r\n\r\nfunction singleChoiceListClick()\r\n{\r\n  close();\r\n  setTimeout(() => selectedClick(this.id), 150);\r\n}\r\n\r\nfunction keyDown(event)\r\n{\r\n  event.stopPropagation();\r\n\r\n  if (event.key === 'Escape')\r\n    close();\r\n}\r\n\r\nfunction close()\r\n{\r\n  mElements.overlay.removeEventListener('keydown', keyDown);\r\n  mElements.overlay.classList.replace('show', 'hide');\r\n}\r\n\r\nfunction disablePageScrolling(disable)\r\n{\r\n  const scrollbarWidth = window.innerWidth - document.documentElement.clientWidth;\r\n  document.body.style.overflow     = disable ? 'hidden' : '';\r\n  document.body.style.paddingRight = disable ? `${scrollbarWidth}px` : '';\r\n  document.getElementById('site-header').style.paddingRight = disable ? `${scrollbarWidth}px` : '';\r\n}\r\n", "//\r\n// Ultrafunk site interaction\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport * as debugLogger  from '../shared/debuglogger.js';\r\nimport * as utils        from '../shared/utils.js';\r\nimport { showModal }     from '../shared/modal.js';\r\nimport { showSnackbar }  from '../shared/snackbar.js';\r\nimport { KEY, setValue } from '../shared/storage.js';\r\n\r\n\r\nexport {\r\n  init,\r\n  settingsUpdated,\r\n  siteTheme,\r\n  trackLayout,\r\n};\r\n\r\n\r\n/*************************************************************************************************/\r\n\r\n\r\nconst debug  = debugLogger.getInstance('site-interaction');\r\nlet settings = {};\r\n\r\n\r\n// ************************************************************************************************\r\n//\r\n// ************************************************************************************************\r\n\r\nfunction init(siteSettings)\r\n{\r\n  debug.log('init()');\r\n\r\n  settings = siteSettings;\r\n  \r\n  trackShare.addEventListeners();\r\n  siteTheme.init();\r\n  trackLayout.init();\r\n}\r\n\r\nfunction settingsUpdated(updatedSettings)\r\n{\r\n  settings = updatedSettings;\r\n  siteTheme.setCurrent();\r\n  trackLayout.setCurrent();\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Site theme handling\r\n// ************************************************************************************************\r\n\r\nconst siteTheme = (() =>\r\n{\r\n  let currentTheme = {};\r\n  const elements   = { toggle: null };\r\n\r\n  const config = {\r\n    toggleId:       '#footer-site-theme-toggle',\r\n    prefDarkScheme: '(prefers-color-scheme: dark)',\r\n  };\r\n  \r\n  const themes = {\r\n    light: { id: 'light', text: 'light', class: 'site-theme-light' },\r\n    dark:  { id: 'dark',  text: 'dark',  class: 'site-theme-dark'  },\r\n    auto:  { id: 'auto',  text: 'auto'                             }, // This has no CSS class since auto is always light or dark\r\n  };\r\n\r\n  return {\r\n    init,\r\n    setCurrent,\r\n    toggle,\r\n  };\r\n\r\n  function init()\r\n  {\r\n    elements.toggle = document.querySelector(config.toggleId);\r\n    const mediaQueryList = window.matchMedia(config.prefDarkScheme);\r\n    mediaQueryList.addEventListener('change', matchMediaPrefColorScheme);\r\n    utils.addEventListeners(config.toggleId, 'click', toggle);\r\n    setCurrent();\r\n  }\r\n  \r\n  function setCurrent()\r\n  {\r\n    currentTheme = getCurrentSetting(themes, settings.user.theme, themes.auto);\r\n    updateData();\r\n  }\r\n  \r\n  function matchMediaPrefColorScheme()\r\n  {\r\n    if (currentTheme.id === themes.auto.id)\r\n      updateData();\r\n  }\r\n  \r\n  function toggle(event)\r\n  {\r\n    event.preventDefault();\r\n    currentTheme = getNextSetting(themes, currentTheme);\r\n    settings.user.theme = currentTheme.id;\r\n    updateData();  \r\n  }\r\n  \r\n  function updateData()\r\n  {\r\n    let newTheme = currentTheme;\r\n  \r\n    if (currentTheme.id === themes.auto.id)\r\n      newTheme = window.matchMedia(config.prefDarkScheme).matches ? themes.dark : themes.light;\r\n  \r\n    setValue(KEY.UF_SITE_THEME, newTheme.id);\r\n    updateDOM(newTheme);\r\n  }\r\n  \r\n  function updateDOM(newTheme)\r\n  {\r\n    // Only update DOM if something has actually changed...\r\n    if (document.documentElement.classList.contains(newTheme.class) === false)\r\n    {\r\n      debug.log(`updateDOM() - newSiteTheme: ${newTheme.id}`);\r\n    \r\n      document.documentElement.classList.remove(themes.light.class, themes.dark.class);\r\n      document.documentElement.classList.add(newTheme.class);\r\n    }\r\n\r\n    // Always update this because AUTO is not a separate class (only DARK + LIGHT are classes)\r\n    elements.toggle.querySelector('span').textContent = currentTheme.text;\r\n  }\r\n})();\r\n\r\n\r\n// ************************************************************************************************\r\n// Track layout handling\r\n// ************************************************************************************************\r\n\r\nconst trackLayout = (() =>\r\n{\r\n  let currentLayout = {};\r\n  const elements    = { toggle: null };\r\n\r\n  const config = {\r\n    toggleId: '#footer-track-layout-toggle',\r\n    minWidth: `(max-width: ${utils.getCssPropString('--site-content-track-layout-min-width')})`,\r\n  };\r\n\r\n  const layouts = {\r\n    list:        { id: 'list',     text: 'list',         class: 'track-layout-list'     },\r\n    twoColumn:   { id: '2-column', text: '2 column',     class: 'track-layout-2-column' },\r\n    threeColumn: { id: '3-column', text: '3 / 4 column', class: 'track-layout-3-column' },\r\n  };\r\n\r\n  return {\r\n    init,\r\n    setCurrent,\r\n    toggle,\r\n  };\r\n\r\n  function init()\r\n  {\r\n    elements.toggle = document.querySelector(config.toggleId);\r\n    const mediaQueryList = window.matchMedia(config.minWidth);\r\n    mediaQueryList.addEventListener('change', matchMediaMinWidth);\r\n    utils.addEventListeners(config.toggleId, 'click', toggle);\r\n    setCurrent();\r\n  }\r\n\r\n  function setCurrent()\r\n  {\r\n    currentLayout = getCurrentSetting(layouts, settings.user.trackLayout, layouts.threeColumn);\r\n    elements.toggle.querySelector('span').textContent = currentLayout.text;\r\n    updateData();\r\n  }\r\n  \r\n  function matchMediaMinWidth(event)\r\n  {\r\n    event.matches ? document.documentElement.classList.remove(currentLayout.class) : document.documentElement.classList.add(currentLayout.class);\r\n  }\r\n  \r\n  function toggle(event, scrollIntoView = false)\r\n  {\r\n    event.preventDefault();\r\n    currentLayout = getNextSetting(layouts, currentLayout);\r\n    settings.user.trackLayout = currentLayout.id;\r\n    updateData();\r\n    if (scrollIntoView) elements.toggle.scrollIntoView();\r\n  }\r\n  \r\n  function updateData()\r\n  {\r\n    setValue(KEY.UF_TRACK_LAYOUT, currentLayout.id);\r\n    updateDOM();\r\n  }\r\n  \r\n  function updateDOM()\r\n  {\r\n    // Only update DOM if something has actually changed...\r\n    if (document.documentElement.classList.contains(currentLayout.class) === false)\r\n    {\r\n      debug.log(`updateDOM() - newTrackLayout: ${currentLayout.id}`);\r\n    \r\n      document.documentElement.classList.remove(layouts.list.class, layouts.twoColumn.class, layouts.threeColumn.class);\r\n  \r\n      if (window.matchMedia(config.minWidth).matches === false)\r\n        document.documentElement.classList.add(currentLayout.class);\r\n    \r\n      elements.toggle.querySelector('span').textContent = currentLayout.text;\r\n    }\r\n  }\r\n})();\r\n\r\n\r\n// ************************************************************************************************\r\n// Site theme and layout settings helpers\r\n// ************************************************************************************************\r\n\r\nfunction getCurrentSetting(settings, currentId, defaultSetting)\r\n{\r\n  const setting = Object.values(settings).find(value => value.id === currentId);\r\n  return ((setting !== undefined) ? setting : defaultSetting);\r\n}\r\n\r\nfunction getNextSetting(settings, currentSetting)\r\n{\r\n  const index = Object.values(settings).findIndex(value => value.id === currentSetting.id);\r\n  const keys  = Object.keys(settings);\r\n  return (((index + 1) < keys.length) ? settings[keys[index + 1]] : settings[keys[0]]);\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Track share module\r\n// ************************************************************************************************\r\n\r\nconst trackShare = (() =>\r\n{\r\n  let trackTitle = null;\r\n  let trackUrl   = null;\r\n  const separatorRegEx = /\\s{1,}[\u2013\u00B7-]\\s{1,}/i;\r\n\r\n  const singleChoiceList = [\r\n    { id: 'copyToClipboard',    description: '<b>Copy Link</b> to Clipboard' },\r\n    { id: 'shareOnEmail',       description: '<b>Share</b> on Email'         },\r\n    { id: 'playOnAmazonMusic',  description: '<b>Play</b> on Amazon Music'   },\r\n    { id: 'playOnAppleMusic',   description: '<b>Play</b> on Apple Music'    },\r\n    { id: 'playOnSpotify',      description: '<b>Play</b> on Spotify'        },\r\n    { id: 'playOnTidal',        description: '<b>Play</b> on Tidal'          },\r\n    { id: 'playOnYouTubeMusic', description: '<b>Play</b> on YouTube Music'  },\r\n  ];\r\n\r\n  return {\r\n    addEventListeners,\r\n    click,\r\n  };\r\n  \r\n  function addEventListeners()\r\n  {\r\n    utils.addEventListeners('.entry-meta-controls .track-share-control', 'click', click);\r\n  }\r\n\r\n  function click(event)\r\n  {\r\n    trackTitle = event.target.getAttribute('data-entry-track-title');\r\n    trackUrl   = event.target.getAttribute('data-entry-track-url');\r\n    showModal('Share / Play Track', singleChoiceList, singleChoiceListClick);\r\n  }\r\n\r\n  function singleChoiceListClick(clickId)\r\n  {\r\n    debug.log(`singleChoiceListClick(): ${clickId} - trackTitle: ${trackTitle} - trackUrl: ${trackUrl}`);\r\n\r\n    const searchString = encodeURIComponent(trackTitle.replace(separatorRegEx, ' '));\r\n\r\n    switch (clickId)\r\n    {\r\n      case 'copyToClipboard':\r\n        navigator.clipboard.writeText(trackUrl).then(() =>\r\n        {\r\n          showSnackbar('Track link copied to the clipboard', 3);\r\n        },\r\n        (reason) =>\r\n        {\r\n          debug.error(`trackShare.copyToClipboard() failed because ${reason}`);\r\n          showSnackbar('Failed to copy Track link to the clipboard', 5);\r\n        });\r\n        break;\r\n\r\n      case 'shareOnEmail':\r\n        window.location.href = `mailto:?subject=${encodeURIComponent(trackTitle)}&body=${trackUrl}%0d%0a`;\r\n        break;\r\n\r\n      case 'playOnAmazonMusic':\r\n        window.open(`https://music.amazon.com/search/${searchString}`, \"_blank\");\r\n        break;\r\n\r\n      case 'playOnAppleMusic':\r\n        window.open(`https://music.apple.com/ca/search?term=${searchString}`, \"_blank\");\r\n        break;\r\n\r\n      case 'playOnSpotify':\r\n        window.open(`https://open.spotify.com/search/${searchString}`, \"_blank\");\r\n        break;\r\n\r\n      case 'playOnTidal':\r\n        window.open(`https://google.com/search?q=${searchString}%20site:tidal.com`, \"_blank\");\r\n        break;\r\n\r\n      case 'playOnYouTubeMusic':\r\n        window.open(`https://music.youtube.com/search?q=${searchString}`, \"_blank\");\r\n        break;\r\n    }\r\n  }\r\n})();\r\n", "//\r\n// Ultrafunk theme JavaScript\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport * as debugLogger from './shared/debuglogger.js';\r\nimport * as storage     from './shared/storage.js';\r\nimport * as utils       from './shared/utils.js';\r\nimport * as interaction from './site/interaction.js';\r\n\r\nimport {\r\n  siteSettings,\r\n  siteUserSchema,\r\n  siteBannersSchema,\r\n  validateSettings,\r\n} from './shared/settings.js';\r\n\r\n\r\n/*************************************************************************************************/\r\n\r\n\r\nconst debug   = debugLogger.getInstance('index');\r\nlet mSettings = {};\r\n\r\nconst mConfig = {\r\n  smoothScrolling:      false,\r\n  settingsUpdatedEvent: 'settingsUpdated',\r\n};\r\n\r\nconst mElements = {\r\n  siteHeader:        null,\r\n  introBanner:       null,\r\n  siteContent:       null,\r\n  siteContentSearch: null,\r\n};\r\n\r\n\r\n// ************************************************************************************************\r\n// Document ready and document / window event listeners\r\n// ************************************************************************************************\r\n\r\ndocument.addEventListener('DOMContentLoaded', () =>\r\n{ \r\n  debug.log('DOMContentLoaded');\r\n\r\n  readSettings();\r\n  initIndex();\r\n  \r\n  if (mElements.introBanner !== null)\r\n    showIntroBanner();\r\n  \r\n  if (document.querySelector('#site-content form.search-form') !== null)\r\n  {\r\n    mElements.siteContentSearch.focus();\r\n    mElements.siteContentSearch.setSelectionRange(9999, 9999);\r\n  }\r\n\r\n  resize.setTopMargin();\r\n  resize.setLastInnerWidth(window.innerWidth);\r\n  \r\n  setPreviousPageTitle();\r\n});\r\n\r\ndocument.addEventListener(mConfig.settingsUpdatedEvent, () =>\r\n{\r\n  readSettings();\r\n  interaction.settingsUpdated(mSettings);\r\n  storage.setCookie(storage.KEY.UF_TRACKS_PER_PAGE, mSettings.user.tracksPerPage, (60 * 60 * 24 * 365 * 5));\r\n});\r\n\r\nwindow.addEventListener('load', () => resize.setTopMargin());\r\nwindow.addEventListener('storage', windowEventStorage);\r\n\r\n\r\n// ************************************************************************************************\r\n// Read settings and index init\r\n// ************************************************************************************************\r\n\r\nfunction readSettings()\r\n{\r\n  debug.log('readSettings()');\r\n  mSettings = storage.readWriteSettingsProxy(storage.KEY.UF_SITE_SETTINGS, siteSettings, true);\r\n  validateSettings(mSettings.user, siteUserSchema);\r\n  validateSettings(mSettings.priv.banners, siteBannersSchema);\r\n  debug.log(mSettings);\r\n}\r\n\r\nfunction initIndex()\r\n{\r\n  debug.log('initIndex()');\r\n\r\n  mElements.siteHeader        = document.getElementById('site-header');\r\n  mElements.introBanner       = document.getElementById('intro-banner');\r\n  mElements.siteContent       = document.getElementById('site-content');\r\n  mElements.siteContentSearch = document.querySelector('#site-content form input.search-field');\r\n\r\n  resize.addEventListener();\r\n  scroll.addEventListener();\r\n\r\n  interaction.init(mSettings);\r\n  navSearch.init();\r\n  navMenu.init();\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Keyboard events handling\r\n// ************************************************************************************************\r\n\r\ndocument.addEventListener('keydown', (event) =>\r\n{\r\n  // UI keyboard events (cannot be disable by the user)\r\n  if ((event.ctrlKey === false) && (event.altKey === false))\r\n  {\r\n    switch (event.key)\r\n    {\r\n      case 'Escape':\r\n        if (navMenu.isVisible())\r\n        {\r\n          event.preventDefault();\r\n          navMenu.toggle();\r\n        }\r\n        return;\r\n    }\r\n  }\r\n\r\n  // User enabled keyboard shortcuts (on by default)\r\n  if (mSettings.user.keyboardShortcuts && (event.ctrlKey === false) && (event.altKey === false))\r\n  {\r\n    switch (event.key)\r\n    {\r\n      case 'c':\r\n      case 'C':\r\n        if (searchNotFocused())\r\n        {\r\n          event.preventDefault();\r\n          navMenu.toggle();\r\n        }\r\n        break;\r\n\r\n      case 'L':\r\n        if (searchNotFocused() && notSettingsPage())\r\n        {\r\n          interaction.trackLayout.toggle(event, false);\r\n          resize.setTopMargin();\r\n        }\r\n        break;\r\n\r\n      case 's':\r\n      case 'S':\r\n        if (searchNotFocused())\r\n        {\r\n          event.preventDefault();\r\n          navSearch.toggle();\r\n        }\r\n        break;\r\n\r\n      case 'T':\r\n        if (searchNotFocused() && notSettingsPage())\r\n        {\r\n          interaction.siteTheme.toggle(event);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n});\r\n\r\nfunction searchNotFocused()\r\n{\r\n  return ((navSearch.isVisible() === false) && (mElements.siteContentSearch !== document.activeElement));\r\n}\r\n\r\nfunction notSettingsPage()\r\n{\r\n  return (document.body.classList.contains('page-template-page-settings') === false);\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Misc. support functions\r\n// ************************************************************************************************\r\n\r\nfunction windowEventStorage(event)\r\n{\r\n  if (mSettings.storageChangeSync)\r\n  {\r\n    const oldSettings = storage.parseEventData(event, storage.KEY.UF_SITE_SETTINGS);\r\n\r\n    if (oldSettings !== null)\r\n    {\r\n      debug.log(`windowEventStorage(): ${event.key}`);\r\n  \r\n      // Stored settings have changed, read updated settings from storage\r\n      readSettings();\r\n  \r\n      // Check what has changed (old settings vs. new settings) and update data / UI where needed\r\n      if (mSettings.user.theme !== oldSettings.user.theme)\r\n        interaction.siteTheme.setCurrent();\r\n  \r\n      if (mSettings.user.trackLayout !== oldSettings.user.trackLayout)\r\n        interaction.trackLayout.setCurrent();\r\n    }\r\n  }\r\n}\r\n\r\nfunction showIntroBanner()\r\n{\r\n  // Only show intro banners if they can be permanently dismissed\r\n  if (storage.isAvailable('localStorage'))\r\n  {\r\n    if ((typeof bannerProperty !== 'undefined') && (bannerProperty !== null)) // eslint-disable-line no-undef\r\n    {\r\n      if (mSettings.priv.banners[bannerProperty]) // eslint-disable-line no-undef\r\n      {\r\n        mElements.introBanner.style.display = 'block';\r\n  \r\n        utils.addEventListeners('#intro-banner .intro-banner-close-button', 'click', () =>\r\n        {\r\n          mElements.introBanner.style.display = '';\r\n          resize.setTopMargin();\r\n          mSettings.priv.banners[bannerProperty] = false; // eslint-disable-line no-undef\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction setPreviousPageTitle()\r\n{\r\n  if (document.querySelector('.nav-bar-title .go-back-to') !== null)\r\n  {\r\n    let pathString = '';\r\n\r\n    if (document.referrer.length === 0)\r\n    {\r\n      pathString = 'Previous Page';\r\n    }\r\n    else\r\n    {\r\n      const referrerUrlParts = new URL(decodeURIComponent(document.referrer));\r\n\r\n      if (referrerUrlParts.search.length !== 0)\r\n      {\r\n        pathString = 'Search Results';\r\n      }\r\n      else if (referrerUrlParts.pathname.length > 1)\r\n      {\r\n        const endSlash  = (referrerUrlParts.pathname.slice(-1) === '/') ? 1 : 0;\r\n        const pathParts = referrerUrlParts.pathname.slice(1, referrerUrlParts.pathname.length - endSlash).replace(/-/gi, ' ').split('/');\r\n        pathParts.forEach((part, index) => pathString += ((index + 1) < pathParts.length) ? part + ' / ' : part);\r\n      }\r\n    }\r\n\r\n    document.querySelectorAll('#site-navigation .nav-bar-title').forEach(element =>\r\n    {\r\n      element.querySelector('.go-back-title').textContent = (pathString.length > 0) ? pathString : 'Ultrafunk (home)';\r\n      element.querySelector('.go-back-to').style.opacity  = 1;\r\n    });\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Main navigation menu handling\r\n// ************************************************************************************************\r\n\r\nconst navMenu = (() =>\r\n{\r\n  const observer  = new ResizeObserver(observerCallback);\r\n  const elements  = { navMenu: null, modalOverlay: null };\r\n  let isVisible   = false;\r\n\r\n  return {\r\n    isVisible()   { return isVisible;                    },\r\n    scrolledTop() { elements.navMenu.style.display = ''; },\r\n    init,\r\n    toggle,\r\n  };\r\n\r\n  function init()\r\n  {\r\n    elements.navMenu      = document.querySelector('#site-navigation .nav-menu-outer');\r\n    elements.modalOverlay = document.getElementById('nav-menu-modal-overlay');\r\n\r\n    utils.addEventListeners('.nav-menu-toggle', 'click', toggle);\r\n    elements.modalOverlay.addEventListener('click', toggle);\r\n    elements.modalOverlay.addEventListener('transitionend', transitionEnd);\r\n    observer.observe(elements.navMenu.querySelector('.menu-primary-menu-container'));\r\n  }\r\n\r\n  function toggle()\r\n  {\r\n    if (mElements.siteHeader.classList.contains('sticky-nav-up'))\r\n    {\r\n      isVisible ? elements.navMenu.style.display = 'none' : elements.navMenu.style.display = 'flex';\r\n    }\r\n    else\r\n    {\r\n      if (mElements.siteHeader.classList.contains('sticky-nav-down') === false)\r\n        mElements.siteHeader.classList.toggle('hide-nav-menu');\r\n    }\r\n  }\r\n\r\n  function observerCallback(entries)\r\n  {\r\n    isVisible = (entries[0].contentRect.height !== 0) ? true : false;\r\n\r\n    if (isVisible)\r\n    {\r\n      elements.modalOverlay.className = '';\r\n      elements.modalOverlay.classList.add('show');\r\n      setTimeout(() => elements.modalOverlay.classList.add('fadein'), 50);\r\n    }\r\n    else\r\n    {\r\n      elements.modalOverlay.classList.add('fadeout');\r\n    }\r\n  }\r\n\r\n  function transitionEnd()\r\n  {\r\n    if (isVisible === false)\r\n    {\r\n      elements.modalOverlay.className = '';\r\n      elements.navMenu.style.display  = '';\r\n    }\r\n  }\r\n})();\r\n\r\n\r\n// ************************************************************************************************\r\n// Main navigation search handling\r\n// ************************************************************************************************\r\n\r\nconst navSearch = (() =>\r\n{\r\n  const allowKeyboardShortcuts = new Event('allowKeyboardShortcuts');\r\n  const denyKeyboardShortcuts  = new Event('denyKeyboardShortcuts');\r\n  const elements = { searchContainer: null, searchField: null };\r\n  let isVisible  = false;\r\n\r\n  return {\r\n    isVisible() { return isVisible; },\r\n    init,\r\n    toggle,\r\n    hide,\r\n  };\r\n\r\n  function init()\r\n  {\r\n    elements.searchContainer = document.getElementById('search-container');\r\n    elements.searchField     = elements.searchContainer.querySelector('.search-field');\r\n\r\n    utils.addEventListeners('.nav-search-toggle', 'click', toggle);\r\n    // To prevent extra 'blur' event before 'click' event\r\n    utils.addEventListeners('.nav-search-toggle', 'mousedown', (event) => event.preventDefault());\r\n    // Hide nav search bar on focus loss\r\n    elements.searchField.addEventListener('blur', hide);\r\n    \r\n    // Hide nav search bar on ESC\r\n    elements.searchField.addEventListener('keydown', (event) =>\r\n    {\r\n      if (event.key === 'Escape')\r\n      {\r\n        event.stopPropagation();\r\n        hide();\r\n      }\r\n    });\r\n  }\r\n\r\n  function toggle()\r\n  {\r\n    if (elements.searchContainer.style.display.length === 0)\r\n    {\r\n      if (utils.matchesMedia(utils.MATCH.SITE_MAX_WIDTH_MOBILE) && (scroll.getLastScrollTop() > 0))\r\n      {\r\n        // ToDo: This will not be smooth on iOS... Needs polyfill\r\n        window.scroll(\r\n        {\r\n          top:      0,\r\n          left:     0,\r\n          behavior: (mConfig.smoothScrolling ? 'smooth' : 'auto'),\r\n        });\r\n      }\r\n  \r\n      show();\r\n    }\r\n    else\r\n    {\r\n      hide();\r\n    }\r\n  }\r\n  \r\n  function hide()\r\n  {\r\n    if (isVisible)\r\n      setProps(false, allowKeyboardShortcuts, '', 'search');\r\n  }\r\n  \r\n  function show()\r\n  {\r\n    if (utils.matchesMedia(utils.MATCH.SITE_MAX_WIDTH_MOBILE) && (scroll.getLastScrollTop() !== 0))\r\n    {\r\n      // Wait until we are at the top before showing search bar, quick & dirty...\r\n      window.requestAnimationFrame(show);\r\n    }\r\n    else\r\n    {\r\n      setPosSize();\r\n      setProps(true, denyKeyboardShortcuts, 'flex', 'clear');\r\n      elements.searchField.focus();\r\n      elements.searchField.setSelectionRange(9999, 9999);    \r\n    }\r\n  }\r\n  \r\n  function setProps(visible, keyboardShortcuts, display, icon)\r\n  {\r\n    isVisible = visible;\r\n    document.dispatchEvent(keyboardShortcuts);\r\n    elements.searchContainer.style.display = display;\r\n    document.querySelectorAll('div.nav-search-toggle i').forEach(element => element.textContent = icon);\r\n  }\r\n  \r\n  function setPosSize()\r\n  {\r\n    let position = DOMRect;\r\n  \r\n    if (utils.matchesMedia(utils.MATCH.SITE_MAX_WIDTH_MOBILE))\r\n    {\r\n      position.top    = document.body.classList.contains('no-playback') ? 15 : 21;\r\n      position.left   = 68;\r\n      position.right  = document.body.clientWidth - 65;\r\n      position.height = 30;\r\n    }\r\n    else\r\n    {\r\n      position = document.querySelector('div.site-branding-container').getBoundingClientRect();\r\n    }\r\n  \r\n    elements.searchContainer.style.top    = `${position.top}px`;\r\n    elements.searchContainer.style.left   = `${position.left}px`;\r\n    elements.searchContainer.style.width  = `${position.right - position.left}px`;\r\n    elements.searchContainer.style.height = `${position.height}px`;\r\n  }\r\n})();\r\n\r\n\r\n// ************************************************************************************************\r\n// window.addEventListener('resize') handling\r\n// ************************************************************************************************\r\n\r\nconst resize = (() =>\r\n{\r\n  let headerHeight   = 0;\r\n  let lastInnerWidth = 0;\r\n\r\n  return {\r\n    getHeaderHeight()             { return headerHeight;         },\r\n    setLastInnerWidth(innerWidth) { lastInnerWidth = innerWidth; },\r\n    addEventListener,\r\n    setTopMargin,\r\n  };\r\n\r\n  function addEventListener()\r\n  {\r\n    window.addEventListener('resize', () =>\r\n    {\r\n      const innerWidth = window.innerWidth;\r\n  \r\n      if (lastInnerWidth !== innerWidth)\r\n      {\r\n        setTopMargin();\r\n        lastInnerWidth = innerWidth;\r\n      }\r\n    });\r\n  }\r\n  \r\n  function setTopMargin()\r\n  {\r\n    const contentMarginTop = utils.getCssPropValue('--site-content-margin-top');\r\n    \r\n    if (mElements.siteHeader.classList.contains('hide-nav-menu'))\r\n      headerHeight = mElements.siteHeader.offsetHeight;\r\n\r\n    if ((mElements.introBanner !== null) && (mElements.introBanner.style.display.length !== 0))\r\n    {\r\n      mElements.introBanner.style.marginTop = `${headerHeight}px`;\r\n      mElements.siteContent.style.marginTop = `${contentMarginTop}px`;\r\n    }\r\n    else\r\n    {\r\n      mElements.siteContent.style.marginTop = `${headerHeight + contentMarginTop}px`;\r\n    }\r\n  }\r\n})();\r\n\r\n\r\n// ************************************************************************************************\r\n// window.addEventListener('scroll') handling\r\n// ************************************************************************************************\r\n\r\nconst scroll = (() =>\r\n{\r\n  let lastScrollTop  = 0;\r\n  let isScrolledDown = false;\r\n\r\n  return {\r\n    getLastScrollTop() { return lastScrollTop; },\r\n    addEventListener,\r\n  };\r\n\r\n  function addEventListener()\r\n  {\r\n    window.addEventListener('scroll', () =>\r\n    {\r\n      const scrollTop          = window.pageYOffset;\r\n      const scrollDownMenuHide = Math.round((resize.getHeaderHeight() > 150) ? (resize.getHeaderHeight() / 2) : (resize.getHeaderHeight() / 3));\r\n    \r\n      if (scrollTop < 1)\r\n        scrolledTop();\r\n      else if ((scrollTop > scrollDownMenuHide) && (scrollTop > lastScrollTop))\r\n        scrolledDown();\r\n      else\r\n        scrolledUp();\r\n      \r\n      // Hide navigation search form on any scroll event\r\n      navSearch.hide();\r\n    \r\n      lastScrollTop = scrollTop;\r\n    });\r\n  }\r\n\r\n  function scrolledTop()\r\n  {\r\n    mElements.siteHeader.classList.remove('sticky-nav-down', 'sticky-nav-up');\r\n    mElements.siteHeader.classList.add('hide-nav-menu');\r\n    navMenu.scrolledTop();\r\n    resize.setTopMargin();\r\n  }\r\n\r\n  function scrolledDown()\r\n  {\r\n    if (isScrolledDown === false)\r\n    {\r\n      isScrolledDown = true;\r\n      utils.replaceClass(mElements.siteHeader, 'sticky-nav-up', 'sticky-nav-down');\r\n    }\r\n  }\r\n\r\n  function scrolledUp()\r\n  {\r\n    if (isScrolledDown === true)\r\n    {\r\n      isScrolledDown = false;\r\n      utils.replaceClass(mElements.siteHeader, 'sticky-nav-down', 'sticky-nav-up');\r\n    }\r\n\r\n    if (navMenu.isVisible())\r\n      navMenu.toggle();\r\n  }\r\n})();\r\n"],
  "mappings": "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",
  "names": []
}
