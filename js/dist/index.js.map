{
  "version": 3,
  "sources": ["../src/site/term-rest.js", "../src/site/termlist.js", "../src/index.js"],
  "sourcesContent": ["//\r\n// Term REST data fetch and caching\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport * as debugLogger from '../shared/debuglogger.js';\r\nimport { KEY }          from '../shared/storage.js';\r\n\r\n\r\nexport {\r\n  fetchPosts,\r\n  fetchMeta,\r\n  readCache,\r\n  writeCache,\r\n  deleteCache,\r\n  hasCache,\r\n};\r\n\r\n\r\n/*************************************************************************************************/\r\n\r\n\r\nconst debug   = debugLogger.newInstance('term-rest');\r\nlet termCache = {};\r\n\r\n\r\n// ************************************************************************************************\r\n// Fetch tracks (posts) for a given termType with termId (taxonomy: category or tag)\r\n// ************************************************************************************************\r\n\r\nfunction fetchPosts(termType, termId, maxItems, callback)\r\n{ \r\n  if (termId in termCache)\r\n  {\r\n    callback(termCache[termId].posts);\r\n  }\r\n  else\r\n  {\r\n    debug.log(`fetchPosts() - termType: ${termType} - termId: ${termId} - maxItems: ${maxItems}`);\r\n\r\n    fetch(`/wp-json/wp/v2/posts?${termType}=${termId}&per_page=${maxItems}&_fields=title,link,content,tags,categories`)\r\n    .then(response => \r\n    {\r\n      if (!response.ok)\r\n      {\r\n        debug.error(response);\r\n        return null;\r\n      }\r\n      \r\n      return response.json();\r\n    })\r\n    .then(data =>\r\n    {\r\n      termCache[termId] = { posts: data };\r\n      callback(data);\r\n    })\r\n    .catch(reason =>\r\n    {\r\n      debug.warn(reason);\r\n      callback(null);\r\n    });\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Merge then fetch metadata for a given termType with termIds (taxonomy: category or tag)\r\n// ************************************************************************************************\r\n\r\nfunction fetchMeta(termData, termId, maxItems, callback)\r\n{\r\n  if (('categories' in termCache[termId]) && ('tags' in termCache[termId]))\r\n  {\r\n    callback('categories', termCache[termId].categories);\r\n    callback('tags',       termCache[termId].tags);\r\n  }\r\n  else\r\n  {\r\n    const categories = [];\r\n    let   tags       = [];\r\n  \r\n    termData.forEach(item =>\r\n    {\r\n      categories.push.apply(categories, item.categories);\r\n      tags.push.apply(tags, item.tags);\r\n    });\r\n  \r\n    tags = tags.filter(item => (item !== termId));\r\n  \r\n    fetchMetadata('categories', termId, [...new Set(categories)], maxItems, callback);\r\n    fetchMetadata('tags',       termId, [...new Set(tags)],       maxItems, callback);\r\n  }\r\n}\r\n\r\nfunction fetchMetadata(termType, termId, termIds, maxItems, callback)\r\n{\r\n  /*\r\n  if ((termId in termCache) === false)\r\n    termCache[termId] = {};\r\n  */\r\n\r\n  if (termIds.length > 0)\r\n  {\r\n    debug.log(`fetchMetadata() - termType: ${termType} - termIds: ${(termIds.length > 0) ? termIds : 'Empty'} - maxItems: ${maxItems}`);\r\n\r\n    fetch(`/wp-json/wp/v2/${termType}?include=${termIds.join(',')}&per_page=${maxItems}&_fields=link,name`)\r\n    .then(response => \r\n    {\r\n      if (!response.ok)\r\n      {\r\n        debug.error(response);\r\n        return null;\r\n      }\r\n      \r\n      return response.json();\r\n    })\r\n    .then(data =>\r\n    {\r\n      termCache[termId][termType] = data;\r\n      callback(termType, data);\r\n    })\r\n    .catch(reason =>\r\n    {\r\n      debug.warn(reason);\r\n      callback(null);\r\n    });\r\n  }\r\n  else\r\n  {\r\n    termCache[termId][termType] = null;\r\n    callback(termType, null);\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Term cache functions\r\n// ************************************************************************************************\r\n\r\nfunction readCache()\r\n{\r\n  termCache = JSON.parse(sessionStorage.getItem(KEY.UF_TERMLIST_CACHE));\r\n  \r\n  if (termCache === null)\r\n    termCache = {};\r\n}\r\n\r\nfunction writeCache()\r\n{\r\n  sessionStorage.setItem(KEY.UF_TERMLIST_CACHE, JSON.stringify(termCache));\r\n}\r\n\r\nfunction deleteCache()\r\n{\r\n  sessionStorage.removeItem(KEY.UF_TERMLIST_CACHE);\r\n}\r\n\r\nfunction hasCache()\r\n{\r\n  return (Object.keys(termCache).length > 0);\r\n}\r\n", "//\r\n// Termlist UI module\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport * as debugLogger   from '../shared/debuglogger.js';\r\nimport * as termRest      from './term-rest.js';\r\nimport { shareModal }     from './interaction.js';\r\nimport { replaceClass }   from '../shared/utils.js';\r\nimport { KEY, setCookie } from '../shared/storage.js';\r\n\r\nimport {\r\n  setArtistTitle,\r\n  getYouTubeImgUrl,\r\n} from '../playback/mediaplayers.js';\r\n\r\n\r\nexport {\r\n  init,\r\n};\r\n\r\n\r\n/*************************************************************************************************/\r\n\r\n\r\nconst debug            = debugLogger.newInstance('termlist');\r\nlet settings           = {};\r\nconst artistTitleRegEx = /\\s{1,}[\u2013\u00B7-]\\s{1,}|\\s{1,}(&#8211;)\\s{1,}/;\r\nconst iframeSrcRegEx   = /(?<=src=\").*?(?=[?\"])/i;\r\nlet termlistContainer  = null;\r\n\r\n\r\n// ************************************************************************************************\r\n// Setup module\r\n// ************************************************************************************************\r\n\r\nfunction init(siteSettings)\r\n{\r\n  debug.log('init()');\r\n\r\n  settings          = siteSettings;\r\n  termlistContainer = document.getElementById('termlist-container');\r\n\r\n  termlistContainer.addEventListener('click', (event) =>\r\n  {\r\n    const playButton = event.target.closest('div.play-button');\r\n    if (playButton !== null ) return playButtonClick(event, playButton.querySelector('a').href);\r\n\r\n    const shuffleButton = event.target.closest('div.shuffle-button');\r\n    if (shuffleButton !== null ) return shuffleButtonClick(event, shuffleButton.querySelector('a').href);\r\n\r\n    const shareFindButton = event.target.closest('div.share-find-button');\r\n    if (shareFindButton !== null ) return shareFindButtonClick(shareFindButton);\r\n   \r\n    const termlistHeader = event.target.closest('div.termlist-header');\r\n    if (termlistHeader !== null ) return termlistHeaderClick(event);\r\n\r\n    const playTrackButton = event.target.closest('div.thumbnail');\r\n    if (playTrackButton !== null ) return playTrackButtonClick(event, playTrackButton);\r\n\r\n    const linkElement = event.target.closest('a');\r\n    if (linkElement !== null) return linkClicked(event, linkElement);\r\n  });\r\n\r\n  restoreState();\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Save and restore Termlist state\r\n// ************************************************************************************************\r\n\r\nfunction saveState()\r\n{\r\n  if (termRest.hasCache())\r\n  {\r\n    const termlistState = {\r\n      pageUrl:     window.location.href,\r\n      scrollPos:   Math.round(window.pageYOffset),\r\n      openTermIds: [],\r\n    };\r\n\r\n    document.querySelectorAll('.termlist-entry').forEach(element =>\r\n    {\r\n      if (element.classList.contains('open'))\r\n        termlistState.openTermIds.push(element.id);\r\n    });\r\n    \r\n    sessionStorage.setItem(KEY.UF_TERMLIST_STATE, JSON.stringify(termlistState));\r\n    termRest.writeCache();\r\n  }\r\n}\r\n\r\nfunction restoreState()\r\n{\r\n  termRest.readCache();\r\n  \r\n  if (performance.navigation.type !== performance.navigation.TYPE_RELOAD)\r\n  {\r\n    const termlistState = JSON.parse(sessionStorage.getItem(KEY.UF_TERMLIST_STATE));\r\n \r\n    if ((termlistState !== null) && (termlistState.pageUrl === window.location.href))\r\n    {\r\n      history.scrollRestoration = 'manual';\r\n      termlistState.openTermIds.forEach(item => document.getElementById(item).querySelector('div.termlist-header').click());\r\n      window.scroll({ top: termlistState.scrollPos, left: 0, behavior: 'auto' });\r\n    }\r\n    else\r\n    {\r\n      history.scrollRestoration = 'auto';\r\n    }\r\n  }\r\n\r\n  sessionStorage.removeItem(KEY.UF_TERMLIST_STATE);\r\n  termRest.deleteCache();\r\n}\r\n\r\nfunction getPrefPlayerPath(url)\r\n{\r\n  return (settings.user.preferredPlayer === 1) ? url.replace(/ultrafunk\\.com\\//, 'ultrafunk.com/list/') : url;\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Click event functions\r\n// ************************************************************************************************\r\n\r\nfunction playButtonClick(event, destUrl, trackId = null)\r\n{\r\n  event.preventDefault();\r\n  saveState();\r\n//ToDo: Create a playbackSetting for this? Or use SHIFT + click to skip autoplay\r\n  sessionStorage.setItem(KEY.UF_AUTOPLAY, JSON.stringify({ autoplay: (event.shiftKey === false), trackId: trackId, position: 0 }));\r\n  window.location.href = getPrefPlayerPath(destUrl);\r\n}\r\n\r\nfunction shuffleButtonClick(event, destUrl)\r\n{\r\n  setCookie('UF_RESHUFFLE', 'true');\r\n  playButtonClick(event, destUrl);\r\n}\r\n\r\nfunction shareFindButtonClick(element)\r\n{\r\n  const termPath = element.getAttribute('data-term-path');\r\n  const termName = element.getAttribute('data-term-name');\r\n  const termUrl  = getPrefPlayerPath(element.getAttribute('data-term-url'));\r\n\r\n  shareModal.show({ title: `Share / Find ${termPath}`, string: termName, url: termUrl, verb: 'Find' });\r\n}\r\n\r\nfunction playTrackButtonClick(event, element)\r\n{\r\n  const termPath = (termlistContainer.getAttribute('data-term-type') === 'categories') ? 'channel' : 'artist';\r\n  const termSlug = element.getAttribute('data-term-slug');\r\n  const termUid  = element.getAttribute('data-term-uid');\r\n\r\n  if (termUid !== null)\r\n    return playButtonClick(event, `/list/${termPath}/${termSlug}/`, termUid); // ToDo: Add support for settings.user.preferredPlayer here, not hardcoded to /list/\r\n  else\r\n    return playButtonClick(event, element.getAttribute('data-term-url'));\r\n}\r\n\r\nfunction linkClicked(event, element)\r\n{\r\n  saveState();\r\n\r\n  if (element.closest('.permalink') !== null)\r\n  {\r\n    event.preventDefault();\r\n    window.location.href = getPrefPlayerPath(element.href);\r\n  }\r\n}\r\n\r\nfunction termlistHeaderClick(event)\r\n{\r\n  const termlistEntry = event.target.closest('div.termlist-entry');\r\n  const expandToggle  = termlistEntry.querySelector('div.expand-toggle span');\r\n  const termlistBody  = termlistEntry.querySelector('div.termlist-body');\r\n  const isExpanded    = (termlistBody.style.display.length !== 0);\r\n\r\n  replaceClass(termlistEntry, (isExpanded ? 'open' : 'closed'), (isExpanded ? 'closed' : 'open'));\r\n\r\n  expandToggle.innerText     = isExpanded ? 'expand_more' : 'expand_less';\r\n  termlistBody.style.display = isExpanded ? ''            : 'flex';\r\n\r\n  if (!isExpanded)\r\n    fetchDataUpdateDOM(termlistEntry, termlistBody);\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Fetch data via REST API and update DOM with results\r\n// ************************************************************************************************\r\n\r\nfunction fetchDataUpdateDOM(termlistEntry, termlistBody)\r\n{\r\n  const termType      = termlistContainer.getAttribute('data-term-type');\r\n  const termId        = parseInt(termlistEntry.getAttribute('data-term-id'));\r\n  const termSlug      = termlistEntry.getAttribute('data-term-slug');\r\n  const isAllChannels = (termType === 'categories');\r\n\r\n  termRest.fetchPosts(termType, termId, (isAllChannels ? 10 : 50), (termData) => \r\n  {\r\n    let header  = isAllChannels ? 'Latest Tracks' : 'All Tracks';\r\n    let element = termlistBody.querySelector('.body-left');\r\n\r\n    if (termData !== null)\r\n      insertThumbnailListHtml(header, termSlug, termData, element);\r\n    else\r\n      element.innerHTML = `<b>Error!</b><br>Unable to fetch track data...`;\r\n\r\n    if (!isAllChannels && (termData !== null))\r\n    {\r\n      termRest.fetchMeta(termData, termId, 50, (metaType, metadata) =>\r\n      {\r\n        header  = (metaType === 'tags') ? 'Related Artists' : 'In Channels';\r\n        element = (metaType === 'tags') ? termlistBody.querySelector('.artists') : termlistBody.querySelector('.channels');\r\n\r\n        if (metadata !== null)\r\n          insertLinksHtml(header, metadata, element);\r\n        else\r\n          element.innerHTML = `<b>${header}</b><br>None found`;\r\n      });\r\n    }\r\n  });\r\n}\r\n\r\nfunction getThumbnail(contentHtml)\r\n{\r\n  if (contentHtml.includes('id=\"soundcloud-uid'))\r\n    return { src: '/wp-content/themes/ultrafunk/inc/img/soundcloud_icon.png', class: 'type-soundcloud' };\r\n  else\r\n    return getYouTubeImgUrl(contentHtml.match(iframeSrcRegEx));\r\n}\r\n\r\nfunction insertThumbnailListHtml(header, termSlug, termData, destElement)\r\n{\r\n  const artistTitle = {};\r\n  let html = `<b>${header}</b>`;\r\n\r\n  termData.forEach(item =>\r\n  {\r\n    setArtistTitle(item.title.rendered, artistTitle, artistTitleRegEx);\r\n    const thumbnail   = getThumbnail(item.content.rendered);\r\n    const dataTermUid = (thumbnail?.uid !== undefined) ? `data-term-uid=\"${thumbnail.uid}\"` : '' ;\r\n\r\n    html += `\r\n    <div class=\"track\">\r\n      <div class=\"thumbnail ${thumbnail.class}\" data-term-url=\"${item.link}\" data-term-slug=\"${termSlug}\" ${dataTermUid} title=\"Play Track\">\r\n        <img src=\"${thumbnail.src}\">\r\n      </div>\r\n      <div class=\"artist-title text-nowrap-ellipsis\">\r\n        <a href=\"${item.link}\" title=\"Go to track\"><span><b>${artistTitle.artist}</b></span><br><span>${artistTitle.title}</span></a>\r\n      </div>\r\n    </div>`;\r\n  });\r\n  \r\n  destElement.innerHTML = html;\r\n}\r\n\r\nfunction insertLinksHtml(header, termData, destElement)\r\n{\r\n  let html = `<b>${header}</b><br>`;\r\n  termData.forEach(item => html += `<a href=\"${getPrefPlayerPath(item.link)}\">${item.name}</a>, `);\r\n  destElement.innerHTML = html.slice(0, (html.length - 2));\r\n}\r\n", "//\r\n// Ultrafunk site interaction\r\n//\r\n// https://ultrafunk.com\r\n//\r\n\r\n\r\nimport * as debugLogger from './shared/debuglogger.js';\r\nimport * as storage     from './shared/storage.js';\r\nimport * as utils       from './shared/utils.js';\r\nimport * as interaction from './site/interaction.js';\r\nimport * as termlist    from './site/termlist.js';\r\nimport { siteSettings } from './shared/settings.js';\r\n\r\n\r\n/*************************************************************************************************/\r\n\r\n\r\nconst debug   = debugLogger.newInstance('index');\r\nlet mSettings = {};\r\n\r\nconst mConfig = {\r\n  smoothScrolling:        false,\r\n  settingsUpdatedEvent:   'settingsUpdated',\r\n  fullscreenElementEvent: 'fullscreenElement',\r\n};\r\n\r\nconst mElements = {\r\n  siteHeader:        null,\r\n  introBanner:       null,\r\n  siteContent:       null,\r\n  siteContentSearch: null,\r\n  fullscreenTarget:  null,  \r\n};\r\n\r\n\r\n// ************************************************************************************************\r\n// Document ready and document / window event listeners\r\n// ************************************************************************************************\r\n\r\ndocument.addEventListener('DOMContentLoaded', () =>\r\n{ \r\n  debug.log('DOMContentLoaded');\r\n\r\n  readSettings();\r\n  initIndex();\r\n  \r\n  if (mElements.introBanner !== null)\r\n    showIntroBanner();\r\n  \r\n  if (document.getElementById('termlist-container') !== null)\r\n    termlist.init(mSettings);\r\n\r\n  if (mElements.siteContentSearch !== null)\r\n  {\r\n    mElements.siteContentSearch.focus();\r\n    mElements.siteContentSearch.setSelectionRange(9999, 9999);\r\n  }\r\n\r\n  setPreviousPageTitle();\r\n\r\n  document.addEventListener(mConfig.settingsUpdatedEvent, () =>\r\n  {\r\n    readSettings();\r\n    interaction.settingsUpdated(mSettings);\r\n    storage.setCookie(storage.KEY.UF_TRACKS_PER_PAGE,  mSettings.user.tracksPerPage,   (60 * 60 * 24 * 365 * 5));\r\n  //storage.setCookie(storage.KEY.UF_PREFERRED_PLAYER, mSettings.user.preferredPlayer, (60 * 60 * 24 * 365 * 5));\r\n  });\r\n  \r\n  document.addEventListener(mConfig.fullscreenElementEvent, (event) => mElements.fullscreenTarget = event.fullscreenTarget);\r\n  document.addEventListener('keydown', documentEventKeyDown);\r\n});\r\n\r\n\r\n// ************************************************************************************************\r\n// Read settings and index init\r\n// ************************************************************************************************\r\n\r\nfunction readSettings()\r\n{\r\n  debug.log('readSettings()');\r\n  mSettings = storage.readWriteSettingsProxy(storage.KEY.UF_SITE_SETTINGS, siteSettings, true);\r\n  debug.log(mSettings);\r\n}\r\n\r\nfunction initIndex()\r\n{\r\n  debug.log('initIndex()');\r\n\r\n  mElements.siteHeader        = document.getElementById('site-header');\r\n  mElements.introBanner       = document.getElementById('intro-banner');\r\n  mElements.siteContent       = document.getElementById('site-content');\r\n  mElements.siteContentSearch = document.querySelector('#site-content form input.search-field');\r\n\r\n  interaction.init(mSettings);\r\n\r\n  navSearch.init();\r\n  navMenu.init();\r\n  \r\n  resize.addEventListener();\r\n  scroll.addEventListener();\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Keyboard events handling\r\n// ************************************************************************************************\r\n\r\nfunction documentEventKeyDown(event)\r\n{\r\n  // UI keyboard events (cannot be disable by the user)\r\n  if ((event.repeat === false) && (event.ctrlKey === false) && (event.altKey === false))\r\n  {\r\n    switch (event.key)\r\n    {\r\n      case 'Escape':\r\n        if (navMenu.isVisible())\r\n        {\r\n          event.preventDefault();\r\n          navMenu.toggle();\r\n        }\r\n        return;\r\n    }\r\n  }\r\n\r\n  // User enabled keyboard shortcuts (on by default)\r\n  if (mSettings.user.keyboardShortcuts && (event.repeat === false) && (event.ctrlKey === false) && (event.altKey === false))\r\n  {\r\n    switch (event.key)\r\n    {\r\n      case 'c':\r\n      case 'C':\r\n        if (searchNotFocused())\r\n        {\r\n          event.preventDefault();\r\n          navMenu.toggle();\r\n        }\r\n        break;\r\n\r\n      case 'L':\r\n        if (searchNotFocused() && notSettingsPage())\r\n        {\r\n          interaction.galleryLayout.toggle(event);\r\n          resize.trigger();\r\n        }\r\n        break;\r\n\r\n      case 's':\r\n      case 'S':\r\n        if (searchNotFocused() && notFullscreenElement())\r\n        {\r\n          event.preventDefault();\r\n          navSearch.toggle();\r\n        }\r\n        break;\r\n\r\n      case 'T':\r\n        if (searchNotFocused() && notSettingsPage())\r\n        {\r\n          interaction.siteTheme.toggle(event);\r\n        }\r\n        break;\r\n\r\n      case 'ArrowLeft':\r\n        if (event.shiftKey && noPlayback())\r\n        {\r\n          // eslint-disable-next-line no-undef\r\n          arrowKeyNav(navigationVars.prev);\r\n        }\r\n        break;\r\n\r\n      case 'ArrowRight':\r\n        if (event.shiftKey && noPlayback())\r\n        {\r\n          // eslint-disable-next-line no-undef\r\n          arrowKeyNav(navigationVars.next);\r\n        }\r\n        break;\r\n    }\r\n  }\r\n}\r\n\r\nfunction searchNotFocused()\r\n{\r\n  return ((navSearch.isVisible() === false) && (mElements.siteContentSearch !== document.activeElement));\r\n}\r\n\r\nfunction notSettingsPage()\r\n{\r\n  return (document.body.classList.contains('page-settings') === false);\r\n}\r\n\r\nfunction notFullscreenElement()\r\n{\r\n  return ((mElements.fullscreenTarget === null) ? true : false);\r\n}\r\n\r\nfunction noPlayback()\r\n{\r\n  return (document.body.classList.contains('no-playback'));\r\n}\r\n\r\nfunction arrowKeyNav(destUrl)\r\n{\r\n  if ((destUrl !== undefined) && (destUrl !== null) && (destUrl.length > 0))\r\n    window.location.href = destUrl;\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Misc. support functions\r\n// ************************************************************************************************\r\n\r\nfunction showIntroBanner()\r\n{\r\n  // Only show intro banners if they can be permanently dismissed\r\n  if (storage.isAvailable('localStorage'))\r\n  {\r\n    if ((typeof bannerProperty !== 'undefined') && (bannerProperty !== null)) // eslint-disable-line no-undef\r\n    {\r\n      if (mSettings.priv.banners[bannerProperty]) // eslint-disable-line no-undef\r\n      {\r\n        mElements.introBanner.style.display = 'block';\r\n        resize.trigger();\r\n\r\n        utils.addListener('#intro-banner .intro-banner-close-button', 'click', () =>\r\n        {\r\n          mElements.introBanner.style.display    = '';\r\n          mElements.siteContent.style.marginTop  = '';\r\n          mSettings.priv.banners[bannerProperty] = false; // eslint-disable-line no-undef\r\n        });\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\nfunction setPreviousPageTitle()\r\n{\r\n  if (document.querySelector('.nav-bar-title .go-back-to') !== null)\r\n  {\r\n    let pathString = '';\r\n\r\n    if (document.referrer.length === 0)\r\n    {\r\n      pathString = 'Previous Page';\r\n    }\r\n    else\r\n    {\r\n      const referrerUrlParts = new URL(decodeURIComponent(document.referrer));\r\n\r\n      if (referrerUrlParts.search.length !== 0)\r\n      {\r\n        pathString = 'Search Results';\r\n      }\r\n      else if (referrerUrlParts.pathname.length > 1)\r\n      {\r\n        const endSlash  = (referrerUrlParts.pathname.slice(-1) === '/') ? 1 : 0;\r\n        const pathParts = referrerUrlParts.pathname.slice(1, referrerUrlParts.pathname.length - endSlash).replace(/-/gi, ' ').split('/');\r\n        pathParts.forEach((part, index) => pathString += ((index + 1) < pathParts.length) ? part + ' / ' : part);\r\n      }\r\n    }\r\n\r\n    document.querySelectorAll('#site-navigation .nav-bar-title').forEach(element =>\r\n    {\r\n      element.querySelector('.go-back-title').textContent = (pathString.length > 0) ? pathString : 'Ultrafunk (home)';\r\n      element.querySelector('.go-back-to').style.opacity  = 1;\r\n    });\r\n  }\r\n}\r\n\r\n\r\n// ************************************************************************************************\r\n// Main navigation menu handling\r\n// ************************************************************************************************\r\n\r\nconst navMenu = (() =>\r\n{\r\n  const observer  = new ResizeObserver(observerCallback);\r\n  const elements  = { navMenu: null, modalOverlay: null };\r\n  let isVisible   = false;\r\n\r\n  return {\r\n    isVisible()   { return isVisible;                    },\r\n    scrolledTop() { elements.navMenu.style.display = ''; },\r\n    init,\r\n    toggle,\r\n  };\r\n\r\n  function init()\r\n  {\r\n    elements.navMenu      = document.querySelector('#site-navigation .nav-menu-outer');\r\n    elements.modalOverlay = document.getElementById('nav-menu-modal-overlay');\r\n\r\n    utils.addListenerAll('.nav-menu-toggle', 'click', toggle);\r\n    elements.modalOverlay.addEventListener('click', toggle);\r\n    elements.modalOverlay.addEventListener('transitionend', transitionEnd);\r\n    observer.observe(elements.navMenu.querySelector('.menu-primary-menu-container'));\r\n  }\r\n\r\n  function toggle()\r\n  {\r\n    if (mElements.siteHeader.classList.contains('sticky-nav-up'))\r\n    {\r\n      isVisible ? elements.navMenu.style.display = 'none' : elements.navMenu.style.display = 'flex';\r\n    }\r\n    else\r\n    {\r\n      if (mElements.siteHeader.classList.contains('sticky-nav-down') === false)\r\n        mElements.siteHeader.classList.toggle('hide-nav-menu');\r\n    }\r\n  }\r\n\r\n  function observerCallback(entries)\r\n  {\r\n    isVisible = (entries[0].contentRect.height !== 0) ? true : false;\r\n\r\n    if (isVisible)\r\n    {\r\n      elements.modalOverlay.className = '';\r\n      elements.modalOverlay.classList.add('show');\r\n      setTimeout(() => elements.modalOverlay.classList.add('fadein'), 50);\r\n    }\r\n    else\r\n    {\r\n      elements.modalOverlay.classList.add('fadeout');\r\n    }\r\n  }\r\n\r\n  function transitionEnd()\r\n  {\r\n    if (isVisible === false)\r\n    {\r\n      elements.modalOverlay.className = '';\r\n      elements.navMenu.style.display  = '';\r\n    }\r\n  }\r\n})();\r\n\r\n\r\n// ************************************************************************************************\r\n// Main navigation search handling\r\n// ************************************************************************************************\r\n\r\nconst navSearch = (() =>\r\n{\r\n  const allowKeyboardShortcutsEvent = new Event('allowKeyboardShortcuts');\r\n  const denyKeyboardShortcutsEvent  = new Event('denyKeyboardShortcuts');\r\n  const elements = { searchContainer: null, searchField: null, brandingContainer: null };\r\n  let isVisible  = false;\r\n\r\n  return {\r\n    isVisible() { return isVisible; },\r\n    init,\r\n    toggle,\r\n    hide,\r\n  };\r\n\r\n  function init()\r\n  {\r\n    elements.searchContainer   = document.getElementById('search-container');\r\n    elements.searchField       = elements.searchContainer.querySelector('.search-field');\r\n    elements.brandingContainer = mElements.siteHeader.querySelector('div.site-branding-container');\r\n\r\n    utils.addListenerAll('.nav-search-toggle', 'click', toggle);\r\n    // To prevent extra 'blur' event before 'click' event\r\n    utils.addListenerAll('.nav-search-toggle', 'mousedown', (event) => event.preventDefault());\r\n    // Hide nav search bar on focus loss\r\n    elements.searchField.addEventListener('blur', hide);\r\n    \r\n    // Hide nav search bar on ESC\r\n    elements.searchField.addEventListener('keydown', (event) =>\r\n    {\r\n      if (event.key === 'Escape')\r\n      {\r\n        event.stopPropagation();\r\n        hide();\r\n      }\r\n    });\r\n  }\r\n\r\n  function toggle()\r\n  {\r\n    hasVisibleSearchContainer() ? show() : hide();\r\n  }\r\n  \r\n  function hide()\r\n  {\r\n    if (isVisible)\r\n      setProps(false, allowKeyboardShortcutsEvent, '', 'search');\r\n  }\r\n  \r\n  function hasVisibleSearchContainer()\r\n  {\r\n    if (elements.searchContainer.style.display.length === 0)\r\n    {\r\n      // Has no visible site header at all, bail out...\r\n      if (mElements.siteHeader.offsetHeight === 0)\r\n        return false;\r\n\r\n      // Is mobile with no visible nav-bar, bail out...\r\n      if (utils.matchesMedia(utils.MATCH.SITE_MAX_WIDTH_MOBILE))\r\n      {\r\n        if ((mElements.siteHeader.querySelector('.nav-bar-container-mobile-top').offsetHeight === 0) &&\r\n            (mElements.siteHeader.querySelector('.nav-bar-container-mobile-up').offsetHeight  === 0))\r\n        {\r\n          return false;\r\n        }\r\n      }\r\n\r\n      return true;\r\n    }\r\n\r\n    return false;\r\n  }\r\n\r\n  function show()\r\n  {\r\n    setPosSize();\r\n    setProps(true, denyKeyboardShortcutsEvent, 'flex', 'clear');\r\n    elements.searchField.focus();\r\n    elements.searchField.setSelectionRange(9999, 9999);    \r\n  }\r\n  \r\n  function setProps(visible, keyboardShortcutsEvent, display, icon)\r\n  {\r\n    isVisible = visible;\r\n    document.dispatchEvent(keyboardShortcutsEvent);\r\n    elements.searchContainer.style.display = display;\r\n    document.querySelectorAll('div.nav-search-toggle i').forEach(element => element.textContent = icon);\r\n    isVisible ? document.getElementById('playback-controls').classList.add('hide') : document.getElementById('playback-controls').classList.remove('hide');\r\n  }\r\n\r\n  function setPosSize()\r\n  {\r\n    let position = {};\r\n\r\n    if (utils.matchesMedia(utils.MATCH.SITE_MAX_WIDTH_MOBILE))\r\n    {\r\n      if (elements.brandingContainer.offsetHeight !== 0)\r\n        position.top = elements.brandingContainer.offsetTop;\r\n      else\r\n        position.top = mElements.siteHeader.querySelector('.nav-bar-container-mobile-up').offsetTop;\r\n\r\n      position = new DOMRect(63, (position.top + 3), (document.body.clientWidth - 63), 30);\r\n    }\r\n    else\r\n    {\r\n      if (elements.brandingContainer.offsetHeight !== 0)\r\n      {\r\n        const rect = elements.brandingContainer.getBoundingClientRect();\r\n        position   = new DOMRect(rect.left, (rect.top + 10), rect.right, (rect.height - 20));\r\n      }\r\n      else\r\n      {\r\n        const rect = mElements.siteHeader.querySelector('.nav-bar-container').getBoundingClientRect();\r\n        position   = new DOMRect((rect.left + 105), (rect.top + 2), (rect.right - 105), (rect.height - 4));\r\n      }\r\n    }\r\n  \r\n    elements.searchContainer.style.left   = `${position.left}px`;\r\n    elements.searchContainer.style.top    = `${position.top}px`;\r\n    elements.searchContainer.style.width  = `${position.width - position.left}px`;\r\n    elements.searchContainer.style.height = `${position.height}px`;\r\n  }\r\n})();\r\n\r\n\r\n// ************************************************************************************************\r\n// window.addEventListener('resize') handling\r\n// ************************************************************************************************\r\n\r\nconst resize = (() =>\r\n{\r\n  let headerHeight = 0;\r\n\r\n  return {\r\n    getHeaderHeight() { return headerHeight; },\r\n    addEventListener,\r\n    trigger: resizeEvent,\r\n  };\r\n\r\n  function addEventListener()\r\n  {\r\n    resizeEvent();\r\n    window.addEventListener('resize', resizeEvent);\r\n  }\r\n  \r\n  function resizeEvent()\r\n  {\r\n    noPlayback() ? headerHeight = utils.getCssPropValue('--site-header-height-no-playback') : headerHeight = utils.getCssPropValue('--site-header-height');\r\n\r\n    if ((mElements.introBanner !== null) && (mElements.introBanner.style.display.length !== 0))\r\n    {\r\n      mElements.introBanner.style.marginTop = `${headerHeight}px`;\r\n      mElements.siteContent.style.marginTop = `${utils.getCssPropValue('--site-content-margin-top')}px`;\r\n    }\r\n  }\r\n})();\r\n\r\n  \r\n// ************************************************************************************************\r\n// window.addEventListener('scroll') handling\r\n// ************************************************************************************************\r\n\r\nconst scroll = (() =>\r\n{\r\n  let lastScrollTop  = 0;\r\n  let isScrolledDown = false;\r\n\r\n  return {\r\n    addEventListener,\r\n  };\r\n\r\n  function addEventListener()\r\n  {\r\n    scrollEvent();\r\n    window.addEventListener('scroll', scrollEvent);\r\n  }\r\n\r\n  function scrollEvent()\r\n  {\r\n    const scrollTop          = window.pageYOffset;\r\n    const scrollDownMenuHide = Math.round((resize.getHeaderHeight() > 150) ? (resize.getHeaderHeight() / 2) : (resize.getHeaderHeight() / 3));\r\n\r\n    if (scrollTop < 1)\r\n      scrolledTop();\r\n    else if ((scrollTop > scrollDownMenuHide) && (scrollTop > lastScrollTop))\r\n      scrolledDown();\r\n    else\r\n      scrolledUp();\r\n    \r\n    // Hide navigation search form on any scroll event\r\n    navSearch.hide();\r\n  \r\n    lastScrollTop = scrollTop;\r\n  }\r\n\r\n  function scrolledTop()\r\n  {\r\n    mElements.siteHeader.classList.remove('sticky-nav-down', 'sticky-nav-up');\r\n    mElements.siteHeader.classList.add('hide-nav-menu');\r\n    navMenu.scrolledTop();\r\n  }\r\n\r\n  function scrolledDown()\r\n  {\r\n    if (isScrolledDown === false)\r\n    {\r\n      isScrolledDown = true;\r\n      utils.replaceClass(mElements.siteHeader, 'sticky-nav-up', 'sticky-nav-down');\r\n    }\r\n  }\r\n\r\n  function scrolledUp()\r\n  {\r\n    if (isScrolledDown === true)\r\n    {\r\n      isScrolledDown = false;\r\n      utils.replaceClass(mElements.siteHeader, 'sticky-nav-down', 'sticky-nav-up');\r\n    }\r\n\r\n    if (navMenu.isVisible())\r\n      navMenu.toggle();\r\n  }\r\n})();\r\n"],
  "mappings": "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",
  "names": []
}
