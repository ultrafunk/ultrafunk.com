var $=!1,T=class{constructor(e="unknown"){this.moduleName=x(e.toUpperCase(),20,".")}isDebug(){return $}warn(e){console.warn(`${this.moduleName}:`,e)}error(e){console.error(`${this.moduleName}:`,e)}},F=class extends T{constructor(e){super(e)}log(e){console.log(`${this.moduleName}:`,e)}logEventLog(e,a,r){let o=[];for(let i=0;i<e.length;i++){let d={eventSource:this.getObjectKeyForValue(a,e[i].eventSource),eventType:this.getObjectKeyForValue(r,e[i].eventType),uId:e[i].uId,timeStamp:e[i].timeStamp};o.push(d)}this.log(o)}getObjectKeyForValue(e,a){return Object.keys(e).find(r=>e[r]===a)}},L=class extends T{constructor(e){super(e)}log(){}logEventLog(){}getObjectKeyForValue(){}};function v(t){return $===!0?new F(t):new L(t)}function x(t,e,a){return t.length>e?t.slice(0,e):t.padEnd(e,a)}var p=v("settings"),c=1,n=2,y=3,s={version:{description:"",type:c,values:[1,999999],default:23,valueStrings:[]},user:{keyboardShortcuts:{description:"Keyboard Shortcuts",type:n,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},masterVolume:{description:"Master Volume",type:c,values:[0,25,50,75,100],default:100,valueStrings:["0%","25%","50%","75%","100%"]},masterMute:{description:"Master Mute",type:n,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},autoPlay:{description:"Autoplay next track",type:n,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},autoCrossfade:{description:"Auto Crossfade to next track",type:n,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},autoCrossfadeLength:{description:"Auto Crossfade Length",type:c,values:[5,10,15,20,25,30],default:20,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},autoCrossfadeCurve:{description:"Auto Crossfade Curve",type:c,values:[0,1],default:1,valueStrings:["EQUAL POWER","LINEAR"]},autoScroll:{description:"Autoscroll to next track",type:n,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},smoothScrolling:{description:"Smooth Scrolling to next track",type:n,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},autoExitFullscreen:{description:"Exit Fullscreen on next track",type:n,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},animateNowPlayingIcon:{description:"Animate Playing Track Icon",type:n,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},autoResumePlayback:{description:"Auto Resume Playback on focus",type:n,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},trackCrossfade:{description:"Track to Track Crossfade",type:n,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},trackCrossfadeLength:{description:"Track to Track Crossfade Length",type:c,values:[5,10,15,20,25,30],default:10,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},trackCrossfadeCurve:{description:"Track to Track Crossfade Curve",type:c,values:[0,1],default:0,valueStrings:["EQUAL POWER","LINEAR"]},timeRemainingWarning:{description:"Time Remaining Warning",type:n,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},timeRemainingSeconds:{description:"Time Remaining Warning Seconds",type:c,values:[15,30,45,60],default:60,valueStrings:["15 sec","30 sec","45 sec","60 sec"]},autoExitFsOnWarning:{description:"Exit Fullscreen on Time Warning",type:n,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},keepMobileScreenOn:{description:"Keep Mobile Screen On when playing",type:n,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},trackTimesOnMobile:{description:"Show Track Times on mobile",type:n,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},trackThumbnailOnMobile:{description:"Show Track Thumbnail on mobile",type:n,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]}},priv:{storageChangeSync:{description:"",type:n,values:[!0,!1],default:!1,valueStrings:[]},continueAutoPlay:{description:"",type:n,values:[!0,!1],default:!1,valueStrings:[]},tips:{showLeftArrowHint:{description:"",type:n,values:[!0,!1],default:!0,valueStrings:[]},showRightArrowHint:{description:"",type:n,values:[!0,!1],default:!0,valueStrings:[]},showDetailsHint:{description:"",type:n,values:[!0,!1],default:!0,valueStrings:[]},showTrackImageHint:{description:"",type:n,values:[!0,!1],default:!0,valueStrings:[]}}}},ee={version:s.version.default,user:{keyboardShortcuts:s.user.keyboardShortcuts.default,masterVolume:s.user.masterVolume.default,masterMute:s.user.masterMute.default,autoPlay:s.user.autoPlay.default,autoCrossfade:s.user.autoCrossfade.default,autoCrossfadeLength:s.user.autoCrossfadeLength.default,autoCrossfadeCurve:s.user.autoCrossfadeCurve.default,autoScroll:s.user.autoScroll.default,smoothScrolling:s.user.smoothScrolling.default,autoExitFullscreen:s.user.autoExitFullscreen.default,animateNowPlayingIcon:s.user.animateNowPlayingIcon.default,autoResumePlayback:s.user.autoResumePlayback.default,trackCrossfade:s.user.trackCrossfade.default,trackCrossfadeLength:s.user.trackCrossfadeLength.default,trackCrossfadeCurve:s.user.trackCrossfadeCurve.default,timeRemainingWarning:s.user.timeRemainingWarning.default,timeRemainingSeconds:s.user.timeRemainingSeconds.default,autoExitFsOnWarning:s.user.autoExitFsOnWarning.default,keepMobileScreenOn:s.user.keepMobileScreenOn.default,trackTimesOnMobile:s.user.trackTimesOnMobile.default,trackThumbnailOnMobile:s.user.trackThumbnailOnMobile.default},priv:{storageChangeSync:s.priv.storageChangeSync.default,continueAutoPlay:s.priv.continueAutoPlay.default,tips:{showLeftArrowHint:s.priv.tips.showLeftArrowHint.default,showRightArrowHint:s.priv.tips.showRightArrowHint.default,showDetailsHint:s.priv.tips.showDetailsHint.default,showTrackImageHint:s.priv.tips.showTrackImageHint.default}}},f={version:{description:"",type:c,values:[1,999999],default:7,valueStrings:[]},user:{theme:{description:"Theme",type:y,values:["light","dark","auto"],default:"auto",valueStrings:["LIGHT","DARK","AUTO / SYSTEM"]},trackLayout:{description:"Track Layout",type:y,values:["list","2-column","3-column"],default:"3-column",valueStrings:["LIST","2 COLUMN","3 / 4 COLUMN"]},tracksPerPage:{description:"Tracks Per Page for Search &amp; Shuffle",type:c,values:[...Array(22).keys()].map(t=>t+3),default:12,valueStrings:[...Array(22).keys()].map(t=>`${t+3}`)},keyboardShortcuts:{description:"Keyboard Shortcuts",type:n,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]}},priv:{storageChangeSync:{description:"",type:n,values:[!0,!1],default:!1,valueStrings:[]},banners:{showFrontpageIntro:{description:"",type:n,values:[!0,!1],default:!0,valueStrings:[]},showPremiumIntro:{description:"",type:n,values:[!0,!1],default:!0,valueStrings:[]},showPromoIntro:{description:"",type:n,values:[!0,!1],default:!0,valueStrings:[]}}}},te={version:f.version.default,user:{theme:f.user.theme.default,trackLayout:f.user.trackLayout.default,tracksPerPage:f.user.tracksPerPage.default,keyboardShortcuts:f.user.keyboardShortcuts.default},priv:{storageChangeSync:f.priv.storageChangeSync.default,banners:{showFrontpageIntro:f.priv.banners.showFrontpageIntro.default,showPremiumIntro:f.priv.banners.showPremiumIntro.default,showPromoIntro:f.priv.banners.showPromoIntro.default}}};function H(t,e){for(let a in t)t&&e&&typeof t[a]=="object"&&typeof e[a]=="object"?H(t[a],e[a]):W(t,e[a],t[a],a)}function W(t,e,a,r){if(e!==void 0)switch(e.type){case c:(Number.isInteger(a)===!1||a<e.values[0]||a>e.values[e.values.length-1])&&(p.warn(`validate() - ${r} has invalid value: ${a} (${r} is type: INTEGER - min: ${e.values[0]} - max: ${e.values[e.values.length-1]}) -- setting default value: ${e.default}`),t[r]=e.default);break;case n:a!==!0&&a!==!1&&(p.warn(`validate() - ${r} has invalid value: ${a} (${r} is type: BOOLEAN) -- setting default value: ${e.default}`),t[r]=e.default);break;case y:typeof a!="string"&&(p.warn(`validate() - ${r} has invalid value: ${a} (${r} is type: STRING) -- setting default value: ${e.default}`),t[r]=e.default);break;default:p.warn(`validate() - ${r} has unknown type: ${e.type}`)}else p.warn(`validate() - ${r} with value: ${a} is not in schema`)}var _=v("utils"),m={SITE_MIN_WIDTH_WIDE:1,SITE_MAX_WIDTH:2,SITE_MAX_WIDTH_MOBILE:3},B=window.matchMedia(`(min-width: ${b("--site-min-width-wide")})`),U=window.matchMedia(`(max-width: ${b("--site-max-width")})`),D=window.matchMedia(`(max-width: ${b("--site-max-width-mobile")})`);function se(t,e,a,r=null){let o=document.querySelectorAll(t);o.forEach(i=>{i.addEventListener(e,d=>a(d,r))})}function b(t,e=document.documentElement){let a=getComputedStyle(e).getPropertyValue(t);return a.length!==0?a=a.replace(/'|"/g,"").trim():_.error(`getCssPropString(${t}): Returned CSS property string is empty`),a}function ne(t,e=document.documentElement){let a=b(t,e),r=NaN;return a.length!==0&&(r=parseInt(a)),isNaN(r)&&_.error(`getCssPropValue(${t}): Returned CSS property value is NaN`),r}function A(t){switch(t){case m.SITE_MIN_WIDTH_WIDE:return B.matches;case m.SITE_MAX_WIDTH:return U.matches;case m.SITE_MAX_WIDTH_MOBILE:return D.matches}return!1}function oe(t,e,a){t.classList.remove(e),t.classList.add(a)}var j=v("snackbar"),g={id:"snackbar"},G=`
  <div id="${g.id}">
    <div class="${g.id}-container">
      <div class="${g.id}-message"></div>
      <div class="${g.id}-action-button"></div>
      <div class="${g.id}-close-button"><span class="material-icons" title="Dismiss">close</span></div>
    </div>
  </div>
`,u={snackbar:null,actionButton:null,closeButton:null},O=0,M=null,S=null,k=-1,h=-1;function ce(t,e=5,a=null,r=null,o=null){return j.log(`showSnackbar(): ${t} (${e} sec.)`),Y(),I(),u.snackbar.querySelector(`.${g.id}-message`).innerHTML=t,u.snackbar.classList.add("show"),u.actionButton.style.display="none",S=o,a!==null&&r!==null?(M=r,u.actionButton.style.display="block",u.actionButton.textContent=a,u.actionButton.addEventListener("click",N)):A(m.SITE_MAX_WIDTH_MOBILE)?u.closeButton.style.paddingLeft="10px":u.closeButton.style.paddingLeft="20px",e!==0&&(k=setTimeout(()=>{u.snackbar.classList.add("hide"),h=setTimeout(()=>{u.snackbar.className="",S!==null&&S()},450)},e*1e3)),++O}function Y(){u.snackbar===null&&(document.body.insertAdjacentHTML("beforeend",G),u.snackbar=document.getElementById(g.id),u.actionButton=u.snackbar.querySelector(`.${g.id}-action-button`),u.closeButton=u.snackbar.querySelector(`.${g.id}-close-button`),u.closeButton.addEventListener("click",()=>{S!==null&&S(),I(!0)}))}function N(){M(),I(!0)}function J(){return u.snackbar!==null&&u.snackbar.classList.length===1&&u.snackbar.classList.contains("show")}function de(t=0){J()&&((O===0||O===t)&&(u.snackbar.classList.add("hide"),h=setTimeout(()=>u.snackbar.className="",450)))}function I(t=!1){k!==-1&&(clearTimeout(k),k=-1),h!==-1&&(clearTimeout(h),h=-1),u.actionButton.removeEventListener("click",N),t&&u.snackbar.classList.remove("show")}var l=v("storage"),P={},ve={UF_PLAYBACK_SETTINGS:"UF_PLAYBACK_SETTINGS",UF_SITE_SETTINGS:"UF_SITE_SETTINGS",UF_SITE_THEME:"UF_SITE_THEME",UF_TRACK_LAYOUT:"UF_TRACK_LAYOUT",UF_TRACKS_PER_PAGE:"UF_TRACKS_PER_PAGE"};function X(t,e=null,a=!1){l.log(`readJson(): ${t} - ${e} - ${a}`);let r=localStorage.getItem(t),o=null;if(r===null)return a&&e!==null&&w(t,e),e;try{o=JSON.parse(r)}catch(i){l.error(i),e!==null&&(o=e)}return o}function w(t,e){l.log(`writeJson(): ${t} - ${e}`);try{localStorage.setItem(t,JSON.stringify(e))}catch(a){l.error(a)}}function q(t,e,a){l.log(`mergeSettings(): Merging ${a} from version ${t.version} to version ${e.version}`);let r={version:e.version};return C(t,e,r),R(r,e),r}function C(t,e,a){for(let r in e)typeof e[r]=="object"&&(t&&typeof t[r]=="object"?(l.log(`mergeDeep() - Merging: ${r}`),a[r]={...e[r],...t[r]},C(t[r],e[r],a[r])):(l.log(`mergeDeep() - Copying: ${r}`),a[r]={...e[r]},C({},e[r],a[r])))}function R(t,e){for(let a in t)a in e===!1&&(l.log(`cleanDeep() - Deleting: ${a} (${typeof t[a]=="object"?"object":"property"})`),delete t[a]),typeof t[a]=="object"&&R(t[a],e[a])}function pe(t,e=null,a=!1){let r=X(t,e,a);if(r!==null&&e!==null){let o=null;return r.version<e.version?(l.log(r),o=q(r,e,t),l.log(o),w(t,o)):o=r,Q(t,o)}return l.error(`readWriteSettingsProxy() failed for: ${t}`),null}var Q=(t,e)=>{let a={get(r,o,i){if(o in r){let d=Reflect.get(r,o,i);return typeof d=="object"?new Proxy(d,a):d}l.error(`onSettingsChange(): Get unknown property: ${o}`)},set(r,o,i,d){if(o in r){let E=Reflect.get(r,o,d);return i!==E&&(Reflect.set(r,o,i),w(t,e),K(o,E,i)),!0}return l.error(`onSettingsChange(): Set unknown property: ${o}`),!0}};return new Proxy(e,a)};function K(t,e,a){t in P&&(l.log(`callSettingsObserver() for property: ${t} - oldValue: ${e} - newValue: ${a}`),P[t].forEach(r=>r(e,a)))}export{l as a,P as b,m as c,ve as d,s as e,ee as f,f as g,te as h,se as i,H as j,ce as k,b as l,ne as m,de as n,A as o,oe as p,v as q,pe as r};
//# sourceMappingURL=chunk.R36F7OGP.js.map
