var ce=!1,ee=class{constructor(e="unknown"){this.moduleName=Ne(e.toUpperCase(),20,".")}isDebug(){return ce}warn(e){console.warn(`${this.moduleName}:`,e)}error(e){console.error(`${this.moduleName}:`,e)}},de=class extends ee{constructor(e){super(e)}log(e){console.log(`${this.moduleName}:`,e)}logEventLog(e,r,s){let n=[];for(let i=0;i<e.length;i++){let a={eventSource:this.getObjectKeyForValue(r,e[i].eventSource),eventType:this.getObjectKeyForValue(s,e[i].eventType),uId:e[i].uId,timeStamp:e[i].timeStamp};n.push(a)}this.log(n)}getObjectKeyForValue(e,r){return Object.keys(e).find(s=>e[s]===r)}},fe=class extends ee{constructor(e){super(e)}log(){}logEventLog(){}getObjectKeyForValue(){}};function b(t){return ce===!0?new de(t):new fe(t)}function Ne(t,e,r){return t.length>e?t.slice(0,e):t.padEnd(e,r)}function lt(t,e){let r=e.mediaUrl+" | "+e.mediaTitle;console.log(`DEBUGLOGGER.........: logErrorOnServer(): ${t} - ${r}`),gtag("event",r,{event_category:t,event_label:"Ultrafunk Client Error"})}var N=b("crossfade"),_={MIN:0,MAX:100},R={NONE:-1,AUTO:0,TRACK:1},te={NONE:-1,EQUAL_POWER:0,LINEAR:1},C={NONE:0,INIT:1,FADING:2},ge={intervalEqPow:33,intervalLinear:100},me=(t,e)=>{let r=t,s=e,n=C.NONE,i=-1,a=null,c=null,h=0,o=0,l=R.NONE,E=null,M=0;return{isFading(){return n!==C.NONE},init:X,start:K,stop:u,mute:x};function X(T,S,k=null){return n===C.NONE&&z(k)===!0?(N.log(`init() - type: ${N.getObjectKeyForValue(R,T)} - fadeInUid: ${k} - preset: ${S.length} sec ${N.getObjectKeyForValue(te,S.curve)} (Name: ${S.name})`),n=C.INIT,o=r.masterVolume,l=T,E=S,c.setVolume(0),k===null?s.nextTrack(!0):s.jumpToTrack(s.trackFromUid(k),!0,!1),{fadeOutPlayer:s.indexMap.get(a.getUid()),fadeInPlayer:s.indexMap.get(c.getUid())}):null}function K(){n===C.INIT&&(n=C.FADING,a.getPosition(T=>{let S=E.curve===te.EQUAL_POWER?ge.intervalEqPow:ge.intervalLinear;M=(T+S)/1e3;let k=a.getDuration()-M,O=k-S/1e3;l===R.AUTO?h=O:l===R.TRACK&&(h=k>E.length?E.length:O),N.log(`start() - fadeStartTime: ${M.toFixed(2)} sec - timeRemaining: ${k.toFixed(2)} sec - fadeLength: ${h.toFixed(2)} sec - updateInterval: ${S} ms`),i=setInterval(E.curve===te.EQUAL_POWER?Oe:_e,S)}))}function u(){N.log(`stop() - fadeState: ${N.getObjectKeyForValue(C,n)}`),n!==C.NONE&&(i!==-1&&(clearInterval(i),i=-1),a!==null&&(a.pause(),a.seekTo(0),setTimeout(()=>{a.setVolume(r.masterVolume),a=null},200)),c!==null&&(c=null),n=C.NONE,h=0,o=0,l=R.NONE,E=null,M=0)}function x(T){a!==null&&a.mute(T)}function z(T){return a=s.current,c=T===null?s.next:s.playerFromUid(T),!!(a.getPlayable()&&c.getPlayable())}function Oe(){a.getPosition(T=>{let S=T/1e3-M,k=S>=0?S:0,O=o-o*(k/h),Z=O>=_.MIN?O:_.MIN,xe=Math.round(Math.sqrt(o*Z)),ue=Math.round(Math.sqrt(o*(o-Z)));k>=h&&Z<=_.MIN&&ue>=o?(a.setVolume(_.MIN),c.setVolume(o),u()):(a.setVolume(xe),c.setVolume(ue))})}function _e(){a.getPosition(T=>{let S=T/1e3-M,k=Math.round(o*(S/h)),O=o-k;S>h&&O<_.MIN&&k>o?(a.setVolume(_.MIN),c.setVolume(o),u()):(a.setVolume(O),c.setVolume(k))})}};var D=b("mediaplayers"),G=class{constructor(e,r,s){this.trackId=e,this.iframeId=r,this.embeddedPlayer=s,this.playable=!0,this.duration=0,this.artist=null,this.title=null,this.thumbnailSrc=null,this.thumbnailClass="type-default",this.thumbnail=new Image,this.thumbnail.decoding="async"}getTrackId(){return this.trackId}getIframeId(){return this.iframeId}getUid(){return this.iframeId}getEmbeddedPlayer(){return this.embeddedPlayer}getPlayable(){return this.playable}setPlayable(e){this.playable=e}getDuration(){return this.duration}setDuration(e){this.duration=e}getArtist(){return this.artist}setArtist(e){this.artist=e}getTitle(){return this.title}setTitle(e){this.title=e}getThumbnailSrc(){return this.thumbnailSrc}getThumbnailClass(){return this.thumbnailClass}seekTo(e){this.embeddedPlayer.seekTo(e)}setVolume(e){this.embeddedPlayer.setVolume(e)}setThumbnail(e){this.thumbnailSrc=e.src,this.thumbnailClass=e.class,this.thumbnail.src=e.src}},Fe=class extends G{constructor(e,r,s,n){super(e,r,s);this.previousPlayerState=-1,super.setThumbnail(pe(n))}pause(){this.embeddedPlayer.pauseVideo()}stop(){this.embeddedPlayer.stopVideo()}isPlaybackError(e){return D.log(`YouTube.play() - current playerState: ${this.embeddedPlayer.getPlayerState()} - previous playerState: ${this.previousPlayerState} - playable: ${this.playable}`),this.embeddedPlayer.getPlayerState()===-1&&this.previousPlayerState===-1&&this.playable===!0?(D.warn(`MediaPlayer.YouTube.play() - Unable to play track: ${this.getArtist()} - "${this.getTitle()}" with videoId: ${this.embeddedPlayer.getVideoData().video_id} -- No YouTube API error given!`),this.playable=!1,e(this,this.embeddedPlayer.getVideoUrl()),!0):(this.previousPlayerState=this.embeddedPlayer.getPlayerState(),!1)}play(e){this.isPlaybackError(e)===!1&&(this.playable===!0?this.embeddedPlayer.playVideo():e(this,this.embeddedPlayer.getVideoUrl()))}getVolume(e){e(this.embeddedPlayer.getVolume())}mute(e){e?this.embeddedPlayer.mute():this.embeddedPlayer.unMute()}getPosition(e){e(this.embeddedPlayer.getCurrentTime()*1e3,this.duration)}},Ae=class extends G{constructor(e,r,s,n){super(e,r,s);this.soundId=this.getSoundId(n),this.volume=_.MAX,this.muted=!1}getSoundId(e){if(e!==void 0){let s=new URL(decodeURIComponent(e)).searchParams.get("url");if(s!==null){let n=s.split("/"),i="tracks".toUpperCase();for(let a=0;a<n.length;a++)if(n[a].toUpperCase()===i)return parseInt(n[a+1])}}return D.error(`MediaPlayer.SoundCloud.getSoundId() failed for: ${this.iframeId}`),null}setThumbnail(){this.embeddedPlayer.getCurrentSound(e=>super.setThumbnail(Ue(e)))}getUid(){return this.soundId}pause(){this.embeddedPlayer.pause()}play(e){this.playable===!0?this.embeddedPlayer.getCurrentSound(r=>{r.playable===!0?this.embeddedPlayer.play():e(this,r.permalink_url)}):e(this,"https://soundcloud.com")}stop(){this.pause(),super.seekTo(0)}seekTo(e){super.seekTo(e*1e3)}getVolume(e){this.embeddedPlayer.getVolume(r=>e(r))}setVolume(e){e!==0&&(this.volume=e),(this.muted===!1||e===0)&&super.setVolume(e)}mute(e){this.muted=!!e,e?this.setVolume(0):this.setVolume(this.volume)}getPosition(e){this.embeddedPlayer.getPosition(r=>e(r,this.duration))}},Re=class extends G{constructor(e){super(null,null,e);this.numTracks=3,this.currentTrack=2}get embedded(){return this.embeddedPlayer}getNumTracks(){return this.numTracks}getCurrentTrack(){return this.currentTrack}setArtistTitleThumbnail(e,r){De(e,this),super.setThumbnail(pe(`https://www.youtube.com/embed/${r}`))}getStatus(){return{currentTrack:this.getCurrentTrack(),numTracks:this.getNumTracks(),artist:this.getArtist(),title:this.getTitle(),thumbnail:{src:this.getThumbnailSrc(),class:this.getThumbnailClass()}}}},Ve=/\s{1,}[–·-]\s{1,}/;function De(t,e,r=Ve){if(t!==null&&t.length>0){e.artist=t,e.title="";let s=t.match(r);s!==null&&(e.artist=t.slice(0,s.index),e.title=t.slice(s.index+s[0].length))}}var he="/wp-content/themes/ultrafunk/inc/img/photo_filled_grey.png";function pe(t,e=he){let s=new URL(decodeURIComponent(t)).pathname.split("/embed/");return s.length===2&&s[1].length===11?{src:`https://img.youtube.com/vi/${s[1]}/default.jpg`,class:"type-youtube",uid:s[1]}:{src:e,class:"type-default"}}function Ue(t,e=he){let r=t.artwork_url!==null?t.artwork_url:t.user.avatar_url;return r!=null?{src:r,class:"type-soundcloud"}:{src:e,class:"type-default"}}var mt=()=>{let t=null,e=null,r=null,s=[],n=new Map,i=0;return{indexMap:n,init:a,get crossfade(){return r},add:c,getPlayerIndex(){return i},setPlayerIndex(u){i=u},get current(){return s[i]},get next(){return s[i+1]},getNumTracks(){return s.length},getCurrentTrack(){return i+1},playerFromUid(u){return s[n.get(u)]},trackFromUid(u){return n.get(u)+1},isCurrent(u){return u===this.current.getUid()},uIdFromIframeId:h,stop:o,mute:l,getStatus:E,prevTrack:M,nextTrack:X,jumpToTrack:K};function a(u,x){D.log("init()"),t=u,e=x,r=me(u,this)}function c(u){D.log(u),s.push(u),n.set(u.getUid(),s.length-1)}function h(u){return s.find(x=>x.iframeId===u).getUid()}function o(){this.current.stop(),r.stop()}function l(){this.current.mute(t.masterMute),r.mute(t.masterMute)}function E(){return{currentTrack:this.getCurrentTrack(),numTracks:this.getNumTracks(),artist:this.current.getArtist(),title:this.current.getTitle(),thumbnail:{src:this.current.getThumbnailSrc(),class:this.current.getThumbnailClass()}}}function M(u){return i>0?(i--,e(u),!0):!1}function X(u){return i++,i<this.getNumTracks()?(e(u),!0):!1}function K(u,x,z=!0){return u>0&&u<=this.getNumTracks()?(i=u-1,e(x,z),!0):!1}};var Y=b("settings"),m=1,g=2,L=3,d={version:{description:"",type:m,values:[1,999999],default:27,valueStrings:[]},user:{keyboardShortcuts:{description:"Keyboard Shortcuts",type:g,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},masterVolume:{description:"Master Volume",type:m,values:[0,25,50,75,100],default:100,valueStrings:["0%","25%","50%","75%","100%"]},masterMute:{description:"Master Mute",type:g,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},autoplay:{description:"Autoplay next track",type:g,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},autoCrossfade:{description:"Auto Crossfade to next track",type:g,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},autoCrossfadeLength:{description:"Auto Crossfade Length",type:m,values:[5,10,15,20,25,30],default:20,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},autoCrossfadeCurve:{description:"Auto Crossfade Curve",type:m,values:[0,1],default:1,valueStrings:["Equal Power","Linear"]},autoScroll:{description:"Autoscroll to next track",type:g,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},smoothScrolling:{description:"Smooth Scrolling to next track",type:g,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},autoExitFullscreen:{description:"Exit Fullscreen on next track",type:g,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},animateNowPlayingIcon:{description:"Animate Playing Track Icon",type:g,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},autoResumePlayback:{description:"Auto Resume Playback on focus",type:g,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},trackCrossfadeDefPreset:{description:"Track Crossfade Def. Preset",type:m,values:[0,1,2,3,4,5],default:1,valueStrings:["10 sec EqPow (1)","20 sec EqPow (2)","30 sec EqPow (3)","10 sec Linear (4)","20 sec Linear (5)","30 sec Linear (6)"]},timeRemainingWarning:{description:"Time Remaining Warning",type:g,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},timeRemainingSeconds:{description:"Time Remaining Warning Seconds",type:m,values:[15,30,45,60],default:60,valueStrings:["15 sec","30 sec","45 sec","60 sec"]},autoExitFsOnWarning:{description:"Exit Fullscreen on Time Warning",type:g,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},keepMobileScreenOn:{description:"Keep Mobile Screen On when playing",type:g,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},trackTimesOnMobile:{description:"Show Track Times on mobile",type:g,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},trackThumbnailOnMobile:{description:"Show Track Thumbnail on mobile",type:g,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]}},priv:{tips:{showLeftArrowHint:{description:"",type:g,values:[!0,!1],default:!0,valueStrings:[]},showRightArrowHint:{description:"",type:g,values:[!0,!1],default:!0,valueStrings:[]},showDetailsHint:{description:"",type:g,values:[!0,!1],default:!0,valueStrings:[]},showTrackImageHint:{description:"",type:g,values:[!0,!1],default:!0,valueStrings:[]}}}},vt={version:d.version.default,user:{keyboardShortcuts:d.user.keyboardShortcuts.default,masterVolume:d.user.masterVolume.default,masterMute:d.user.masterMute.default,autoplay:d.user.autoplay.default,autoCrossfade:d.user.autoCrossfade.default,autoCrossfadeLength:d.user.autoCrossfadeLength.default,autoCrossfadeCurve:d.user.autoCrossfadeCurve.default,autoScroll:d.user.autoScroll.default,smoothScrolling:d.user.smoothScrolling.default,autoExitFullscreen:d.user.autoExitFullscreen.default,animateNowPlayingIcon:d.user.animateNowPlayingIcon.default,autoResumePlayback:d.user.autoResumePlayback.default,trackCrossfadeDefPreset:d.user.trackCrossfadeDefPreset.default,timeRemainingWarning:d.user.timeRemainingWarning.default,timeRemainingSeconds:d.user.timeRemainingSeconds.default,autoExitFsOnWarning:d.user.autoExitFsOnWarning.default,keepMobileScreenOn:d.user.keepMobileScreenOn.default,trackTimesOnMobile:d.user.trackTimesOnMobile.default,trackThumbnailOnMobile:d.user.trackThumbnailOnMobile.default},priv:{tips:{showLeftArrowHint:d.priv.tips.showLeftArrowHint.default,showRightArrowHint:d.priv.tips.showRightArrowHint.default,showDetailsHint:d.priv.tips.showDetailsHint.default,showTrackImageHint:d.priv.tips.showTrackImageHint.default}}},w={version:{description:"",type:m,values:[1,999999],default:8,valueStrings:[]},user:{theme:{description:"Theme",type:L,values:["light","dark","auto"],default:"auto",valueStrings:["Light","Dark","Auto / System"]},trackLayout:{description:"Track Layout",type:L,values:["list","2-column","3-column"],default:"3-column",valueStrings:["List","2 Column","3 / 4 Column"]},tracksPerPage:{description:"Tracks Per Page for Search &amp; Shuffle",type:m,values:[...Array(22).keys()].map(t=>t+3),default:12,valueStrings:[...Array(22).keys()].map(t=>`${t+3}`)},keyboardShortcuts:{description:"Keyboard Shortcuts",type:g,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]}},priv:{banners:{showFrontpageIntro:{description:"",type:g,values:[!0,!1],default:!0,valueStrings:[]},showPremiumIntro:{description:"",type:g,values:[!0,!1],default:!0,valueStrings:[]},showPromoIntro:{description:"",type:g,values:[!0,!1],default:!0,valueStrings:[]}}}},yt={version:w.version.default,user:{theme:w.user.theme.default,trackLayout:w.user.trackLayout.default,tracksPerPage:w.user.tracksPerPage.default,keyboardShortcuts:w.user.keyboardShortcuts.default},priv:{banners:{showFrontpageIntro:w.priv.banners.showFrontpageIntro.default,showPremiumIntro:w.priv.banners.showPremiumIntro.default,showPromoIntro:w.priv.banners.showPromoIntro.default}}},v={version:{description:"",type:m,values:[1,999999],default:1,valueStrings:[]},crossfade:[{name:{description:"Preset 1",type:L,values:[5,50],default:"10 sec EqPow",valueStrings:[]},length:{description:"Crossfade Length",type:m,values:[5,10,15,20,25,30],default:10,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},curve:{description:"Crossfade Curve",type:m,values:[0,1],default:0,valueStrings:["Equal Power","Linear"]}},{name:{description:"Preset 2",type:L,values:[5,50],default:"20 sec EqPow",valueStrings:[]},length:{description:"Crossfade Length",type:m,values:[5,10,15,20,25,30],default:20,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},curve:{description:"Crossfade Curve",type:m,values:[0,1],default:0,valueStrings:["Equal Power","Linear"]}},{name:{description:"Preset 3",type:L,values:[5,50],default:"30 sec EqPow",valueStrings:[]},length:{description:"Crossfade Length",type:m,values:[5,10,15,20,25,30],default:30,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},curve:{description:"Crossfade Curve",type:m,values:[0,1],default:0,valueStrings:["Equal Power","Linear"]}},{name:{description:"Preset 4",type:L,values:[5,50],default:"10 sec Linear",valueStrings:[]},length:{description:"Crossfade Length",type:m,values:[5,10,15,20,25,30],default:10,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},curve:{description:"Crossfade Curve",type:m,values:[0,1],default:1,valueStrings:["Equal Power","Linear"]}},{name:{description:"Preset 5",type:L,values:[5,50],default:"20 sec Linear",valueStrings:[]},length:{description:"Crossfade Length",type:m,values:[5,10,15,20,25,30],default:20,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},curve:{description:"Crossfade Curve",type:m,values:[0,1],default:1,valueStrings:["Equal Power","Linear"]}},{name:{description:"Preset 6",type:L,values:[5,50],default:"30 sec Linear",valueStrings:[]},length:{description:"Crossfade Length",type:m,values:[5,10,15,20,25,30],default:30,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},curve:{description:"Crossfade Curve",type:m,values:[0,1],default:1,valueStrings:["Equal Power","Linear"]}}]},bt={version:v.version.default,crossfade:[{name:v.crossfade[0].name.default,length:v.crossfade[0].length.default,curve:v.crossfade[0].curve.default},{name:v.crossfade[1].name.default,length:v.crossfade[1].length.default,curve:v.crossfade[1].curve.default},{name:v.crossfade[2].name.default,length:v.crossfade[2].length.default,curve:v.crossfade[2].curve.default},{name:v.crossfade[3].name.default,length:v.crossfade[3].length.default,curve:v.crossfade[3].curve.default},{name:v.crossfade[4].name.default,length:v.crossfade[4].length.default,curve:v.crossfade[4].curve.default},{name:v.crossfade[5].name.default,length:v.crossfade[5].length.default,curve:v.crossfade[5].curve.default}]};function re(t,e){let r=0;return s(t,e),r;function s(n,i){for(let a in n)if(n&&i&&typeof n[a]=="object"&&typeof i[a]=="object")s(n[a],i[a]);else if(i[a]!==void 0)qe(n,i[a],n[a],a)&&r++;else throw`'${a}' ${typeof n[a]=="object"?"object":"property"} is not in schema`}}function qe(t,e,r,s){switch(e.type){case m:if(Number.isInteger(r)===!1||r<e.values[0]||r>e.values[e.values.length-1])return Y.warn(`validate() - '${s}' has invalid value: ${r} ('${s}' is type: INTEGER - min: ${e.values[0]} - max: ${e.values[e.values.length-1]}) -- setting default value: ${e.default}`),t[s]=e.default,!0;break;case g:if(r!==!0&&r!==!1)return Y.warn(`validate() - '${s}' has invalid value: ${r} ('${s}' is type: BOOLEAN) -- setting default value: ${e.default}`),t[s]=e.default,!0;break;case L:if(typeof r!="string")return Y.warn(`validate() - '${s}' has invalid value: ${r} ('${s}' is type: STRING) -- setting default value: ${e.default}`),t[s]=e.default,!0;break;default:return Y.warn(`validate() - '${s}' has unknown type: ${e.type}`),!0}}var ve=b("utils"),V={SITE_MIN_WIDTH_WIDE:1,SITE_MAX_WIDTH:2,SITE_MAX_WIDTH_MOBILE:3},je=window.matchMedia(`(min-width: ${F("--site-min-width-wide")})`),We=window.matchMedia(`(max-width: ${F("--site-max-width")})`),He=window.matchMedia(`(max-width: ${F("--site-max-width-mobile")})`);function se(t,e,r,s=null){document.querySelectorAll(t).forEach(i=>{i.addEventListener(e,a=>r(a,s))})}function F(t,e=document.documentElement){let r=getComputedStyle(e).getPropertyValue(t);return r.length!==0?r=r.replace(/'|"/g,"").trim():ve.error(`getCssPropString(${t}): Returned CSS property string is empty`),r}function Tt(t,e=document.documentElement){let r=F(t,e),s=NaN;return r.length!==0&&(s=parseInt(r)),isNaN(s)&&ve.error(`getCssPropValue(${t}): Returned CSS property value is NaN`),s}function ye(t){switch(t){case V.SITE_MIN_WIDTH_WIDE:return je.matches;case V.SITE_MAX_WIDTH:return We.matches;case V.SITE_MAX_WIDTH_MOBILE:return He.matches}return!1}function It(t,e,r){t.classList.remove(e),t.classList.add(r)}var Et=(()=>{let t=new Event("fullscreenElement"),e=null;return{init:r,enter:n,exit:i,toggle:a};function r(){document.addEventListener("fullscreenchange",s),document.addEventListener("webkitfullscreenchange",s)}function s(){e=document.fullscreenElement!==null?document.fullscreenElement.id:null,t.fullscreenTarget=e,document.dispatchEvent(t)}function n(c){c.requestFullscreen()}function i(){e!==null&&(document.exitFullscreen(),e=null)}function a(c){e===null?n(c):i()}})(),wt=(()=>{let t=!1;return{allow(){return t},init:e};function e(r){t=r.keyboardShortcuts,document.addEventListener("allowKeyboardShortcuts",()=>{r.keyboardShortcuts&&(t=!0)}),document.addEventListener("denyKeyboardShortcuts",()=>{r.keyboardShortcuts&&(t=!1)})}})();var Be=b("snackbar"),$={id:"snackbar"},Ge=`
  <div id="${$.id}">
    <div class="${$.id}-container">
      <div class="${$.id}-message"></div>
      <div class="${$.id}-action-button"></div>
      <div class="${$.id}-close-button"><span class="material-icons" title="Dismiss">close</span></div>
    </div>
  </div>
`,f={snackbar:null,actionButton:null,closeButton:null},ne=0,be=null,q=null,Q=-1,j=-1;function ie(t,e=5,r=null,s=null,n=null){return Be.log(`showSnackbar(): ${t} (${e} sec.)`),Ye(),ae(),f.snackbar.querySelector(`.${$.id}-message`).innerHTML=t,f.snackbar.classList.add("show"),f.actionButton.style.display="none",q=n,r!==null&&s!==null?(be=s,f.actionButton.style.display="block",f.actionButton.textContent=r,f.actionButton.addEventListener("click",Se)):ye(V.SITE_MAX_WIDTH_MOBILE)?f.closeButton.style.paddingLeft="10px":f.closeButton.style.paddingLeft="20px",e!==0&&(Q=setTimeout(()=>{f.snackbar.classList.add("hide"),j=setTimeout(()=>{f.snackbar.className="",q!==null&&q()},450)},e*1e3)),++ne}function Ye(){f.snackbar===null&&(document.body.insertAdjacentHTML("beforeend",Ge),f.snackbar=document.getElementById($.id),f.actionButton=f.snackbar.querySelector(`.${$.id}-action-button`),f.closeButton=f.snackbar.querySelector(`.${$.id}-close-button`),f.closeButton.addEventListener("click",()=>{q!==null&&q(),ae(!0)}))}function Se(){be(),ae(!0)}function Qe(){return f.snackbar!==null&&f.snackbar.classList.length===1&&f.snackbar.classList.contains("show")}function $t(t=0){Qe()&&(ne===0||ne===t)&&(f.snackbar.classList.add("hide"),j=setTimeout(()=>f.snackbar.className="",450))}function ae(t=!1){Q!==-1&&(clearTimeout(Q),Q=-1),j!==-1&&(clearTimeout(j),j=-1),f.actionButton.removeEventListener("click",Se),t&&f.snackbar.classList.remove("show")}var y=b("storage"),W={},H={UF_AUTOPLAY:"UF_AUTOPLAY",UF_TERMLIST_CACHE:"UF_TERMLIST_CACHE",UF_TERMLIST_STATE:"UF_TERMLIST_STATE",UF_PLAYBACK_SETTINGS:"UF_PLAYBACK_SETTINGS",UF_SITE_SETTINGS:"UF_SITE_SETTINGS",UF_PRESET_LIST:"UF_PRESET_LIST",UF_SITE_THEME:"UF_SITE_THEME",UF_TRACK_LAYOUT:"UF_TRACK_LAYOUT",UF_TRACKS_PER_PAGE:"UF_TRACKS_PER_PAGE"};function xt(t){let e;try{e=window[t];let r="__storage_test__";return e.setItem(r,r),e.removeItem(r),!0}catch(r){return r instanceof DOMException&&(r.code===22||r.code===1014||r.name==="QuotaExceededError"||r.name==="NS_ERROR_DOM_QUOTA_REACHED")&&e&&e.length!==0}}function Nt(t,e="",r=60*60*24*365,s="/"){document.cookie=`${t}=${e}; Max-Age=${r}; Path=${s}; Secure; SameSite=Strict`}function oe(t,e){try{localStorage.setItem(t,e)}catch(r){y.error(r)}}function Je(t,e=null,r=!1){y.log(`readJson(): ${t} - ${e} - ${r}`);let s=localStorage.getItem(t),n=null;if(s===null)return r&&e!==null&&A(t,e),e;try{n=JSON.parse(s)}catch(i){y.error(i),e!==null&&(n=e)}return n}function A(t,e){y.log(`writeJson(): ${t} - ${e}`);try{localStorage.setItem(t,JSON.stringify(e))}catch(r){y.error(r)}}function Xe(t,e,r){y.log(`mergeSettings(): Merging ${r} from version ${t.version} to version ${e.version}`);let s={version:e.version};return le(t,e,s),ke(s,e),s}function le(t,e,r){for(let s in e)typeof e[s]=="object"&&(t&&typeof t[s]=="object"?(y.log(`mergeDeep() - Merging: ${s}`),r[s]={...e[s],...t[s]},le(t[s],e[s],r[s])):(y.log(`mergeDeep() - Copying: ${s}`),r[s]={...e[s]},le({},e[s],r[s])))}function ke(t,e){for(let r in t)r in e||(y.log(`cleanDeep() - Deleting: ${r} (${typeof t[r]=="object"?"object":"property"})`),delete t[r]),typeof t[r]=="object"&&ke(t[r],e[r])}function Ke(t,e,r){try{let s=0;switch(t){case H.UF_PLAYBACK_SETTINGS:s=re(e,d);break;case H.UF_SITE_SETTINGS:s=re(e,w);break}s>0&&A(t,e)}catch(s){return y.error(`validateSettings() exception: ${s} -- using default settings`),A(t,r),r}return e}function Ft(t,e=null,r=!1){let s=Je(t,e,r);if(s!==null&&e!==null&&s.version!==void 0){let n=s;return s.version<e.version&&(y.log(s),n=Xe(s,e,t),A(t,n),y.log(n)),Te(t,Ke(t,n,e))}return e!==null?(y.warn(`readWriteSettingsProxy() - Failed for: ${t} -- using default settings`),A(t,e),Te(t,e)):(y.error(`readWriteSettingsProxy() - Fatal error for: ${t} -- unable to read settings!`),null)}var Te=(t,e)=>{let r={get(s,n,i){if(n in s){let a=Reflect.get(s,n,i);return typeof a=="object"?new Proxy(a,r):a}y.error(`onSettingsChange(): Get unknown property: ${n}`)},set(s,n,i,a){if(n in s){let c=Reflect.get(s,n,a);return i!==c&&(Reflect.set(s,n,i),A(t,e),ze(n,c,i)),!0}return y.error(`onSettingsChange(): Set unknown property: ${n}`),!0}};return new Proxy(e,r)};function At(t,e){y.log(`addSettingsObserver() for property: ${t}`),t in W||(W[t]=[]),W[t].push(e)}function ze(t,e,r){t in W&&(y.log(`callSettingsObserver() for property: ${t} - oldValue: ${e} - newValue: ${r}`),W[t].forEach(s=>s(e,r)))}var Ze=b("modal"),I={id:"modal"},et=`
  <div id="${I.id}-dialog" tabindex="-1">
    <div class="${I.id}-container">
      <div class="${I.id}-header">
        <div class="${I.id}-title"></div>
        <div class="${I.id}-close-button"><span class="material-icons" title="Dismiss">close</span></div>
      </div>
      <div class="${I.id}-body"></div>
    </div>
  </div>
`,p={overlay:null,container:null,body:null},Ie=null;function Pe(t,e,r){Ze.log(`showModal(): ${t}`),tt(),Ie=r,rt(e),p.container.querySelector(`.${I.id}-title`).innerHTML=t,p.overlay.classList.add("show"),p.overlay.addEventListener("keydown",Ee),p.overlay.focus(),we(!0)}function tt(){p.container===null&&(document.body.insertAdjacentHTML("beforeend",et),p.overlay=document.getElementById(`${I.id}-dialog`),p.container=p.overlay.querySelector(`.${I.id}-container`),p.body=p.overlay.querySelector(`.${I.id}-body`),p.overlay.addEventListener("click",t=>{t.target===p.overlay&&J()}),p.overlay.addEventListener("animationend",()=>{p.overlay.classList.contains("hide")&&(p.overlay.className="",we(!1))}),p.overlay.querySelector(`.${I.id}-close-button`).addEventListener("click",J))}function rt(t){let e="";t.forEach(r=>e+=`<div id="${r.id}" class="${I.id}-single-choice">${r.description}</div>`),p.body.innerHTML=e,t.forEach(r=>p.body.querySelector(`#${r.id}`).addEventListener("click",st))}function st(){J(),setTimeout(()=>Ie(this.id),150)}function Ee(t){t.stopPropagation(),t.key==="Escape"&&J()}function J(){p.overlay.removeEventListener("keydown",Ee),p.overlay.classList.replace("show","hide")}function we(t){let e=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow=t?"hidden":"",document.body.style.paddingRight=t?`${e}px`:"",document.getElementById("site-header").style.paddingRight=t?`${e}px`:""}var B=b("site-interaction"),P=document.documentElement.classList,U={};function Bt(t){B.log("init()"),U=t,at(),Ce.init(),Le.init(),se(".entry-meta-controls .track-share-control","click",nt)}function Gt(t){U=t,Ce.setCurrent(),Le.setCurrent()}function nt(t){let e=t.target.getAttribute("data-artist-track-title"),r=t.target.getAttribute("data-track-url");it.show({string:e,filterString:!0,url:r})}function at(){let t=document.body.classList.contains("player-playlist");document.querySelector("#footer-player-toggle span").textContent=t?"Compact":"Gallery",se("#footer-player-toggle","click",e=>{e.preventDefault();let r=window.location.href.replace(/\/page\/(?!0)\d{1,6}/,"");t?window.location.href=r.replace(/player\//,""):window.location.href=r.replace(/ultrafunk\.com\//,"ultrafunk.com/player/")})}function $e(t,e,r){let s=Object.values(t).find(n=>n.id===e);return s!==void 0?s:r}function Me(t,e){let r=Object.values(t).findIndex(n=>n.id===e.id),s=Object.keys(t);return r+1<s.length?t[s[r+1]]:t[s[0]]}var Ce=(()=>{let t={},e={toggle:null},r={toggleId:"#footer-site-theme-toggle",prefDarkScheme:"(prefers-color-scheme: dark)"},s={light:{id:"light",text:"light",class:"site-theme-light"},dark:{id:"dark",text:"dark",class:"site-theme-dark"},auto:{id:"auto",text:"auto"}};return{init:n,setCurrent:i,toggle:c};function n(){e.toggle=document.querySelector(r.toggleId),window.matchMedia(r.prefDarkScheme).addEventListener("change",a),e.toggle.addEventListener("click",c),i()}function i(){t=$e(s,U.user.theme,s.auto),h()}function a(){t.id===s.auto.id&&h()}function c(l){l.preventDefault(),t=Me(s,t),U.user.theme=t.id,h()}function h(){let l=t;t.id===s.auto.id&&(l=window.matchMedia(r.prefDarkScheme).matches?s.dark:s.light),oe(H.UF_SITE_THEME,l.id),o(l)}function o(l){P.contains(l.class)===!1&&(B.log(`updateDOM() - newSiteTheme: ${l.id}`),P.remove(s.light.class,s.dark.class),P.add(l.class)),e.toggle.querySelector("span").textContent=t.text}})(),Le=(()=>{let t={},e={toggle:null},r={toggleId:"#footer-track-layout-toggle",minWidth:`(max-width: ${F("--site-track-layout-min-width")})`},s={list:{id:"list",text:"list",class:"track-layout-list"},twoColumn:{id:"2-column",text:"2 column",class:"track-layout-2-column"},threeColumn:{id:"3-column",text:"3 / 4 column",class:"track-layout-3-column"}};return{init:n,setCurrent:i,toggle:c};function n(){e.toggle=document.querySelector(r.toggleId),window.matchMedia(r.minWidth).addEventListener("change",a),e.toggle.addEventListener("click",c),i()}function i(){t=$e(s,U.user.trackLayout,s.threeColumn),e.toggle.querySelector("span").textContent=t.text,h()}function a(l){P.contains("user-layout")&&(l.matches?P.remove(t.class):P.add(t.class))}function c(l){l.preventDefault(),t=Me(s,t),U.user.trackLayout=t.id,h(),l.type==="click"&&e.toggle.scrollIntoView()}function h(){oe(H.UF_TRACK_LAYOUT,t.id),o()}function o(){P.contains("user-layout")&&P.contains(t.class)===!1&&(B.log(`updateDOM() - newTrackLayout: ${t.id}`),P.remove(s.list.class,s.twoColumn.class,s.threeColumn.class),window.matchMedia(r.minWidth).matches===!1&&P.add(t.class)),e.toggle.querySelector("span").textContent=t.text}})(),it=(()=>{let t=/\s{1,}[–·-]\s{1,}/i,e,r,s,n,i;return{show:a};function a(o){({title:e="Share / Play Track",string:r=null,filterString:s=!1,url:n=null,verb:i="Play"}=o),Pe(e,c(i),h)}function c(o){return[{id:"copyToClipboardId",description:"<b>Copy Link</b> to Clipboard"},{id:"shareOnEmailId",description:"<b>Share</b> on Email"},{id:"amazonMusicId",description:`<b>${o}</b> on Amazon Music`},{id:"appleMusicId",description:`<b>${o}</b> on Apple Music`},{id:"spotifyId",description:`<b>${o}</b> on Spotify`},{id:"tidalId",description:`<b>${o}</b> on Tidal`},{id:"youTubeMusicId",description:`<b>${o}</b> on YouTube Music`}]}function h(o){B.log(`singleChoiceListClick(): ${o} - title: "${e}" - string: "${r}" - filterString: ${s} - url: ${n} - verb: ${i}`);let l=encodeURIComponent(s?r.replace(t," "):r);switch(o){case"copyToClipboardId":navigator.clipboard.writeText(n).then(()=>{ie("Track link copied to clipboard",3)},E=>{B.error(`shareModal.copyToClipboard() failed because ${E}`),ie("Unable to copy Track link to clipboard",5)});break;case"shareOnEmailId":window.location.href=`mailto:?subject=${encodeURIComponent(r)}&body=${n}%0d%0a`;break;case"amazonMusicId":window.open(`https://music.amazon.com/search/${l}`,"_blank");break;case"appleMusicId":window.open(`https://music.apple.com/ca/search?term=${l}`,"_blank");break;case"spotifyId":window.open(`https://open.spotify.com/search/${l}`,"_blank");break;case"tidalId":window.open(`https://google.com/search?q=${l}%20site:tidal.com`,"_blank");break;case"youTubeMusicId":window.open(`https://music.youtube.com/search?q=${l}`,"_blank");break}}})();export{V as a,R as b,vt as c,H as d,yt as e,bt as f,xt as g,se as h,Bt as i,Gt as j,ie as k,Nt as l,Tt as m,$t as n,ye as o,Fe as p,b as q,It as r,Et as s,Ce as t,lt as u,wt as v,Ae as w,Le as x,Ft as y,Re as z,it as A,At as B,De as C,pe as D,mt as E};
//# sourceMappingURL=chunk-MK2I6LY7.js.map
