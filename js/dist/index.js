import{a as ye,c as K,e as v,h as le,i as ce,j as re,k as m,l as Y,m as R,n as ne,o as se,q as W,r as G,s as S,t as ae,u as oe}from"./chunk.MDHMCFIG.js";function x(e){let t;try{t=window[e];const n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(n){return n instanceof DOMException&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&t.length!==0}}function O(e,t="",n=60*60*24*365,i="/"){document.cookie=`${e}=${t}; Max-Age=${n}; Path=${i}; Secure; SameSite=Strict`}function _(e,t){try{localStorage.setItem(e,t)}catch(n){ye.error(n)}}const Q=S("modal"),f={id:"modal"},X=`
  <div id="${f.id}-dialog" tabindex="-1">
    <div class="${f.id}-container">
      <div class="${f.id}-header">
        <div class="${f.id}-title"></div>
        <div class="${f.id}-close-button"><span class="material-icons" title="Dismiss">close</span></div>
      </div>
      <div class="${f.id}-body"></div>
    </div>
  </div>
`,r={overlay:null,container:null,body:null};let P=null;function A(e,t,n){Q.log(`showModal(): ${e}`),Z(),P=n,ee(t),r.container.querySelector(`.${f.id}-title`).innerHTML=e,r.overlay.classList.add("show"),r.overlay.addEventListener("keydown",H),r.overlay.focus(),U(!0)}function Z(){r.container===null&&(document.body.insertAdjacentHTML("beforeend",X),r.overlay=document.getElementById(`${f.id}-dialog`),r.container=r.overlay.querySelector(`.${f.id}-container`),r.body=r.overlay.querySelector(`.${f.id}-body`),r.overlay.addEventListener("click",e=>{e.target===r.overlay&&L()}),r.overlay.addEventListener("animationend",()=>{r.overlay.classList.contains("hide")&&(r.overlay.className="",U(!1))}),r.overlay.querySelector(`.${f.id}-close-button`).addEventListener("click",L))}function ee(e){let t="";e.forEach(n=>t+=`<div id="${n.id}" class="${f.id}-single-choice">${n.description}</div>`),r.body.innerHTML=t,e.forEach(n=>r.body.querySelector(`#${n.id}`).addEventListener("click",te))}function te(){L(),setTimeout(()=>P(this.id),150)}function H(e){e.stopPropagation(),e.key==="Escape"&&L()}function L(){r.overlay.removeEventListener("keydown",H),r.overlay.classList.replace("show","hide")}function U(e){const t=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow=e?"hidden":"",document.body.style.paddingRight=e?`${t}px`:"",document.getElementById("site-header").style.paddingRight=e?`${t}px`:""}const E=S("site-interaction");let b={};function D(e){E.log("init()"),b=e,ie.addEventListeners(),k.init(),T.init()}function F(e){b=e,k.setCurrent(),T.setCurrent()}const k=(()=>{let e={};const t={toggle:null},n={toggleId:"#footer-site-theme-toggle",prefDarkScheme:"(prefers-color-scheme: dark)"},i={light:{id:"light",text:"light",class:"site-theme-light"},dark:{id:"dark",text:"dark",class:"site-theme-dark"},auto:{id:"auto",text:"auto"}};return{init:s,setCurrent:l,toggle:d};function s(){t.toggle=document.querySelector(n.toggleId);const o=window.matchMedia(n.prefDarkScheme);o.addEventListener("change",c),m(n.toggleId,"click",d),l()}function l(){e=q(i,b.user.theme,i.auto),u()}function c(){e.id===i.auto.id&&u()}function d(o){o.preventDefault(),e=B(i,e),b.user.theme=e.id,u()}function u(){let o=e;e.id===i.auto.id&&(o=window.matchMedia(n.prefDarkScheme).matches?i.dark:i.light),_(v.UF_SITE_THEME,o.id),p(o)}function p(o){document.documentElement.classList.contains(o.class)===!1&&(E.log(`updateDOM() - newSiteTheme: ${o.id}`),document.documentElement.classList.remove(i.light.class,i.dark.class),document.documentElement.classList.add(o.class)),t.toggle.querySelector("span").textContent=e.text}})(),T=(()=>{let e={};const t={toggle:null},n={toggleId:"#footer-track-layout-toggle",minWidth:`(max-width: ${ne("--site-content-track-layout-min-width")})`},i={list:{id:"list",text:"list",class:"track-layout-list"},twoColumn:{id:"2-column",text:"2 column",class:"track-layout-2-column"},threeColumn:{id:"3-column",text:"3 / 4 column",class:"track-layout-3-column"}};return{init:s,setCurrent:l,toggle:d};function s(){t.toggle=document.querySelector(n.toggleId);const o=window.matchMedia(n.minWidth);o.addEventListener("change",c),m(n.toggleId,"click",d),l()}function l(){e=q(i,b.user.trackLayout,i.threeColumn),t.toggle.querySelector("span").textContent=e.text,u()}function c(o){o.matches?document.documentElement.classList.remove(e.class):document.documentElement.classList.add(e.class)}function d(o,I=!1){o.preventDefault(),e=B(i,e),b.user.trackLayout=e.id,u(),I&&t.toggle.scrollIntoView()}function u(){_(v.UF_TRACK_LAYOUT,e.id),p()}function p(){document.documentElement.classList.contains(e.class)===!1&&(E.log(`updateDOM() - newTrackLayout: ${e.id}`),document.documentElement.classList.remove(i.list.class,i.twoColumn.class,i.threeColumn.class),window.matchMedia(n.minWidth).matches===!1&&document.documentElement.classList.add(e.class),t.toggle.querySelector("span").textContent=e.text)}})();function q(e,t,n){const i=Object.values(e).find(s=>s.id===t);return i!==void 0?i:n}function B(e,t){const n=Object.values(e).findIndex(s=>s.id===t.id),i=Object.keys(e);return n+1<i.length?e[i[n+1]]:e[i[0]]}const ie=(()=>{let e=null,t=null;const n=/\s{1,}[–·-]\s{1,}/i,i=[{id:"copyToClipboard",description:"<b>Copy Link</b> to Clipboard"},{id:"shareOnEmail",description:"<b>Share</b> on Email"},{id:"playOnAmazonMusic",description:"<b>Play</b> on Amazon Music"},{id:"playOnAppleMusic",description:"<b>Play</b> on Apple Music"},{id:"playOnSpotify",description:"<b>Play</b> on Spotify"},{id:"playOnTidal",description:"<b>Play</b> on Tidal"},{id:"playOnYouTubeMusic",description:"<b>Play</b> on YouTube Music"}];return{addEventListeners:s,click:l};function s(){m(".entry-meta-controls .track-share-control","click",l)}function l(d){e=d.target.getAttribute("data-entry-track-title"),t=d.target.getAttribute("data-entry-track-url"),A("Share / Play Track",i,c)}function c(d){E.log(`singleChoiceListClick(): ${d} - trackTitle: ${e} - trackUrl: ${t}`);const u=encodeURIComponent(e.replace(n," "));switch(d){case"copyToClipboard":navigator.clipboard.writeText(t).then(()=>{R("Track link copied to the clipboard",3)},p=>{E.error(`trackShare.copyToClipboard() failed because ${p}`),R("Failed to copy Track link to the clipboard",5)});break;case"shareOnEmail":window.location.href=`mailto:?subject=${encodeURIComponent(e)}&body=${t}%0d%0a`;break;case"playOnAmazonMusic":window.open(`https://music.amazon.com/search/${u}`,"_blank");break;case"playOnAppleMusic":window.open(`https://music.apple.com/ca/search?term=${u}`,"_blank");break;case"playOnSpotify":window.open(`https://open.spotify.com/search/${u}`,"_blank");break;case"playOnTidal":window.open(`https://google.com/search?q=${u}%20site:tidal.com`,"_blank");break;case"playOnYouTubeMusic":window.open(`https://music.youtube.com/search?q=${u}`,"_blank");break}}})(),w=S("index");let g={};const N={smoothScrolling:!1,settingsUpdatedEvent:"settingsUpdated",fullscreenTrackEvent:"fullscreenTrack"},a={siteHeader:null,introBanner:null,siteContent:null,siteContentSearch:null,fullscreenTarget:null};document.addEventListener("DOMContentLoaded",()=>{w.log("DOMContentLoaded"),$(),de(),a.introBanner!==null&&ue(),document.querySelector("#site-content form.search-form")!==null&&(a.siteContentSearch.focus(),a.siteContentSearch.setSelectionRange(9999,9999)),h.setTopMargin(),h.setLastInnerWidth(window.innerWidth),ge()});document.addEventListener(N.settingsUpdatedEvent,()=>{$(),F(g),O(v.UF_TRACKS_PER_PAGE,g.user.tracksPerPage,60*60*24*365*5)});document.addEventListener(N.fullscreenTrackEvent,e=>a.fullscreenTarget=e.fullscreenTarget);window.addEventListener("load",()=>h.setTopMargin());window.addEventListener("storage",fe);function $(){w.log("readSettings()"),g=ae(v.UF_SITE_SETTINGS,re,!0),Y(g.user,le),Y(g.priv.banners,ce),w.log(g)}function de(){w.log("initIndex()"),a.siteHeader=document.getElementById("site-header"),a.introBanner=document.getElementById("intro-banner"),a.siteContent=document.getElementById("site-content"),a.siteContentSearch=document.querySelector("#site-content form input.search-field"),h.addEventListener(),he.addEventListener(),D(g),C.init(),y.init()}document.addEventListener("keydown",e=>{if(e.ctrlKey===!1&&e.altKey===!1)switch(e.key){case"Escape":y.isVisible()&&(e.preventDefault(),y.toggle());return}if(g.user.keyboardShortcuts&&e.ctrlKey===!1&&e.altKey===!1)switch(e.key){case"c":case"C":M()&&(e.preventDefault(),y.toggle());break;case"L":M()&&J()&&(T.toggle(e,!1),h.setTopMargin());break;case"s":case"S":M()&&me()&&(e.preventDefault(),C.toggle());break;case"T":M()&&J()&&k.toggle(e);break}});function M(){return C.isVisible()===!1&&a.siteContentSearch!==document.activeElement}function J(){return document.body.classList.contains("page-template-page-settings")===!1}function me(){return a.fullscreenTarget===null}function fe(e){if(g.storageChangeSync){const t=oe(e,v.UF_SITE_SETTINGS);t!==null&&(w.log(`windowEventStorage(): ${e.key}`),$(),g.user.theme!==t.user.theme&&k.setCurrent(),g.user.trackLayout!==t.user.trackLayout&&T.setCurrent())}}function ue(){x("localStorage")&&(typeof bannerProperty!="undefined"&&bannerProperty!==null&&(g.priv.banners[bannerProperty]&&(a.introBanner.style.display="block",m("#intro-banner .intro-banner-close-button","click",()=>{a.introBanner.style.display="",h.setTopMargin(),g.priv.banners[bannerProperty]=!1}))))}function ge(){if(document.querySelector(".nav-bar-title .go-back-to")!==null){let e="";if(document.referrer.length===0)e="Previous Page";else{const t=new URL(decodeURIComponent(document.referrer));if(t.search.length!==0)e="Search Results";else if(t.pathname.length>1){const n=t.pathname.slice(-1)==="/"?1:0,i=t.pathname.slice(1,t.pathname.length-n).replace(/-/gi," ").split("/");i.forEach((s,l)=>e+=l+1<i.length?s+" / ":s)}}document.querySelectorAll("#site-navigation .nav-bar-title").forEach(t=>{t.querySelector(".go-back-title").textContent=e.length>0?e:"Ultrafunk (home)",t.querySelector(".go-back-to").style.opacity=1})}}const y=(()=>{const e=new ResizeObserver(l),t={navMenu:null,modalOverlay:null};let n=!1;return{isVisible(){return n},scrolledTop(){t.navMenu.style.display=""},init:i,toggle:s};function i(){t.navMenu=document.querySelector("#site-navigation .nav-menu-outer"),t.modalOverlay=document.getElementById("nav-menu-modal-overlay"),m(".nav-menu-toggle","click",s),t.modalOverlay.addEventListener("click",s),t.modalOverlay.addEventListener("transitionend",c),e.observe(t.navMenu.querySelector(".menu-primary-menu-container"))}function s(){a.siteHeader.classList.contains("sticky-nav-up")?n?t.navMenu.style.display="none":t.navMenu.style.display="flex":a.siteHeader.classList.contains("sticky-nav-down")===!1&&a.siteHeader.classList.toggle("hide-nav-menu")}function l(d){n=d[0].contentRect.height!==0,n?(t.modalOverlay.className="",t.modalOverlay.classList.add("show"),setTimeout(()=>t.modalOverlay.classList.add("fadein"),50)):t.modalOverlay.classList.add("fadeout")}function c(){n===!1&&(t.modalOverlay.className="",t.navMenu.style.display="")}})(),C=(()=>{const e=new Event("allowKeyboardShortcuts"),t=new Event("denyKeyboardShortcuts"),n={searchContainer:null,searchField:null,brandingContainer:null};let i=!1;return{isVisible(){return i},init:s,toggle:l,hide:c};function s(){n.searchContainer=document.getElementById("search-container"),n.searchField=n.searchContainer.querySelector(".search-field"),n.brandingContainer=a.siteHeader.querySelector("div.site-branding-container"),m(".nav-search-toggle","click",l),m(".nav-search-toggle","mousedown",o=>o.preventDefault()),n.searchField.addEventListener("blur",c),n.searchField.addEventListener("keydown",o=>{o.key==="Escape"&&(o.stopPropagation(),c())})}function l(){if(n.searchContainer.style.display.length===0){if(W(K.SITE_MAX_WIDTH_MOBILE)&&(a.siteHeader.querySelector(".nav-bar-container-mobile-top").offsetHeight===0&&a.siteHeader.querySelector(".nav-bar-container-mobile-up").offsetHeight===0))return;d()}else c()}function c(){i&&u(!1,e,"","search")}function d(){p(),u(!0,t,"flex","clear"),n.searchField.focus(),n.searchField.setSelectionRange(9999,9999)}function u(o,I,j,z){i=o,document.dispatchEvent(I),n.searchContainer.style.display=j,document.querySelectorAll("div.nav-search-toggle i").forEach(V=>V.textContent=z)}function p(){let o=DOMRect;W(K.SITE_MAX_WIDTH_MOBILE)?(n.brandingContainer.offsetHeight!==0?o.top=n.brandingContainer.offsetTop:o.top=a.siteHeader.querySelector(".nav-bar-container-mobile-up").offsetTop,o.top+=3,o.left=63,o.right=document.body.clientWidth-63,o.height=30):o=n.brandingContainer.getBoundingClientRect(),n.searchContainer.style.top=`${o.top}px`,n.searchContainer.style.left=`${o.left}px`,n.searchContainer.style.width=`${o.right-o.left}px`,n.searchContainer.style.height=`${o.height}px`}})(),h=(()=>{let e=0,t=0;return{getHeaderHeight(){return e},setLastInnerWidth(s){t=s},addEventListener:n,setTopMargin:i};function n(){window.addEventListener("resize",()=>{const s=window.innerWidth;t!==s&&(i(),t=s)})}function i(){const s=se("--site-content-margin-top");a.siteHeader.classList.contains("hide-nav-menu")&&(e=a.siteHeader.offsetHeight),a.introBanner!==null&&a.introBanner.style.display.length!==0?(a.introBanner.style.marginTop=`${e}px`,a.siteContent.style.marginTop=`${s}px`):a.siteContent.style.marginTop=`${e+s}px`}})(),he=(()=>{let e=0,t=!1;return{addEventListener:n};function n(){window.addEventListener("scroll",()=>{const c=window.pageYOffset,d=Math.round(h.getHeaderHeight()>150?h.getHeaderHeight()/2:h.getHeaderHeight()/3);c<1?i():c>d&&c>e?s():l(),C.hide(),e=c})}function i(){a.siteHeader.classList.remove("sticky-nav-down","sticky-nav-up"),a.siteHeader.classList.add("hide-nav-menu"),y.scrolledTop(),h.setTopMargin()}function s(){t===!1&&(t=!0,G(a.siteHeader,"sticky-nav-up","sticky-nav-down"))}function l(){t===!0&&(t=!1,G(a.siteHeader,"sticky-nav-down","sticky-nav-up")),y.isVisible()&&y.toggle()}})();
//# sourceMappingURL=index.js.map
