import{a as N,b as Se,e as b,f as fe,h as p,i as F,j as ae,k as ge,m as G,n as $,o as k,p as ue}from"./chunk.6XP3KIDD.js";function A(e){let t;try{t=window[e];let n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(n){return n instanceof DOMException&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&t.length!==0}}function P(e,t="",n=60*60*24*365,o="/"){document.cookie=`${e}=${t}; Max-Age=${n}; Path=${o}; Secure; SameSite=Strict`}function x(e,t){try{localStorage.setItem(e,t)}catch(n){Se.error(n)}}var ne=k("modal"),g={id:"modal"},oe=`
  <div id="${g.id}-dialog" tabindex="-1">
    <div class="${g.id}-container">
      <div class="${g.id}-header">
        <div class="${g.id}-title"></div>
        <div class="${g.id}-close-button"><span class="material-icons" title="Dismiss">close</span></div>
      </div>
      <div class="${g.id}-body"></div>
    </div>
  </div>
`,a={overlay:null,container:null,body:null},H=null;function R(e,t,n){ne.log(`showModal(): ${e}`),ie(),H=n,re(t),a.container.querySelector(`.${g.id}-title`).innerHTML=e,a.overlay.classList.add("show"),a.overlay.addEventListener("keydown",O),a.overlay.focus(),D(!0)}function ie(){a.container===null&&(document.body.insertAdjacentHTML("beforeend",oe),a.overlay=document.getElementById(`${g.id}-dialog`),a.container=a.overlay.querySelector(`.${g.id}-container`),a.body=a.overlay.querySelector(`.${g.id}-body`),a.overlay.addEventListener("click",e=>{e.target===a.overlay&&C()}),a.overlay.addEventListener("animationend",()=>{a.overlay.classList.contains("hide")&&(a.overlay.className="",D(!1))}),a.overlay.querySelector(`.${g.id}-close-button`).addEventListener("click",C))}function re(e){let t="";e.forEach(n=>t+=`<div id="${n.id}" class="${g.id}-single-choice">${n.description}</div>`),a.body.innerHTML=t,e.forEach(n=>a.body.querySelector(`#${n.id}`).addEventListener("click",se))}function se(){C(),setTimeout(()=>H(this.id),150)}function O(e){e.stopPropagation(),e.key==="Escape"&&C()}function C(){a.overlay.removeEventListener("keydown",O),a.overlay.classList.replace("show","hide")}function D(e){let t=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow=e?"hidden":"",document.body.style.paddingRight=e?`${t}px`:"",document.getElementById("site-header").style.paddingRight=e?`${t}px`:""}var T=k("site-interaction"),m=document.documentElement.classList,S={};function q(e){T.log("init()"),S=e,L.init(),w.init(),p(".entry-meta-controls .track-share-control","click",le)}function B(e){S=e,L.setCurrent(),w.setCurrent()}function le(e){let t=e.target.getAttribute("data-artist-track-title"),n=e.target.getAttribute("data-track-url");U.show({string:t,filterString:!0,url:n})}function j(e,t,n){let o=Object.values(e).find(r=>r.id===t);return o!==void 0?o:n}function W(e,t){let n=Object.values(e).findIndex(r=>r.id===t.id),o=Object.keys(e);return n+1<o.length?e[o[n+1]]:e[o[0]]}var L=(()=>{let e={},t={toggle:null},n={toggleId:"#footer-site-theme-toggle",prefDarkScheme:"(prefers-color-scheme: dark)"},o={light:{id:"light",text:"light",class:"site-theme-light"},dark:{id:"dark",text:"dark",class:"site-theme-dark"},auto:{id:"auto",text:"auto"}};return{init:r,setCurrent:l,toggle:u};function r(){t.toggle=document.querySelector(n.toggleId);let i=window.matchMedia(n.prefDarkScheme);i.addEventListener("change",c),p(n.toggleId,"click",u),l()}function l(){e=j(o,S.user.theme,o.auto),f()}function c(){e.id===o.auto.id&&f()}function u(i){i.preventDefault(),e=W(o,e),S.user.theme=e.id,f()}function f(){let i=e;e.id===o.auto.id&&(i=window.matchMedia(n.prefDarkScheme).matches?o.dark:o.light),x(b.UF_SITE_THEME,i.id),d(i)}function d(i){m.contains(i.class)===!1&&(T.log(`updateDOM() - newSiteTheme: ${i.id}`),m.remove(o.light.class,o.dark.class),m.add(i.class)),t.toggle.querySelector("span").textContent=e.text}})(),w=(()=>{let e={},t={toggle:null},n={toggleId:"#footer-track-layout-toggle",minWidth:`(max-width: ${ae("--site-content-track-layout-min-width")})`},o={list:{id:"list",text:"list",class:"track-layout-list"},twoColumn:{id:"2-column",text:"2 column",class:"track-layout-2-column"},threeColumn:{id:"3-column",text:"3 / 4 column",class:"track-layout-3-column"}};return{init:r,setCurrent:l,toggle:u};function r(){t.toggle=document.querySelector(n.toggleId);let i=window.matchMedia(n.minWidth);i.addEventListener("change",c),p(n.toggleId,"click",u),l()}function l(){e=j(o,S.user.trackLayout,o.threeColumn),t.toggle.querySelector("span").textContent=e.text,f()}function c(i){m.contains("user-layout")&&(i.matches?m.remove(e.class):m.add(e.class))}function u(i,E=!1){i.preventDefault(),e=W(o,e),S.user.trackLayout=e.id,f(),E&&t.toggle.scrollIntoView()}function f(){x(b.UF_TRACK_LAYOUT,e.id),d()}function d(){m.contains("user-layout")&&m.contains(e.class)===!1&&(T.log(`updateDOM() - newTrackLayout: ${e.id}`),m.remove(o.list.class,o.twoColumn.class,o.threeColumn.class),window.matchMedia(n.minWidth).matches===!1&&m.add(e.class),t.toggle.querySelector("span").textContent=e.text)}})(),U=(()=>{let e=/\s{1,}[–·-]\s{1,}/i,t,n,o,r,l;return{show:c};function c(d){({title:t="Share / Play Track",string:n=null,filterString:o=!1,url:r=null,verb:l="Play"}=d),R(t,u(l),f)}function u(d){return[{id:"copyToClipboardId",description:"<b>Copy Link</b> to Clipboard"},{id:"shareOnEmailId",description:"<b>Share</b> on Email"},{id:"amazonMusicId",description:`<b>${d}</b> on Amazon Music`},{id:"appleMusicId",description:`<b>${d}</b> on Apple Music`},{id:"spotifyId",description:`<b>${d}</b> on Spotify`},{id:"tidalId",description:`<b>${d}</b> on Tidal`},{id:"youTubeMusicId",description:`<b>${d}</b> on YouTube Music`}]}function f(d){T.log(`singleChoiceListClick(): ${d} - title: "${t}" - string: "${n}" - filterString: ${o} - url: ${r} - verb: ${l}`);let i=o?encodeURIComponent(n.replace(e," ")):encodeURIComponent(n);switch(d){case"copyToClipboardId":navigator.clipboard.writeText(r).then(()=>{F("Track link copied to clipboard",3)},E=>{T.error(`shareModal.copyToClipboard() failed because ${E}`),F("Unable to copy Track link to clipboard",5)});break;case"shareOnEmailId":window.location.href=`mailto:?subject=${encodeURIComponent(n)}&body=${r}%0d%0a`;break;case"amazonMusicId":window.open(`https://music.amazon.com/search/${i}`,"_blank");break;case"appleMusicId":window.open(`https://music.apple.com/ca/search?term=${i}`,"_blank");break;case"spotifyId":window.open(`https://open.spotify.com/search/${i}`,"_blank");break;case"tidalId":window.open(`https://google.com/search?q=${i}%20site:tidal.com`,"_blank");break;case"youTubeMusicId":window.open(`https://music.youtube.com/search?q=${i}`,"_blank");break}}})();function Y(){document.getElementById("termlist-container").addEventListener("click",e=>{let t=e.target.closest("div.play-button"),n=e.target.closest("div.shuffle-button"),o=e.target.closest("div.share-find-button"),r=e.target.closest("div.termlist-header");t!==null?K(e,t.querySelector("a").href):n!==null?K(e,n.querySelector("a").href):o!==null?ce(e,o):r!==null&&de(e)})}function K(e,t){e.preventDefault(),sessionStorage.setItem(b.UF_AUTOPLAY,"true"),window.location.href=t}function ce(e,t){e.preventDefault();let n=t.getAttribute("data-term-type"),o=t.getAttribute("data-term-name"),r=t.getAttribute("data-term-url");U.show({title:`Share / Find ${n}`,string:o,url:r,verb:"Find"})}function de(e){e.preventDefault();let t=e.target.closest("div.termlist-entry"),n=t.querySelector("div.expand-toggle span"),o=t.querySelector("div.termlist-body"),r=o.style.display.length!==0;$(t,r?"open":"closed",r?"closed":"open"),n.innerText=r?"expand_more":"expand_less",o.style.display=r?"":"block"}var I=k("index"),y={},V={smoothScrolling:!1,settingsUpdatedEvent:"settingsUpdated",fullscreenTrackEvent:"fullscreenTrack"},s={siteHeader:null,introBanner:null,siteContent:null,siteContentSearch:null,fullscreenTarget:null};document.addEventListener("DOMContentLoaded",()=>{I.log("DOMContentLoaded"),z(),me(),s.introBanner!==null&&he(),document.querySelector("#site-content form.search-form")!==null&&(s.siteContentSearch.focus(),s.siteContentSearch.setSelectionRange(9999,9999)),h.setTopMargin(),h.setLastInnerWidth(window.innerWidth),document.getElementById("termlist-container")!==null&&Y(),pe()});document.addEventListener(V.settingsUpdatedEvent,()=>{z(),B(y),P(b.UF_TRACKS_PER_PAGE,y.user.tracksPerPage,60*60*24*365*5)});document.addEventListener(V.fullscreenTrackEvent,e=>s.fullscreenTarget=e.fullscreenTarget);window.addEventListener("load",()=>h.setTopMargin());function z(){I.log("readSettings()"),y=ue(b.UF_SITE_SETTINGS,fe,!0),I.log(y)}function me(){I.log("initIndex()"),s.siteHeader=document.getElementById("site-header"),s.introBanner=document.getElementById("intro-banner"),s.siteContent=document.getElementById("site-content"),s.siteContentSearch=document.querySelector("#site-content form input.search-field"),h.addEventListener(),ye.addEventListener(),q(y),M.init(),v.init()}document.addEventListener("keydown",e=>{if(e.ctrlKey===!1&&e.altKey===!1)switch(e.key){case"Escape":v.isVisible()&&(e.preventDefault(),v.toggle());return}if(y.user.keyboardShortcuts&&e.ctrlKey===!1&&e.altKey===!1)switch(e.key){case"c":case"C":_()&&(e.preventDefault(),v.toggle());break;case"L":_()&&J()&&(w.toggle(e,!1),h.setTopMargin());break;case"s":case"S":_()&&be()&&(e.preventDefault(),M.toggle());break;case"T":_()&&J()&&L.toggle(e);break;case"ArrowLeft":e.shiftKey&&Q()&&X(navigationVars.prevUrl);break;case"ArrowRight":e.shiftKey&&Q()&&X(navigationVars.nextUrl);break}});function _(){return M.isVisible()===!1&&s.siteContentSearch!==document.activeElement}function J(){return document.body.classList.contains("page-template-page-settings")===!1}function be(){return s.fullscreenTarget===null}function Q(){return document.body.classList.contains("no-playback")}function he(){A("localStorage")&&(typeof bannerProperty!="undefined"&&bannerProperty!==null&&(y.priv.banners[bannerProperty]&&(s.introBanner.style.display="block",p("#intro-banner .intro-banner-close-button","click",()=>{s.introBanner.style.display="",h.setTopMargin(),y.priv.banners[bannerProperty]=!1}))))}function pe(){if(document.querySelector(".nav-bar-title .go-back-to")!==null){let e="";if(document.referrer.length===0)e="Previous Page";else{let t=new URL(decodeURIComponent(document.referrer));if(t.search.length!==0)e="Search Results";else if(t.pathname.length>1){let n=t.pathname.slice(-1)==="/"?1:0,o=t.pathname.slice(1,t.pathname.length-n).replace(/-/gi," ").split("/");o.forEach((r,l)=>e+=l+1<o.length?r+" / ":r)}}document.querySelectorAll("#site-navigation .nav-bar-title").forEach(t=>{t.querySelector(".go-back-title").textContent=e.length>0?e:"Ultrafunk (home)",t.querySelector(".go-back-to").style.opacity=1})}}function X(e){e!==null&&(window.location.href=e)}var v=(()=>{let e=new ResizeObserver(l),t={navMenu:null,modalOverlay:null},n=!1;return{isVisible(){return n},scrolledTop(){t.navMenu.style.display=""},init:o,toggle:r};function o(){t.navMenu=document.querySelector("#site-navigation .nav-menu-outer"),t.modalOverlay=document.getElementById("nav-menu-modal-overlay"),p(".nav-menu-toggle","click",r),t.modalOverlay.addEventListener("click",r),t.modalOverlay.addEventListener("transitionend",c),e.observe(t.navMenu.querySelector(".menu-primary-menu-container"))}function r(){s.siteHeader.classList.contains("sticky-nav-up")?n?t.navMenu.style.display="none":t.navMenu.style.display="flex":s.siteHeader.classList.contains("sticky-nav-down")===!1&&s.siteHeader.classList.toggle("hide-nav-menu")}function l(u){n=u[0].contentRect.height!==0,n?(t.modalOverlay.className="",t.modalOverlay.classList.add("show"),setTimeout(()=>t.modalOverlay.classList.add("fadein"),50)):t.modalOverlay.classList.add("fadeout")}function c(){n===!1&&(t.modalOverlay.className="",t.navMenu.style.display="")}})(),M=(()=>{let e=new Event("allowKeyboardShortcuts"),t=new Event("denyKeyboardShortcuts"),n={searchContainer:null,searchField:null,brandingContainer:null},o=!1;return{isVisible(){return o},init:r,toggle:l,hide:c};function r(){n.searchContainer=document.getElementById("search-container"),n.searchField=n.searchContainer.querySelector(".search-field"),n.brandingContainer=s.siteHeader.querySelector("div.site-branding-container"),p(".nav-search-toggle","click",l),p(".nav-search-toggle","mousedown",i=>i.preventDefault()),n.searchField.addEventListener("blur",c),n.searchField.addEventListener("keydown",i=>{i.key==="Escape"&&(i.stopPropagation(),c())})}function l(){if(n.searchContainer.style.display.length===0){if(G(N.SITE_MAX_WIDTH_MOBILE)&&(s.siteHeader.querySelector(".nav-bar-container-mobile-top").offsetHeight===0&&s.siteHeader.querySelector(".nav-bar-container-mobile-up").offsetHeight===0))return;u()}else c()}function c(){o&&f(!1,e,"","search")}function u(){d(),f(!0,t,"flex","clear"),n.searchField.focus(),n.searchField.setSelectionRange(9999,9999)}function f(i,E,Z,ee){o=i,document.dispatchEvent(E),n.searchContainer.style.display=Z,document.querySelectorAll("div.nav-search-toggle i").forEach(te=>te.textContent=ee)}function d(){let i=DOMRect;G(N.SITE_MAX_WIDTH_MOBILE)?(n.brandingContainer.offsetHeight!==0?i.top=n.brandingContainer.offsetTop:i.top=s.siteHeader.querySelector(".nav-bar-container-mobile-up").offsetTop,i.top+=3,i.left=63,i.right=document.body.clientWidth-63,i.height=30):i=n.brandingContainer.getBoundingClientRect(),n.searchContainer.style.top=`${i.top}px`,n.searchContainer.style.left=`${i.left}px`,n.searchContainer.style.width=`${i.right-i.left}px`,n.searchContainer.style.height=`${i.height}px`}})(),h=(()=>{let e=0,t=0;return{getHeaderHeight(){return e},setLastInnerWidth(r){t=r},addEventListener:n,setTopMargin:o};function n(){window.addEventListener("resize",()=>{let r=window.innerWidth;t!==r&&(o(),t=r)})}function o(){let r=ge("--site-content-margin-top");s.siteHeader.classList.contains("hide-nav-menu")&&(e=s.siteHeader.offsetHeight),s.introBanner!==null&&s.introBanner.style.display.length!==0?(s.introBanner.style.marginTop=`${e}px`,s.siteContent.style.marginTop=`${r}px`):s.siteContent.style.marginTop=`${e+r}px`}})(),ye=(()=>{let e=0,t=!1;return{addEventListener:n};function n(){window.addEventListener("scroll",()=>{let c=window.pageYOffset,u=Math.round(h.getHeaderHeight()>150?h.getHeaderHeight()/2:h.getHeaderHeight()/3);c<1?o():c>u&&c>e?r():l(),M.hide(),e=c})}function o(){s.siteHeader.classList.remove("sticky-nav-down","sticky-nav-up"),s.siteHeader.classList.add("hide-nav-menu"),v.scrolledTop(),h.setTopMargin()}function r(){t===!1&&(t=!0,$(s.siteHeader,"sticky-nav-up","sticky-nav-down"))}function l(){t===!0&&(t=!1,$(s.siteHeader,"sticky-nav-down","sticky-nav-up")),v.isVisible()&&v.toggle()}})();
//# sourceMappingURL=index.js.map
