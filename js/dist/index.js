import{a as pe,c as $,e as v,h as ce,i as de,j as le,k as m,l as N,m as q,n as oe,o as re,p as x,q as Y,r as S,s as ae,t as se}from"./chunk.DDMECWGI.js";function P(e){let t;try{t=window[e];const n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(n){return n instanceof DOMException&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&t.length!==0}}function U(e,t="",n=60*60*24*365,o="/"){document.cookie=`${e}=${t}; Max-Age=${n}; Path=${o}; Secure; SameSite=Strict`}function I(e,t){try{localStorage.setItem(e,t)}catch(n){pe.error(n)}}const X=S("modal"),h={id:"modal"},Z=`
  <div id="${h.id}-dialog" tabindex="-1">
    <div class="${h.id}-container">
      <div class="${h.id}-header">
        <div class="${h.id}-title"></div>
        <div class="${h.id}-close-button"><span class="material-icons" title="Dismiss">close</span></div>
      </div>
      <div class="${h.id}-body"></div>
    </div>
  </div>
`,r={overlay:null,container:null,body:null};let H=null;function F(e,t,n){X.log(`showModal(): ${e}`),ee(),H=n,te(t),r.container.querySelector(`.${h.id}-title`).innerHTML=e,r.overlay.classList.add("show"),r.overlay.addEventListener("keydown",D),r.overlay.focus(),R(!0)}function ee(){r.container===null&&(document.body.insertAdjacentHTML("beforeend",Z),r.overlay=document.getElementById(`${h.id}-dialog`),r.container=r.overlay.querySelector(`.${h.id}-container`),r.body=r.overlay.querySelector(`.${h.id}-body`),r.overlay.addEventListener("click",e=>{e.target===r.overlay&&L()}),r.overlay.addEventListener("animationend",()=>{r.overlay.classList.contains("hide")&&(r.overlay.className="",R(!1))}),r.overlay.querySelector(`.${h.id}-close-button`).addEventListener("click",L))}function te(e){let t="";e.forEach(n=>t+=`<div id="${n.id}" class="${h.id}-single-choice">${n.description}</div>`),r.body.innerHTML=t,e.forEach(n=>r.body.querySelector(`#${n.id}`).addEventListener("click",ne))}function ne(){L(),setTimeout(()=>H(this.id),150)}function D(e){e.stopPropagation(),e.key==="Escape"&&L()}function L(){r.overlay.removeEventListener("keydown",D),r.overlay.classList.replace("show","hide")}function R(e){const t=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow=e?"hidden":"",document.body.style.paddingRight=e?`${t}px`:"",document.getElementById("site-header").style.paddingRight=e?`${t}px`:""}const E=S("site-interaction");let b={};function B(e){E.log("init()"),b=e,ie.addEventListeners(),k.init(),T.init()}function W(e){b=e,k.setCurrent(),T.setCurrent()}const k=(()=>{let e={};const t={toggle:null},n={toggleId:"#footer-site-theme-toggle",prefDarkScheme:"(prefers-color-scheme: dark)"},o={light:{id:"light",text:"light",class:"site-theme-light"},dark:{id:"dark",text:"dark",class:"site-theme-dark"},auto:{id:"auto",text:"auto"}};return{init:s,setCurrent:c,toggle:l};function s(){t.toggle=document.querySelector(n.toggleId);const i=window.matchMedia(n.prefDarkScheme);i.addEventListener("change",d),m(n.toggleId,"click",l),c()}function c(){e=K(o,b.user.theme,o.auto),u()}function d(){e.id===o.auto.id&&u()}function l(i){i.preventDefault(),e=G(o,e),b.user.theme=e.id,u()}function u(){let i=e;e.id===o.auto.id&&(i=window.matchMedia(n.prefDarkScheme).matches?o.dark:o.light),I(v.UF_SITE_THEME,i.id),p(i)}function p(i){document.documentElement.classList.contains(i.class)===!1&&(E.log(`updateDOM() - newSiteTheme: ${i.id}`),document.documentElement.classList.remove(o.light.class,o.dark.class),document.documentElement.classList.add(i.class)),t.toggle.querySelector("span").textContent=e.text}})(),T=(()=>{let e={};const t={toggle:null},n={toggleId:"#footer-track-layout-toggle",minWidth:`(max-width: ${oe("--site-content-track-layout-min-width")})`},o={list:{id:"list",text:"list",class:"track-layout-list"},twoColumn:{id:"2-column",text:"2 column",class:"track-layout-2-column"},threeColumn:{id:"3-column",text:"3 / 4 column",class:"track-layout-3-column"}};return{init:s,setCurrent:c,toggle:l};function s(){t.toggle=document.querySelector(n.toggleId);const i=window.matchMedia(n.minWidth);i.addEventListener("change",d),m(n.toggleId,"click",l),c()}function c(){e=K(o,b.user.trackLayout,o.threeColumn),t.toggle.querySelector("span").textContent=e.text,u()}function d(i){i.matches?document.documentElement.classList.remove(e.class):document.documentElement.classList.add(e.class)}function l(i,_=!1){i.preventDefault(),e=G(o,e),b.user.trackLayout=e.id,u(),_&&t.toggle.scrollIntoView()}function u(){I(v.UF_TRACK_LAYOUT,e.id),p()}function p(){document.documentElement.classList.contains(e.class)===!1&&(E.log(`updateDOM() - newTrackLayout: ${e.id}`),document.documentElement.classList.remove(o.list.class,o.twoColumn.class,o.threeColumn.class),window.matchMedia(n.minWidth).matches===!1&&document.documentElement.classList.add(e.class),t.toggle.querySelector("span").textContent=e.text)}})();function K(e,t,n){const o=Object.values(e).find(s=>s.id===t);return o!==void 0?o:n}function G(e,t){const n=Object.values(e).findIndex(s=>s.id===t.id),o=Object.keys(e);return n+1<o.length?e[o[n+1]]:e[o[0]]}const ie=(()=>{let e=null,t=null;const n=/\s{1,}[–·-]\s{1,}/i,o=[{id:"copyToClipboard",description:"<b>Copy Link</b> to Clipboard"},{id:"shareOnEmail",description:"<b>Share</b> on Email"},{id:"playOnAmazonMusic",description:"<b>Play</b> on Amazon Music"},{id:"playOnAppleMusic",description:"<b>Play</b> on Apple Music"},{id:"playOnSpotify",description:"<b>Play</b> on Spotify"},{id:"playOnTidal",description:"<b>Play</b> on Tidal"},{id:"playOnYouTubeMusic",description:"<b>Play</b> on YouTube Music"}];return{addEventListeners:s,click:c};function s(){m(".entry-meta-controls .track-share-control","click",c)}function c(l){e=l.target.getAttribute("data-entry-track-title"),t=l.target.getAttribute("data-entry-track-url"),F("Share / Play Track",o,d)}function d(l){E.log(`singleChoiceListClick(): ${l} - trackTitle: ${e} - trackUrl: ${t}`);const u=encodeURIComponent(e.replace(n," "));switch(l){case"copyToClipboard":navigator.clipboard.writeText(t).then(()=>{q("Track link copied to the clipboard",3)},p=>{E.error(`trackShare.copyToClipboard() failed because ${p}`),q("Failed to copy Track link to the clipboard",5)});break;case"shareOnEmail":window.location.href=`mailto:?subject=${encodeURIComponent(e)}&body=${t}%0d%0a`;break;case"playOnAmazonMusic":window.open(`https://music.amazon.com/search/${u}`,"_blank");break;case"playOnAppleMusic":window.open(`https://music.apple.com/ca/search?term=${u}`,"_blank");break;case"playOnSpotify":window.open(`https://open.spotify.com/search/${u}`,"_blank");break;case"playOnTidal":window.open(`https://google.com/search?q=${u}%20site:tidal.com`,"_blank");break;case"playOnYouTubeMusic":window.open(`https://music.youtube.com/search?q=${u}`,"_blank");break}}})(),w=S("index");let g={};const J={smoothScrolling:!1,settingsUpdatedEvent:"settingsUpdated"},a={siteHeader:null,introBanner:null,siteContent:null,siteContentSearch:null};document.addEventListener("DOMContentLoaded",()=>{w.log("DOMContentLoaded"),O(),ue(),a.introBanner!==null&&ge(),document.querySelector("#site-content form.search-form")!==null&&(a.siteContentSearch.focus(),a.siteContentSearch.setSelectionRange(9999,9999)),f.setTopMargin(),f.setLastInnerWidth(window.innerWidth),he()});document.addEventListener(J.settingsUpdatedEvent,()=>{O(),W(g),U(v.UF_TRACKS_PER_PAGE,g.user.tracksPerPage,60*60*24*365*5)});window.addEventListener("load",()=>f.setTopMargin());window.addEventListener("storage",fe);function O(){w.log("readSettings()"),g=ae(v.UF_SITE_SETTINGS,le,!0),N(g.user,ce),N(g.priv.banners,de),w.log(g)}function ue(){w.log("initIndex()"),a.siteHeader=document.getElementById("site-header"),a.introBanner=document.getElementById("intro-banner"),a.siteContent=document.getElementById("site-content"),a.siteContentSearch=document.querySelector("#site-content form input.search-field"),f.addEventListener(),A.addEventListener(),B(g),C.init(),y.init()}document.addEventListener("keydown",e=>{if(e.ctrlKey===!1&&e.altKey===!1)switch(e.key){case"Escape":y.isVisible()&&(e.preventDefault(),y.toggle());return}if(g.user.keyboardShortcuts&&e.ctrlKey===!1&&e.altKey===!1)switch(e.key){case"c":case"C":M()&&(e.preventDefault(),y.toggle());break;case"L":M()&&j()&&(T.toggle(e,!1),f.setTopMargin());break;case"s":case"S":M()&&(e.preventDefault(),C.toggle());break;case"T":M()&&j()&&k.toggle(e);break}});function M(){return C.isVisible()===!1&&a.siteContentSearch!==document.activeElement}function j(){return document.body.classList.contains("page-template-page-settings")===!1}function fe(e){if(g.storageChangeSync){const t=se(e,v.UF_SITE_SETTINGS);t!==null&&(w.log(`windowEventStorage(): ${e.key}`),O(),g.user.theme!==t.user.theme&&k.setCurrent(),g.user.trackLayout!==t.user.trackLayout&&T.setCurrent())}}function ge(){P("localStorage")&&(typeof bannerProperty!="undefined"&&bannerProperty!==null&&(g.priv.banners[bannerProperty]&&(a.introBanner.style.display="block",m("#intro-banner .intro-banner-close-button","click",()=>{a.introBanner.style.display="",f.setTopMargin(),g.priv.banners[bannerProperty]=!1}))))}function he(){if(document.querySelector(".nav-bar-title .go-back-to")!==null){let e="";if(document.referrer.length===0)e="Previous Page";else{const t=new URL(decodeURIComponent(document.referrer));if(t.search.length!==0)e="Search Results";else if(t.pathname.length>1){const n=t.pathname.slice(-1)==="/"?1:0,o=t.pathname.slice(1,t.pathname.length-n).replace(/-/gi," ").split("/");o.forEach((s,c)=>e+=c+1<o.length?s+" / ":s)}}document.querySelectorAll("#site-navigation .nav-bar-title").forEach(t=>{t.querySelector(".go-back-title").textContent=e.length>0?e:"Ultrafunk (home)",t.querySelector(".go-back-to").style.opacity=1})}}const y=(()=>{const e=new ResizeObserver(c),t={navMenu:null,modalOverlay:null};let n=!1;return{isVisible(){return n},scrolledTop(){t.navMenu.style.display=""},init:o,toggle:s};function o(){t.navMenu=document.querySelector("#site-navigation .nav-menu-outer"),t.modalOverlay=document.getElementById("nav-menu-modal-overlay"),m(".nav-menu-toggle","click",s),t.modalOverlay.addEventListener("click",s),t.modalOverlay.addEventListener("transitionend",d),e.observe(t.navMenu.querySelector(".menu-primary-menu-container"))}function s(){a.siteHeader.classList.contains("sticky-nav-up")?n?t.navMenu.style.display="none":t.navMenu.style.display="flex":a.siteHeader.classList.contains("sticky-nav-down")===!1&&a.siteHeader.classList.toggle("hide-nav-menu")}function c(l){n=l[0].contentRect.height!==0,n?(t.modalOverlay.className="",t.modalOverlay.classList.add("show"),setTimeout(()=>t.modalOverlay.classList.add("fadein"),50)):t.modalOverlay.classList.add("fadeout")}function d(){n===!1&&(t.modalOverlay.className="",t.navMenu.style.display="")}})(),C=(()=>{const e=new Event("allowKeyboardShortcuts"),t=new Event("denyKeyboardShortcuts"),n={searchContainer:null,searchField:null};let o=!1;return{isVisible(){return o},init:s,toggle:c,hide:d};function s(){n.searchContainer=document.getElementById("search-container"),n.searchField=n.searchContainer.querySelector(".search-field"),m(".nav-search-toggle","click",c),m(".nav-search-toggle","mousedown",i=>i.preventDefault()),n.searchField.addEventListener("blur",d),n.searchField.addEventListener("keydown",i=>{i.key==="Escape"&&(i.stopPropagation(),d())})}function c(){n.searchContainer.style.display.length===0?(x($.SITE_MAX_WIDTH_MOBILE)&&A.getLastScrollTop()>0&&window.scroll({top:0,left:0,behavior:J.smoothScrolling?"smooth":"auto"}),l()):d()}function d(){o&&u(!1,e,"","search")}function l(){x($.SITE_MAX_WIDTH_MOBILE)&&A.getLastScrollTop()!==0?window.requestAnimationFrame(l):(p(),u(!0,t,"flex","clear"),n.searchField.focus(),n.searchField.setSelectionRange(9999,9999))}function u(i,_,z,V){o=i,document.dispatchEvent(_),n.searchContainer.style.display=z,document.querySelectorAll("div.nav-search-toggle i").forEach(Q=>Q.textContent=V)}function p(){let i=DOMRect;x($.SITE_MAX_WIDTH_MOBILE)?(i.top=document.body.classList.contains("no-playback")?15:21,i.left=68,i.right=document.body.clientWidth-65,i.height=30):i=document.querySelector("div.site-branding-container").getBoundingClientRect(),n.searchContainer.style.top=`${i.top}px`,n.searchContainer.style.left=`${i.left}px`,n.searchContainer.style.width=`${i.right-i.left}px`,n.searchContainer.style.height=`${i.height}px`}})(),f=(()=>{let e=0,t=0;return{getHeaderHeight(){return e},setLastInnerWidth(s){t=s},addEventListener:n,setTopMargin:o};function n(){window.addEventListener("resize",()=>{const s=window.innerWidth;t!==s&&(o(),t=s)})}function o(){const s=re("--site-content-margin-top");a.siteHeader.classList.contains("hide-nav-menu")&&(e=a.siteHeader.offsetHeight),a.introBanner!==null&&a.introBanner.style.display.length!==0?(a.introBanner.style.marginTop=`${e}px`,a.siteContent.style.marginTop=`${s}px`):a.siteContent.style.marginTop=`${e+s}px`}})(),A=(()=>{let e=0,t=!1;return{getLastScrollTop(){return e},addEventListener:n};function n(){window.addEventListener("scroll",()=>{const d=window.pageYOffset,l=Math.round(f.getHeaderHeight()>150?f.getHeaderHeight()/2:f.getHeaderHeight()/3);d<1?o():d>l&&d>e?s():c(),C.hide(),e=d})}function o(){a.siteHeader.classList.remove("sticky-nav-down","sticky-nav-up"),a.siteHeader.classList.add("hide-nav-menu"),y.scrolledTop(),f.setTopMargin()}function s(){t===!1&&(t=!0,Y(a.siteHeader,"sticky-nav-up","sticky-nav-down"))}function c(){t===!0&&(t=!1,Y(a.siteHeader,"sticky-nav-down","sticky-nav-up")),y.isVisible()&&y.toggle()}})();
//# sourceMappingURL=index.js.map
