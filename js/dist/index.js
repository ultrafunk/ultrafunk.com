import{a as B,b as ge,e as E,f as re,g as m,h as U,i as te,j as ie,l as j,m as W,n as b,o as oe}from"./chunk.OGSLXYJH.js";function x(e){let t;try{t=window[e];let n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(n){return n instanceof DOMException&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&t.length!==0}}function I(e,t="",n=60*60*24*365,o="/"){document.cookie=`${e}=${t}; Max-Age=${n}; Path=${o}; Secure; SameSite=Strict`}function _(e,t){try{localStorage.setItem(e,t)}catch(n){ge.error(n)}}var V=b("modal"),g={id:"modal"},Q=`
  <div id="${g.id}-dialog" tabindex="-1">
    <div class="${g.id}-container">
      <div class="${g.id}-header">
        <div class="${g.id}-title"></div>
        <div class="${g.id}-close-button"><span class="material-icons" title="Dismiss">close</span></div>
      </div>
      <div class="${g.id}-body"></div>
    </div>
  </div>
`,s={overlay:null,container:null,body:null},O=null;function A(e,t,n){V.log(`showModal(): ${e}`),X(),O=n,Z(t),s.container.querySelector(`.${g.id}-title`).innerHTML=e,s.overlay.classList.add("show"),s.overlay.addEventListener("keydown",P),s.overlay.focus(),H(!0)}function X(){s.container===null&&(document.body.insertAdjacentHTML("beforeend",Q),s.overlay=document.getElementById(`${g.id}-dialog`),s.container=s.overlay.querySelector(`.${g.id}-container`),s.body=s.overlay.querySelector(`.${g.id}-body`),s.overlay.addEventListener("click",e=>{e.target===s.overlay&&S()}),s.overlay.addEventListener("animationend",()=>{s.overlay.classList.contains("hide")&&(s.overlay.className="",H(!1))}),s.overlay.querySelector(`.${g.id}-close-button`).addEventListener("click",S))}function Z(e){let t="";e.forEach(n=>t+=`<div id="${n.id}" class="${g.id}-single-choice">${n.description}</div>`),s.body.innerHTML=t,e.forEach(n=>s.body.querySelector(`#${n.id}`).addEventListener("click",ee))}function ee(){S(),setTimeout(()=>O(this.id),150)}function P(e){e.stopPropagation(),e.key==="Escape"&&S()}function S(){s.overlay.removeEventListener("keydown",P),s.overlay.classList.replace("show","hide")}function H(e){let t=window.innerWidth-document.documentElement.clientWidth;document.body.style.touchAction=e?"none":"",document.body.style.overflow=e?"hidden":"",document.body.style.paddingRight=e?`${t}px`:"",document.getElementById("site-header").style.paddingRight=e?`${t}px`:""}var k=b("site-interaction"),v={};function D(e){k.log("init()"),v=e,ne.addEventListeners(),T.init(),L.init()}function R(e){v=e,T.setCurrent(),L.setCurrent()}var T=(()=>{let e={},t={toggle:null},n={toggleId:"#footer-site-theme-toggle",prefDarkScheme:"(prefers-color-scheme: dark)"},o={light:{id:"light",text:"light",class:"site-theme-light"},dark:{id:"dark",text:"dark",class:"site-theme-dark"},auto:{id:"auto",text:"auto"}};return{init:a,setCurrent:l,toggle:d};function a(){t.toggle=document.querySelector(n.toggleId);let i=window.matchMedia(n.prefDarkScheme);i.addEventListener("change",c),m(n.toggleId,"click",d),l()}function l(){e=q(o,v.user.theme,o.auto),u()}function c(){e.id===o.auto.id&&u()}function d(i){i.preventDefault(),e=F(o,e),v.user.theme=e.id,u()}function u(){let i=e;e.id===o.auto.id&&(i=window.matchMedia(n.prefDarkScheme).matches?o.dark:o.light),_(E.UF_SITE_THEME,i.id),p(i)}function p(i){document.documentElement.classList.contains(i.class)===!1&&(k.log(`updateDOM() - newSiteTheme: ${i.id}`),document.documentElement.classList.remove(o.light.class,o.dark.class),document.documentElement.classList.add(i.class)),t.toggle.querySelector("span").textContent=e.text}})(),L=(()=>{let e={},t={toggle:null},n={toggleId:"#footer-track-layout-toggle",minWidth:`(max-width: ${te("--site-content-track-layout-min-width")})`},o={list:{id:"list",text:"list",class:"track-layout-list"},twoColumn:{id:"2-column",text:"2 column",class:"track-layout-2-column"},threeColumn:{id:"3-column",text:"3 / 4 column",class:"track-layout-3-column"}};return{init:a,setCurrent:l,toggle:d};function a(){t.toggle=document.querySelector(n.toggleId);let i=window.matchMedia(n.minWidth);i.addEventListener("change",c),m(n.toggleId,"click",d),l()}function l(){e=q(o,v.user.trackLayout,o.threeColumn),t.toggle.querySelector("span").textContent=e.text,u()}function c(i){i.matches?document.documentElement.classList.remove(e.class):document.documentElement.classList.add(e.class)}function d(i,M=!1){i.preventDefault(),e=F(o,e),v.user.trackLayout=e.id,u(),M&&t.toggle.scrollIntoView()}function u(){_(E.UF_TRACK_LAYOUT,e.id),p()}function p(){document.documentElement.classList.contains(e.class)===!1&&(k.log(`updateDOM() - newTrackLayout: ${e.id}`),document.documentElement.classList.remove(o.list.class,o.twoColumn.class,o.threeColumn.class),window.matchMedia(n.minWidth).matches===!1&&document.documentElement.classList.add(e.class),t.toggle.querySelector("span").textContent=e.text)}})();function q(e,t,n){let o=Object.values(e).find(a=>a.id===t);return o!==void 0?o:n}function F(e,t){let n=Object.values(e).findIndex(a=>a.id===t.id),o=Object.keys(e);return n+1<o.length?e[o[n+1]]:e[o[0]]}var ne=(()=>{let e=null,t=null,n=/\s{1,}[–·-]\s{1,}/i,o=[{id:"copyToClipboard",description:"<b>Copy Link</b> to Clipboard"},{id:"shareOnEmail",description:"<b>Share</b> on Email"},{id:"playOnAmazonMusic",description:"<b>Play</b> on Amazon Music"},{id:"playOnAppleMusic",description:"<b>Play</b> on Apple Music"},{id:"playOnSpotify",description:"<b>Play</b> on Spotify"},{id:"playOnTidal",description:"<b>Play</b> on Tidal"},{id:"playOnYouTubeMusic",description:"<b>Play</b> on YouTube Music"}];return{addEventListeners:a,click:l};function a(){m(".entry-meta-controls .track-share-control","click",l)}function l(d){e=d.target.getAttribute("data-entry-track-title"),t=d.target.getAttribute("data-entry-track-url"),A("Share / Play Track",o,c)}function c(d){k.log(`singleChoiceListClick(): ${d} - trackTitle: ${e} - trackUrl: ${t}`);let u=encodeURIComponent(e.replace(n," "));switch(d){case"copyToClipboard":navigator.clipboard.writeText(t).then(()=>{U("Track link copied to clipboard",3)},p=>{k.error(`trackShare.copyToClipboard() failed because ${p}`),U("Unable to copy Track link to clipboard",5)});break;case"shareOnEmail":window.location.href=`mailto:?subject=${encodeURIComponent(e)}&body=${t}%0d%0a`;break;case"playOnAmazonMusic":window.open(`https://music.amazon.com/search/${u}`,"_blank");break;case"playOnAppleMusic":window.open(`https://music.apple.com/ca/search?term=${u}`,"_blank");break;case"playOnSpotify":window.open(`https://open.spotify.com/search/${u}`,"_blank");break;case"playOnTidal":window.open(`https://google.com/search?q=${u}%20site:tidal.com`,"_blank");break;case"playOnYouTubeMusic":window.open(`https://music.youtube.com/search?q=${u}`,"_blank");break}}})(),C=b("index"),h={},Y={smoothScrolling:!1,settingsUpdatedEvent:"settingsUpdated",fullscreenTrackEvent:"fullscreenTrack"},r={siteHeader:null,introBanner:null,siteContent:null,siteContentSearch:null,fullscreenTarget:null};document.addEventListener("DOMContentLoaded",()=>{C.log("DOMContentLoaded"),K(),ae(),r.introBanner!==null&&se(),document.querySelector("#site-content form.search-form")!==null&&(r.siteContentSearch.focus(),r.siteContentSearch.setSelectionRange(9999,9999)),f.setTopMargin(),f.setLastInnerWidth(window.innerWidth),le()});document.addEventListener(Y.settingsUpdatedEvent,()=>{K(),R(h),I(E.UF_TRACKS_PER_PAGE,h.user.tracksPerPage,60*60*24*365*5)});document.addEventListener(Y.fullscreenTrackEvent,e=>r.fullscreenTarget=e.fullscreenTarget);window.addEventListener("load",()=>f.setTopMargin());function K(){C.log("readSettings()"),h=oe(E.UF_SITE_SETTINGS,re,!0),C.log(h)}function ae(){C.log("initIndex()"),r.siteHeader=document.getElementById("site-header"),r.introBanner=document.getElementById("intro-banner"),r.siteContent=document.getElementById("site-content"),r.siteContentSearch=document.querySelector("#site-content form input.search-field"),f.addEventListener(),ce.addEventListener(),D(h),w.init(),y.init()}document.addEventListener("keydown",e=>{if(e.ctrlKey===!1&&e.altKey===!1)switch(e.key){case"Escape":y.isVisible()&&(e.preventDefault(),y.toggle());return}if(h.user.keyboardShortcuts&&e.ctrlKey===!1&&e.altKey===!1)switch(e.key){case"c":case"C":$()&&(e.preventDefault(),y.toggle());break;case"L":$()&&G()&&(L.toggle(e,!1),f.setTopMargin());break;case"s":case"S":$()&&de()&&(e.preventDefault(),w.toggle());break;case"T":$()&&G()&&T.toggle(e);break}});function $(){return w.isVisible()===!1&&r.siteContentSearch!==document.activeElement}function G(){return document.body.classList.contains("page-template-page-settings")===!1}function de(){return r.fullscreenTarget===null}function se(){x("localStorage")&&(typeof bannerProperty!="undefined"&&bannerProperty!==null&&(h.priv.banners[bannerProperty]&&(r.introBanner.style.display="block",m("#intro-banner .intro-banner-close-button","click",()=>{r.introBanner.style.display="",f.setTopMargin(),h.priv.banners[bannerProperty]=!1}))))}function le(){if(document.querySelector(".nav-bar-title .go-back-to")!==null){let e="";if(document.referrer.length===0)e="Previous Page";else{let t=new URL(decodeURIComponent(document.referrer));if(t.search.length!==0)e="Search Results";else if(t.pathname.length>1){let n=t.pathname.slice(-1)==="/"?1:0,o=t.pathname.slice(1,t.pathname.length-n).replace(/-/gi," ").split("/");o.forEach((a,l)=>e+=l+1<o.length?a+" / ":a)}}document.querySelectorAll("#site-navigation .nav-bar-title").forEach(t=>{t.querySelector(".go-back-title").textContent=e.length>0?e:"Ultrafunk (home)",t.querySelector(".go-back-to").style.opacity=1})}}var y=(()=>{let e=new ResizeObserver(l),t={navMenu:null,modalOverlay:null},n=!1;return{isVisible(){return n},scrolledTop(){t.navMenu.style.display=""},init:o,toggle:a};function o(){t.navMenu=document.querySelector("#site-navigation .nav-menu-outer"),t.modalOverlay=document.getElementById("nav-menu-modal-overlay"),m(".nav-menu-toggle","click",a),t.modalOverlay.addEventListener("click",a),t.modalOverlay.addEventListener("transitionend",c),e.observe(t.navMenu.querySelector(".menu-primary-menu-container"))}function a(){r.siteHeader.classList.contains("sticky-nav-up")?n?t.navMenu.style.display="none":t.navMenu.style.display="flex":r.siteHeader.classList.contains("sticky-nav-down")===!1&&r.siteHeader.classList.toggle("hide-nav-menu")}function l(d){n=d[0].contentRect.height!==0,n?(t.modalOverlay.className="",t.modalOverlay.classList.add("show"),setTimeout(()=>t.modalOverlay.classList.add("fadein"),50)):t.modalOverlay.classList.add("fadeout")}function c(){n===!1&&(t.modalOverlay.className="",t.navMenu.style.display="")}})(),w=(()=>{let e=new Event("allowKeyboardShortcuts"),t=new Event("denyKeyboardShortcuts"),n={searchContainer:null,searchField:null,brandingContainer:null},o=!1;return{isVisible(){return o},init:a,toggle:l,hide:c};function a(){n.searchContainer=document.getElementById("search-container"),n.searchField=n.searchContainer.querySelector(".search-field"),n.brandingContainer=r.siteHeader.querySelector("div.site-branding-container"),m(".nav-search-toggle","click",l),m(".nav-search-toggle","mousedown",i=>i.preventDefault()),n.searchField.addEventListener("blur",c),n.searchField.addEventListener("keydown",i=>{i.key==="Escape"&&(i.stopPropagation(),c())})}function l(){if(n.searchContainer.style.display.length===0){if(j(B.SITE_MAX_WIDTH_MOBILE)&&(r.siteHeader.querySelector(".nav-bar-container-mobile-top").offsetHeight===0&&r.siteHeader.querySelector(".nav-bar-container-mobile-up").offsetHeight===0))return;d()}else c()}function c(){o&&u(!1,e,"","search")}function d(){p(),u(!0,t,"flex","clear"),n.searchField.focus(),n.searchField.setSelectionRange(9999,9999)}function u(i,M,N,z){o=i,document.dispatchEvent(M),n.searchContainer.style.display=N,document.querySelectorAll("div.nav-search-toggle i").forEach(J=>J.textContent=z)}function p(){let i=DOMRect;j(B.SITE_MAX_WIDTH_MOBILE)?(n.brandingContainer.offsetHeight!==0?i.top=n.brandingContainer.offsetTop:i.top=r.siteHeader.querySelector(".nav-bar-container-mobile-up").offsetTop,i.top+=3,i.left=63,i.right=document.body.clientWidth-63,i.height=30):i=n.brandingContainer.getBoundingClientRect(),n.searchContainer.style.top=`${i.top}px`,n.searchContainer.style.left=`${i.left}px`,n.searchContainer.style.width=`${i.right-i.left}px`,n.searchContainer.style.height=`${i.height}px`}})(),f=(()=>{let e=0,t=0;return{getHeaderHeight(){return e},setLastInnerWidth(a){t=a},addEventListener:n,setTopMargin:o};function n(){window.addEventListener("resize",()=>{let a=window.innerWidth;t!==a&&(o(),t=a)})}function o(){let a=ie("--site-content-margin-top");r.siteHeader.classList.contains("hide-nav-menu")&&(e=r.siteHeader.offsetHeight),r.introBanner!==null&&r.introBanner.style.display.length!==0?(r.introBanner.style.marginTop=`${e}px`,r.siteContent.style.marginTop=`${a}px`):r.siteContent.style.marginTop=`${e+a}px`}})(),ce=(()=>{let e=0,t=!1;return{addEventListener:n};function n(){window.addEventListener("scroll",()=>{let c=window.pageYOffset,d=Math.round(f.getHeaderHeight()>150?f.getHeaderHeight()/2:f.getHeaderHeight()/3);c<1?o():c>d&&c>e?a():l(),w.hide(),e=c})}function o(){r.siteHeader.classList.remove("sticky-nav-down","sticky-nav-up"),r.siteHeader.classList.add("hide-nav-menu"),y.scrolledTop(),f.setTopMargin()}function a(){t===!1&&(t=!0,W(r.siteHeader,"sticky-nav-up","sticky-nav-down"))}function l(){t===!0&&(t=!1,W(r.siteHeader,"sticky-nav-down","sticky-nav-up")),y.isVisible()&&y.toggle()}})();
//# sourceMappingURL=index.js.map
