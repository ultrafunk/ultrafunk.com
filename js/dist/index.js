import{a as de,c as _,d as b,f as ne,g as y,h as oe,i as F,j as ee,k as te,l as I,m as R,n as M,o as Z,p as X}from"./chunk.QI6SGURP.js";function O(e){let t;try{t=window[e];const n="__storage_test__";return t.setItem(n,n),t.removeItem(n),!0}catch(n){return n instanceof DOMException&&(n.code===22||n.code===1014||n.name==="QuotaExceededError"||n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&t&&t.length!==0}}function A(e,t="",n=60*60*24*365,o="/"){document.cookie=`${e}=${t}; Max-Age=${n}; Path=${o}; Secure; SameSite=Strict`}function C(e,t){try{localStorage.setItem(e,t)}catch(n){de.error(n)}}const J=M("modal"),h={id:"modal"},z=`
  <div id="${h.id}-dialog" tabindex="-1">
    <div class="${h.id}-container">
      <div class="${h.id}-header">
        <div class="${h.id}-title"></div>
        <div class="${h.id}-close-button"><span class="material-icons" title="Dismiss">close</span></div>
      </div>
      <div class="${h.id}-body"></div>
    </div>
  </div>
`,r={overlay:null,container:null,body:null};let P=null;function D(e,t,n){J.log(`showModal(): ${e}`),V(),P=n,j(t),r.container.querySelector(`.${h.id}-title`).innerHTML=e,r.overlay.classList.add("show"),r.overlay.addEventListener("keydown",U),r.overlay.focus(),H(!0)}function V(){r.container===null&&(document.body.insertAdjacentHTML("beforeend",z),r.overlay=document.getElementById(`${h.id}-dialog`),r.container=r.overlay.querySelector(`.${h.id}-container`),r.body=r.overlay.querySelector(`.${h.id}-body`),r.overlay.addEventListener("click",e=>{e.target===r.overlay&&S()}),r.overlay.addEventListener("animationend",()=>{r.overlay.classList.contains("hide")&&(r.overlay.className="",H(!1))}),r.overlay.querySelector(`.${h.id}-close-button`).addEventListener("click",S))}function j(e){let t="";e.forEach(n=>t+=`<div id="${n.id}" class="${h.id}-single-choice">${n.description}</div>`),r.body.innerHTML=t,e.forEach(n=>r.body.querySelector(`#${n.id}`).addEventListener("click",Q))}function Q(){S(),setTimeout(()=>P(this.id),150)}function U(e){e.stopPropagation(),e.key==="Escape"&&S()}function S(){r.overlay.removeEventListener("keydown",U),r.overlay.classList.replace("show","hide")}function H(e){const t=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow=e?"hidden":"",document.body.style.paddingRight=e?`${t}px`:"",document.getElementById("site-header").style.paddingRight=e?`${t}px`:""}const f=M("index");let g={};const q={smoothScrolling:!1,settingsUpdatedEvent:"settingsUpdated"},a={siteHeader:null,introBanner:null,siteContent:null,siteContentSearch:null};document.addEventListener("DOMContentLoaded",()=>{f.log("DOMContentLoaded"),$(),se(),a.introBanner!==null&&ie(),document.querySelector("#site-content form.search-form")!==null&&(a.siteContentSearch.focus(),a.siteContentSearch.setSelectionRange(9999,9999)),m.setTopMargin(),m.setLastInnerWidth(window.innerWidth),ae()});document.addEventListener(q.settingsUpdatedEvent,()=>{$(),E.setCurrent(),k.setCurrent(),A(b.UF_TRACKS_PER_PAGE,g.user.tracksPerPage,60*60*24*365*5)});window.addEventListener("load",()=>m.setTopMargin());window.addEventListener("storage",re);function $(){f.log("readSettings()"),g=Z(b.UF_SITE_SETTINGS,ne,!0),oe(g.user,b.UF_SITE_SETTINGS),f.log(g)}function se(){f.log("initIndex()"),a.siteHeader=document.getElementById("site-header"),a.introBanner=document.getElementById("intro-banner"),a.siteContent=document.getElementById("site-content"),a.siteContentSearch=document.querySelector("#site-content form input.search-field"),le.addEventListeners(),m.addEventListener(),x.addEventListener(),T.init(),v.init(),E.init(),k.init()}document.addEventListener("keydown",e=>{if(e.ctrlKey===!1&&e.altKey===!1)switch(e.key){case"Escape":v.isVisible()&&(e.preventDefault(),v.toggle());return}if(g.user.keyboardShortcuts&&e.ctrlKey===!1&&e.altKey===!1)switch(e.key){case"c":case"C":w()&&(e.preventDefault(),v.toggle());break;case"L":w()&&K()&&(k.toggle(e,!1),m.setTopMargin());break;case"s":case"S":w()&&(e.preventDefault(),T.toggle());break;case"T":w()&&K()&&E.toggle(e);break}});function w(){return T.isVisible()===!1&&a.siteContentSearch!==document.activeElement}function K(){return document.body.classList.contains("page-template-page-settings")===!1}function re(e){if(g.storageChangeSync){const t=X(e,b.UF_SITE_SETTINGS);t!==null&&(f.log(`windowEventStorage(): ${e.key}`),$(),g.user.theme!==t.user.theme&&E.setCurrent(),g.user.trackLayout!==t.user.trackLayout&&k.setCurrent())}}function ie(){O("localStorage")&&(typeof bannerProperty!="undefined"&&bannerProperty!==null&&(g.priv.banners[bannerProperty]&&(a.introBanner.style.display="block",y("#intro-banner .intro-banner-close-button","click",()=>{a.introBanner.style.display="",m.setTopMargin(),g.priv.banners[bannerProperty]=!1}))))}function ae(){if(document.querySelector(".nav-bar-title .go-back-to")!==null){let e="";if(document.referrer.length===0)e="Previous Page";else{const t=new URL(decodeURIComponent(document.referrer));if(t.search.length!==0)e="Search Results";else if(t.pathname.length>1){const n=t.pathname.slice(-1)==="/"?1:0,o=t.pathname.slice(1,t.pathname.length-n).replace(/-/gi," ").split("/");o.forEach((i,c)=>e+=c+1<o.length?i+" / ":i)}}document.querySelectorAll("#site-navigation .nav-bar-title").forEach(t=>{t.querySelector(".go-back-title").textContent=e.length>0?e:"Ultrafunk (home)",t.querySelector(".go-back-to").style.opacity=1})}}const le=(()=>{let e=null,t=null;const n=/\s{1,}[–·-]\s{1,}/i,o=[{id:"copyToClipboard",description:"<b>Copy Link</b> to Clipboard"},{id:"shareOnEmail",description:"<b>Share</b> on Email"},{id:"playOnAmazonMusic",description:"<b>Play</b> on Amazon Music"},{id:"playOnAppleMusic",description:"<b>Play</b> on Apple Music"},{id:"playOnSpotify",description:"<b>Play</b> on Spotify"},{id:"playOnTidal",description:"<b>Play</b> on Tidal"},{id:"playOnYouTubeMusic",description:"<b>Play</b> on YouTube Music"}];return{addEventListeners:i,click:c};function i(){y(".entry-meta-controls .track-share-control","click",c)}function c(l){e=l.target.getAttribute("data-entry-track-title"),t=l.target.getAttribute("data-entry-track-url"),D("Share / Play Track",o,d)}function d(l){f.log(`singleChoiceListClick(): ${l} - trackTitle: ${e} - trackUrl: ${t}`);const u=encodeURIComponent(e.replace(n," "));switch(l){case"copyToClipboard":navigator.clipboard.writeText(t).then(()=>{F("Track link copied to the clipboard",3)},p=>{f.error(`trackShare.copyToClipboard() failed because ${p}`),F("Failed to copy Track link to the clipboard",5)});break;case"shareOnEmail":window.location.href=`mailto:?subject=${encodeURIComponent(e)}&body=${t}%0d%0a`;break;case"playOnAmazonMusic":window.open(`https://music.amazon.com/search/${u}`,"_blank");break;case"playOnAppleMusic":window.open(`https://music.apple.com/ca/search?term=${u}`,"_blank");break;case"playOnSpotify":window.open(`https://open.spotify.com/search/${u}`,"_blank");break;case"playOnTidal":window.open(`https://google.com/search?q=${u}%20site:tidal.com`,"_blank");break;case"playOnYouTubeMusic":window.open(`https://music.youtube.com/search?q=${u}`,"_blank");break}}})();function B(e,t,n){const o=Object.values(e).find(i=>i.id===t);return o!==void 0?o:n}function W(e,t){const n=Object.values(e).findIndex(i=>i.id===t.id),o=Object.keys(e);return n+1<o.length?e[o[n+1]]:e[o[0]]}const E=(()=>{let e={};const t={toggle:null},n={toggleId:"#footer-site-theme-toggle",prefDarkScheme:"(prefers-color-scheme: dark)"},o={light:{id:"light",text:"light",class:"site-theme-light"},dark:{id:"dark",text:"dark",class:"site-theme-dark"},auto:{id:"auto",text:"auto"}};return{init:i,setCurrent:c,toggle:l};function i(){t.toggle=document.querySelector(n.toggleId);const s=window.matchMedia(n.prefDarkScheme);s.addEventListener("change",d),y(n.toggleId,"click",l),c()}function c(){e=B(o,g.user.theme,o.auto),u()}function d(){e.id===o.auto.id&&u()}function l(s){s.preventDefault(),e=W(o,e),g.user.theme=e.id,u()}function u(){let s=e;e.id===o.auto.id&&(s=window.matchMedia(n.prefDarkScheme).matches?o.dark:o.light),C(b.UF_SITE_THEME,s.id),p(s)}function p(s){document.documentElement.classList.contains(s.class)===!1&&(f.log(`updateDOM() - newSiteTheme: ${s.id}`),document.documentElement.classList.remove(o.light.class,o.dark.class),document.documentElement.classList.add(s.class)),t.toggle.querySelector("span").textContent=e.text}})(),k=(()=>{let e={};const t={toggle:null},n={toggleId:"#footer-track-layout-toggle",minWidth:`(max-width: ${ee("--site-content-track-layout-min-width")})`},o={list:{id:"list",text:"list",class:"track-layout-list"},twoColumn:{id:"2-column",text:"2 column",class:"track-layout-2-column"},threeColumn:{id:"3-column",text:"3 / 4 column",class:"track-layout-3-column"}};return{init:i,setCurrent:c,toggle:l};function i(){t.toggle=document.querySelector(n.toggleId);const s=window.matchMedia(n.minWidth);s.addEventListener("change",d),y(n.toggleId,"click",l),c()}function c(){e=B(o,g.user.trackLayout,o.threeColumn),t.toggle.querySelector("span").textContent=e.text,u()}function d(s){s.matches?document.documentElement.classList.remove(e.class):document.documentElement.classList.add(e.class)}function l(s,L=!1){s.preventDefault(),e=W(o,e),g.user.trackLayout=e.id,u(),L&&t.toggle.scrollIntoView()}function u(){C(b.UF_TRACK_LAYOUT,e.id),p()}function p(){document.documentElement.classList.contains(e.class)===!1&&(f.log(`updateDOM() - newTrackLayout: ${e.id}`),document.documentElement.classList.remove(o.list.class,o.twoColumn.class,o.threeColumn.class),window.matchMedia(n.minWidth).matches===!1&&document.documentElement.classList.add(e.class),t.toggle.querySelector("span").textContent=e.text)}})(),v=(()=>{const e=new ResizeObserver(c),t={navMenu:null,modalOverlay:null};let n=!1;return{isVisible(){return n},scrolledTop(){t.navMenu.style.display=""},init:o,toggle:i};function o(){t.navMenu=document.querySelector("#site-navigation .nav-menu-outer"),t.modalOverlay=document.getElementById("nav-menu-modal-overlay"),y(".nav-menu-toggle","click",i),t.modalOverlay.addEventListener("click",i),t.modalOverlay.addEventListener("transitionend",d),e.observe(t.navMenu.querySelector(".menu-primary-menu-container"))}function i(){a.siteHeader.classList.contains("sticky-nav-up")?n?t.navMenu.style.display="none":t.navMenu.style.display="flex":a.siteHeader.classList.contains("sticky-nav-down")===!1&&a.siteHeader.classList.toggle("hide-nav-menu")}function c(l){n=l[0].contentRect.height!==0,n?(t.modalOverlay.className="",t.modalOverlay.classList.add("show"),setTimeout(()=>t.modalOverlay.classList.add("fadein"),50)):t.modalOverlay.classList.add("fadeout")}function d(){n===!1&&(t.modalOverlay.className="",t.navMenu.style.display="")}})(),T=(()=>{const e=new Event("allowKeyboardShortcuts"),t=new Event("denyKeyboardShortcuts"),n={searchContainer:null,searchField:null};let o=!1;return{isVisible(){return o},init:i,toggle:c,hide:d};function i(){n.searchContainer=document.getElementById("search-container"),n.searchField=n.searchContainer.querySelector(".search-field"),y(".nav-search-toggle","click",c),y(".nav-search-toggle","mousedown",s=>s.preventDefault()),n.searchField.addEventListener("blur",d),n.searchField.addEventListener("keydown",s=>{s.key==="Escape"&&(s.stopPropagation(),d())})}function c(){n.searchContainer.style.display.length===0?(I(_.SITE_MAX_WIDTH_MOBILE)&&x.getLastScrollTop()>0&&window.scroll({top:0,left:0,behavior:q.smoothScrolling?"smooth":"auto"}),l()):d()}function d(){o&&u(!1,e,"","search")}function l(){I(_.SITE_MAX_WIDTH_MOBILE)&&x.getLastScrollTop()!==0?window.requestAnimationFrame(l):(p(),u(!0,t,"flex","clear"),n.searchField.focus(),n.searchField.setSelectionRange(9999,9999))}function u(s,L,Y,G){o=s,document.dispatchEvent(L),n.searchContainer.style.display=Y,document.querySelectorAll("div.nav-search-toggle i").forEach(N=>N.textContent=G)}function p(){let s=DOMRect;I(_.SITE_MAX_WIDTH_MOBILE)?(s.top=document.body.classList.contains("no-playback")?15:21,s.left=68,s.right=document.body.clientWidth-65,s.height=30):s=document.querySelector("div.site-branding-container").getBoundingClientRect(),n.searchContainer.style.top=`${s.top}px`,n.searchContainer.style.left=`${s.left}px`,n.searchContainer.style.width=`${s.right-s.left}px`,n.searchContainer.style.height=`${s.height}px`}})(),m=(()=>{let e=0,t=0;return{getHeaderHeight(){return e},setLastInnerWidth(i){t=i},addEventListener:n,setTopMargin:o};function n(){window.addEventListener("resize",()=>{const i=window.innerWidth;t!==i&&(o(),t=i)})}function o(){const i=te("--site-content-margin-top");a.siteHeader.classList.contains("hide-nav-menu")&&(e=a.siteHeader.offsetHeight),a.introBanner!==null&&a.introBanner.style.display.length!==0?(a.introBanner.style.marginTop=`${e}px`,a.siteContent.style.marginTop=`${i}px`):a.siteContent.style.marginTop=`${e+i}px`}})(),x=(()=>{let e=0,t=!1;return{getLastScrollTop(){return e},addEventListener:n};function n(){window.addEventListener("scroll",()=>{const d=window.pageYOffset,l=Math.round(m.getHeaderHeight()>150?m.getHeaderHeight()/2:m.getHeaderHeight()/3);d<1?o():d>l&&d>e?i():c(),T.hide(),e=d})}function o(){a.siteHeader.classList.remove("sticky-nav-down","sticky-nav-up"),a.siteHeader.classList.add("hide-nav-menu"),v.scrolledTop(),m.setTopMargin()}function i(){t===!1&&(t=!0,R(a.siteHeader,"sticky-nav-up","sticky-nav-down"))}function c(){t===!0&&(t=!1,R(a.siteHeader,"sticky-nav-down","sticky-nav-up")),v.isVisible()&&v.toggle()}})();
//# sourceMappingURL=index.js.map
