const B=!1;class N{constructor(e="unknown"){this.caller=ne(e.toUpperCase(),15,".")}isDebug(){return B}warn(e){console.warn(`${this.caller}:`,e)}error(e){console.error(`${this.caller}:`,e)}}class ae extends N{constructor(e){super(e)}log(e){console.log(`${this.caller}:`,e)}logEventLog(e,n,t){const a=[];for(let s=0;s<e.length;s++){const i={eventSource:this.getObjectKeyForValue(n,e[s].eventSource),eventType:this.getObjectKeyForValue(t,e[s].eventType),uId:e[s].uId,timeStamp:e[s].timeStamp};a.push(i)}this.log(a)}getObjectKeyForValue(e,n){return Object.keys(e).find(t=>e[t]===n)}}class se extends N{constructor(e){super(e)}log(){}logEventLog(){}getObjectKeyForValue(){}}function T(e){return B===!0?new ae(e):new se(e)}function ne(e,n,t){return e.length>n?e.slice(0,n):e.padEnd(n,t)}const f=T("storage"),oe=[],y={UF_PLAYBACK_SETTINGS:"UF_PLAYBACK_SETTINGS",UF_SITE_SETTINGS:"UF_SITE_SETTINGS",UF_SITE_THEME:"UF_SITE_THEME",UF_TRACK_LAYOUT:"UF_TRACK_LAYOUT",UF_TRACKS_PER_PAGE:"UF_TRACKS_PER_PAGE"};function K(e){let n;try{n=window[e];const t="__storage_test__";return n.setItem(t,t),n.removeItem(t),!0}catch(t){return t instanceof DOMException&&(t.code===22||t.code===1014||t.name==="QuotaExceededError"||t.name==="NS_ERROR_DOM_QUOTA_REACHED")&&n&&n.length!==0}}function q(e,n="",t=60*60*24*365,a="/"){document.cookie=`${e}=${n}; Max-Age=${t}; Path=${a}; Secure; SameSite=Strict`}function A(e,n){try{localStorage.setItem(e,n)}catch(t){f.error(t)}}function ie(e,n=null,t=!0){f.log(`readJson(): ${e} - ${n} - ${t}`);const a=localStorage.getItem(e);let s=null;if(a===null)return t&&n!==null&&H(e,n),n;try{s=JSON.parse(a)}catch(i){f.error(i)}return s}function H(e,n){f.log(`writeJson(): ${e} - ${n}`);try{localStorage.setItem(e,JSON.stringify(n))}catch(t){f.error(t)}}function re(e,n,t){f.log(`mergeObjectProps(): Merging ${t} from version ${e.version} to version ${n.version}`);const a={...e,...n};return a.user={...n.user,...e.user},a.priv={...n.priv,...e.priv},t===y.UF_SITE_SETTINGS?a.priv.banners={...n.priv.banners,...e.priv.banners}:t===y.UF_PLAYBACK_SETTINGS,a}function M(e,n){Object.keys(e).forEach(t=>{t in n===!1&&(f.log(`deleteOrphanedKeys(): Deleting '${t}'`),delete e[t])})}function le(e,n,t){M(e,n),M(e.user,n.user),M(e.priv,n.priv),t===y.UF_SITE_SETTINGS?M(e.priv.banners,n.priv.banners):t===y.UF_PLAYBACK_SETTINGS}function V(e,n=null,t=!0){const a=ie(e,n,t);if(a!==null&&n!==null){let s=null;return a.version<n.version?(f.log(a),s=re(a,n,e),le(s,n,e),f.log(s),H(e,s)):s=a,ce(e,s)}return f.error(`readWriteSettingsProxy() failed for: ${e}`),null}const ce=(e,n)=>{const t={get(a,s,i){if(s in a){const r=Reflect.get(a,s,i);return typeof r=="object"?new Proxy(r,t):r}f.error(`onSettingsChange(): Get unknown property: ${s}`)},set(a,s,i,r){if(s in a){const l=Reflect.get(a,s,r);return i!==l&&(Reflect.set(a,s,i),H(e,n),ue(s,l,i)),!0}return f.error(`onSettingsChange(): Set unknown property: ${s}`),!0}};return new Proxy(n,t)};function ue(e,n,t){oe.forEach(a=>{a.property===e&&(f.log(`callSettingsObserver() for property: ${e} - oldValue: ${n} - newValue: ${t}`),a.observer(n,t))})}function G(e,n){let t=null;if(e.key===n)try{t=JSON.parse(e.oldValue)}catch(a){f.error(a)}return t}const I=T("utils"),b={SITE_MIN_WIDTH_WIDE:1,SITE_MAX_WIDTH:2,SITE_MAX_WIDTH_MOBILE:3},de=window.matchMedia(`(min-width: ${w("--site-min-width-wide")})`),ge=window.matchMedia(`(max-width: ${w("--site-max-width")})`),fe=window.matchMedia(`(max-width: ${w("--site-max-width-mobile")})`);function k(e,n,t,a=null){const s=document.querySelectorAll(e);s.forEach(i=>{i.addEventListener(n,r=>t(r,a))})}function w(e){let n=getComputedStyle(document.documentElement).getPropertyValue(e);return n.length!==0?n=n.replace(/'|"/g,"").trim():I.error(`getCssPropString(${e}): Returned CSS property string is empty`),n}function Y(e){const n=w(e);let t=NaN;return n.length!==0&&(t=parseInt(n)),isNaN(t)&&I.error(`getCssPropValue(${e}): Returned CSS property value is NaN`),t}function C(e){switch(e){case b.SITE_MIN_WIDTH_WIDE:return de.matches;case b.SITE_MAX_WIDTH:return ge.matches;case b.SITE_MAX_WIDTH_MOBILE:return fe.matches}return!1}function U(e,n,t){e.classList.remove(n),e.classList.add(t)}function J(e){const n=window.innerWidth-document.documentElement.clientWidth;document.body.style.overflow=e?"hidden":"",document.body.style.paddingRight=e?`${n}px`:"",document.getElementById("site-header").style.paddingRight=e?`${n}px`:""}const j=(()=>{const e={id:"modal"},n=`
    <div id="${e.id}-dialog" tabindex="-1">
      <div class="${e.id}-container">
        <div class="${e.id}-header">
          <div class="${e.id}-title"></div>
          <div class="${e.id}-close-button"><span class="material-icons" title="Dismiss">close</span></div>
        </div>
        <div class="${e.id}-body"></div>
      </div>
    </div>
  `,t={overlay:null,container:null,body:null};let a=null;return{show:s};function s(o,m,p){I.log(`modal.show(): ${o}`),i(),a=p,r(m),t.container.querySelector(`.${e.id}-title`).innerHTML=o,t.overlay.classList.add("show"),t.overlay.addEventListener("keydown",u),t.overlay.focus(),J(!0)}function i(){t.container===null&&(document.body.insertAdjacentHTML("beforeend",n),t.overlay=document.getElementById(`${e.id}-dialog`),t.container=t.overlay.querySelector(`.${e.id}-container`),t.body=t.overlay.querySelector(`.${e.id}-body`),t.overlay.addEventListener("click",o=>{o.target===t.overlay&&g()}),t.overlay.addEventListener("animationend",()=>{t.overlay.classList.contains("hide")&&(t.overlay.className="",J(!1))}),t.overlay.querySelector(`.${e.id}-close-button`).addEventListener("click",g))}function r(o){let m="";o.forEach(p=>m+=`<div id="${p.id}" class="${e.id}-single-choice">${p.description}</div>`),t.body.innerHTML=m,o.forEach(p=>t.body.querySelector(`#${p.id}`).addEventListener("click",l))}function l(){g(),setTimeout(()=>a(this.id),150)}function u(o){o.stopPropagation(),o.key==="Escape"&&g()}function g(){t.overlay.removeEventListener("keydown",u),t.overlay.classList.replace("show","hide")}})(),D=(()=>{const e={id:"snackbar"},n=`
    <div id="${e.id}">
      <div class="${e.id}-container">
        <div class="${e.id}-message"></div>
        <div class="${e.id}-action-button"></div>
        <div class="${e.id}-close-button"><span class="material-icons" title="Dismiss">close</span></div>
      </div>
    </div>
  `,t={snackbar:null,actionButton:null,closeButton:null};let a=null,s=null,i=-1,r=-1;return{show:l};function l(m,p=5,L=null,O=null,te=null){I.log(`snackbar.show(): ${m} (${p} sec)`),g(),o(),t.snackbar.querySelector(`.${e.id}-message`).innerHTML=m,t.snackbar.classList.add("show"),t.actionButton.style.display="none",s=te,L!==null&&O!==null?(a=O,t.actionButton.style.display="block",t.actionButton.textContent=L,t.actionButton.addEventListener("click",u)):C(b.SITE_MAX_WIDTH_MOBILE)?t.closeButton.style.paddingLeft="10px":t.closeButton.style.paddingLeft="20px",p!==0&&(i=setTimeout(()=>{t.snackbar.classList.add("hide"),r=setTimeout(()=>{t.snackbar.className="",s!==null&&s()},450)},p*1e3))}function u(){a(),o(!0)}function g(){t.snackbar===null&&(document.body.insertAdjacentHTML("beforeend",n),t.snackbar=document.getElementById(e.id),t.actionButton=t.snackbar.querySelector(`.${e.id}-action-button`),t.closeButton=t.snackbar.querySelector(`.${e.id}-close-button`),t.closeButton.addEventListener("click",()=>{s!==null&&s(),o(!0)}))}function o(m=!1){i!==-1&&(clearTimeout(i),i=-1),r!==-1&&(clearTimeout(r),r=-1),t.actionButton.removeEventListener("click",u),m&&t.snackbar.classList.remove("show")}})();const d={keyboardShortcuts:{description:"Keyboard Shortcuts",values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},masterVolume:{description:"Master Volume",values:[0,25,50,75,100],default:100,valueStrings:["0%","25%","50%","75%","100%"]},masterMute:{description:"Master Mute",values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},autoPlay:{description:"Autoplay next track",values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},autoCrossfade:{description:"Auto Crossfade to next track",values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},autoCrossfadeLength:{description:"Auto Crossfade Length",values:[5,10,15,20,25,30],default:20,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},autoCrossfadeCurve:{description:"Auto Crossfade Curve",values:[0,1],default:1,valueStrings:["EQUAL POWER","LINEAR"]},autoScroll:{description:"Autoscroll to next track",values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},smoothScrolling:{description:"Smooth Scrolling to next track",values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},autoExitFullscreen:{description:"Exit Fullscreen on next track",values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},animateNowPlayingIcon:{description:"Animate Playing Track Icon",values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},autoResumePlayback:{description:"Auto Resume Playback on focus",values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},trackCrossfade:{description:"Track to Track Crossfade",values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},trackCrossfadeLength:{description:"Track to Track Crossfade Length",values:[5,10,15,20,25,30],default:10,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},trackCrossfadeCurve:{description:"Track to Track Crossfade Curve",values:[0,1],default:0,valueStrings:["EQUAL POWER","LINEAR"]},timeRemainingWarning:{description:"Time Remaining Warning",values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},timeRemainingSeconds:{description:"Time Remaining Warning Seconds",values:[15,30,45,60],default:60,valueStrings:["15 sec","30 sec","45 sec","60 sec"]},autoExitFsOnWarning:{description:"Exit Fullscreen on Time Warning",values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},keepMobileScreenOn:{description:"Keep Mobile Screen On when playing",values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},trackTimesOnMobile:{description:"Show Track Times on mobile",values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},trackThumbnailOnMobile:{description:"Show Track Thumbnail on mobile",values:[!0,!1],default:!0,valueStrings:["ON","OFF"]}},Ce={version:21,storageChangeSync:!1,user:{keyboardShortcuts:d.keyboardShortcuts.default,masterVolume:d.masterVolume.default,masterMute:d.masterMute.default,autoPlay:d.autoPlay.default,autoCrossfade:d.autoCrossfade.default,autoCrossfadeLength:d.autoCrossfadeLength.default,autoCrossfadeCurve:d.autoCrossfadeCurve.default,autoScroll:d.autoScroll.default,smoothScrolling:d.smoothScrolling.default,autoExitFullscreen:d.autoExitFullscreen.default,animateNowPlayingIcon:d.animateNowPlayingIcon.default,autoResumePlayback:d.autoResumePlayback.default,trackCrossfade:d.trackCrossfade.default,trackCrossfadeLength:d.trackCrossfadeLength.default,trackCrossfadeCurve:d.trackCrossfadeCurve.default,timeRemainingWarning:d.timeRemainingWarning.default,timeRemainingSeconds:d.timeRemainingSeconds.default,autoExitFsOnWarning:d.autoExitFsOnWarning.default,keepMobileScreenOn:d.keepMobileScreenOn.default,trackTimesOnMobile:d.trackTimesOnMobile.default,trackThumbnailOnMobile:d.trackThumbnailOnMobile.default,blurFocusBgChange:!1},priv:{continueAutoPlay:!1,showLeftArrowHint:!0,showRightArrowHint:!0,showDetailsHint:!0,showTrackImageHint:!0}},_={theme:{description:"Theme",values:["light","dark","auto"],default:"auto",valueStrings:["LIGHT","DARK","AUTO / SYSTEM"]},trackLayout:{description:"Track Layout",values:["list","2-column","3-column"],default:"3-column",valueStrings:["LIST","2 COLUMN","3 / 4 COLUMN"]},tracksPerPage:{description:"Tracks Per Page for Search &amp; Shuffle",values:[...Array(22).keys()].map(e=>e+3),default:12,valueStrings:[...Array(22).keys()].map(e=>`${e+3}`)},keyboardShortcuts:{description:"Keyboard Shortcuts",values:[!0,!1],default:!0,valueStrings:["ON","OFF"]}},z={version:6,storageChangeSync:!1,user:{theme:_.theme.default,trackLayout:_.trackLayout.default,tracksPerPage:_.tracksPerPage.default,keyboardShortcuts:_.keyboardShortcuts.default},priv:{banners:{showFrontpageIntro:!0,showPremiumIntro:!0,showPromoIntro:!0}}};const S=T("index");let h={};const X={smoothScrolling:!1,settingsUpdatedEvent:"settingsUpdated"},c={siteHeader:null,introBanner:null,siteContent:null,siteContentSearch:null};document.addEventListener("DOMContentLoaded",()=>{S.log("DOMContentLoaded"),R(),me(),c.introBanner!==null&&he(),document.querySelector("#site-content form.search-form")!==null&&(c.siteContentSearch.focus(),c.siteContentSearch.setSelectionRange(9999,9999)),v.setTopMargin(),v.setLastInnerWidth(window.innerWidth),pe()});document.addEventListener(X.settingsUpdatedEvent,()=>{R(),x.setCurrent(),$.setCurrent(),q(y.UF_TRACKS_PER_PAGE,h.user.tracksPerPage,60*60*24*365*5)});window.addEventListener("load",()=>v.setTopMargin());window.addEventListener("storage",ye);function R(){S.log("readSettings()"),h=V(y.UF_SITE_SETTINGS,z),S.log(h)}function me(){S.log("initIndex()"),c.siteHeader=document.getElementById("site-header"),c.introBanner=document.getElementById("intro-banner"),c.siteContent=document.getElementById("site-content"),c.siteContentSearch=document.querySelector("#site-content form input.search-field"),ve.addEventListeners(),v.addEventListener(),W.addEventListener(),P.init(),E.init(),x.init(),$.init()}document.addEventListener("keydown",e=>{if(e.ctrlKey===!1&&e.altKey===!1)switch(e.key){case"Escape":E.isVisible()&&(e.preventDefault(),E.toggle());return}if(h.user.keyboardShortcuts&&e.ctrlKey===!1&&e.altKey===!1)switch(e.key){case"c":case"C":F()&&(e.preventDefault(),E.toggle());break;case"L":F()&&Q()&&($.toggle(e,!1),v.setTopMargin());break;case"s":case"S":F()&&(e.preventDefault(),P.toggle());break;case"T":F()&&Q()&&x.toggle(e);break}});function F(){return P.isVisible()===!1&&c.siteContentSearch!==document.activeElement}function Q(){return document.body.classList.contains("page-template-page-settings")===!1}function ye(e){if(h.storageChangeSync){const n=G(e,y.UF_SITE_SETTINGS);n!==null&&(S.log(`windowEventStorage(): ${e.key}`),R(),h.user.theme!==n.user.theme&&x.setCurrent(),h.user.trackLayout!==n.user.trackLayout&&$.setCurrent())}}function he(){K("localStorage")&&(typeof bannerProperty!="undefined"&&bannerProperty!==null&&(h.priv.banners[bannerProperty]&&(c.introBanner.style.display="block",k("#intro-banner .intro-banner-close-button","click",()=>{c.introBanner.style.display="",v.setTopMargin(),h.priv.banners[bannerProperty]=!1}))))}function pe(){if(document.querySelector(".nav-bar-title .go-back-to")!==null){let e="";if(document.referrer.length===0)e="Previous Page";else{const n=new URL(decodeURIComponent(document.referrer));if(n.search.length!==0)e="Search Results";else if(n.pathname.length>1){const t=n.pathname.slice(-1)==="/"?1:0,a=n.pathname.slice(1,n.pathname.length-t).replace(/-/gi," ").split("/");a.forEach((s,i)=>e+=i+1<a.length?s+" / ":s)}}document.querySelectorAll("#site-navigation .nav-bar-title").forEach(n=>{n.querySelector(".go-back-title").textContent=e.length>0?e:"Ultrafunk (home)",n.querySelector(".go-back-to").style.opacity=1})}}const ve=(()=>{let e=null,n=null;const t=/\s{1,}[–·-]\s{1,}/i,a=[{id:"copyToClipboard",description:"<b>Copy Link</b> to Clipboard"},{id:"shareOnEmail",description:"<b>Share</b> on Email"},{id:"playOnAmazonMusic",description:"<b>Play</b> on Amazon Music"},{id:"playOnAppleMusic",description:"<b>Play</b> on Apple Music"},{id:"playOnSpotify",description:"<b>Play</b> on Spotify"},{id:"playOnTidal",description:"<b>Play</b> on Tidal"},{id:"playOnYouTubeMusic",description:"<b>Play</b> on YouTube Music"}];return{addEventListeners:s,click:i};function s(){k(".entry-meta-controls .track-share-control","click",i)}function i(l){e=l.target.getAttribute("data-entry-track-title"),n=l.target.getAttribute("data-entry-track-url"),j.show("Share / Play Track",a,r)}function r(l){S.log(`singleChoiceListClick(): ${l} - trackTitle: ${e} - trackUrl: ${n}`);const u=encodeURIComponent(e.replace(t," "));switch(l){case"copyToClipboard":navigator.clipboard.writeText(n).then(()=>{D.show("Track link copied to the clipboard",3)},g=>{S.error(`trackShare.copyToClipboard() failed because ${g}`),D.show("Failed to copy Track link to the clipboard",5)});break;case"shareOnEmail":window.location.href=`mailto:?subject=${encodeURIComponent(e)}&body=${n}%0d%0a`;break;case"playOnAmazonMusic":window.open(`https://music.amazon.com/search/${u}`,"_blank");break;case"playOnAppleMusic":window.open(`https://music.apple.com/ca/search?term=${u}`,"_blank");break;case"playOnSpotify":window.open(`https://open.spotify.com/search/${u}`,"_blank");break;case"playOnTidal":window.open(`https://google.com/search?q=${u}%20site:tidal.com`,"_blank");break;case"playOnYouTubeMusic":window.open(`https://music.youtube.com/search?q=${u}`,"_blank");break}}})();function Z(e,n,t){const a=Object.values(e).find(s=>s.id===n);return a!==void 0?a:t}function ee(e,n){const t=Object.values(e).findIndex(s=>s.id===n.id),a=Object.keys(e);return t+1<a.length?e[a[t+1]]:e[a[0]]}const x=(()=>{let e={};const n={toggle:null},t={toggleId:"#footer-site-theme-toggle",prefDarkScheme:"(prefers-color-scheme: dark)"},a={light:{id:"light",text:"light",class:"site-theme-light"},dark:{id:"dark",text:"dark",class:"site-theme-dark"},auto:{id:"auto",text:"auto"}};return{init:s,setCurrent:i,toggle:l};function s(){n.toggle=document.querySelector(t.toggleId);const o=window.matchMedia(t.prefDarkScheme);o.addEventListener("change",r),k(t.toggleId,"click",l),i()}function i(){e=Z(a,h.user.theme,a.auto),u()}function r(){e.id===a.auto.id&&u()}function l(o){o.preventDefault(),e=ee(a,e),h.user.theme=e.id,u()}function u(){let o=e;e.id===a.auto.id&&(o=window.matchMedia(t.prefDarkScheme).matches?a.dark:a.light),A(y.UF_SITE_THEME,o.id),g(o)}function g(o){document.documentElement.classList.contains(o.class)===!1&&(S.log(`updateDOM() - newSiteTheme: ${o.id}`),document.documentElement.classList.remove(a.light.class,a.dark.class),document.documentElement.classList.add(o.class)),n.toggle.querySelector("span").textContent=e.text}})(),$=(()=>{let e={};const n={toggle:null},t={toggleId:"#footer-track-layout-toggle",minWidth:`(max-width: ${w("--site-content-track-layout-min-width")})`},a={list:{id:"list",text:"list",class:"track-layout-list"},twoColumn:{id:"2-column",text:"2 column",class:"track-layout-2-column"},threeColumn:{id:"3-column",text:"3 / 4 column",class:"track-layout-3-column"}};return{init:s,setCurrent:i,toggle:l};function s(){n.toggle=document.querySelector(t.toggleId);const o=window.matchMedia(t.minWidth);o.addEventListener("change",r),k(t.toggleId,"click",l),i()}function i(){e=Z(a,h.user.trackLayout,a.threeColumn),n.toggle.querySelector("span").textContent=e.text,u()}function r(o){o.matches?document.documentElement.classList.remove(e.class):document.documentElement.classList.add(e.class)}function l(o,m=!1){o.preventDefault(),e=ee(a,e),h.user.trackLayout=e.id,u(),m&&n.toggle.scrollIntoView()}function u(){A(y.UF_TRACK_LAYOUT,e.id),g()}function g(){document.documentElement.classList.contains(e.class)===!1&&(S.log(`updateDOM() - newTrackLayout: ${e.id}`),document.documentElement.classList.remove(a.list.class,a.twoColumn.class,a.threeColumn.class),window.matchMedia(t.minWidth).matches===!1&&document.documentElement.classList.add(e.class),n.toggle.querySelector("span").textContent=e.text)}})(),E=(()=>{const e=new ResizeObserver(i),n={navMenu:null,modalOverlay:null};let t=!1;return{isVisible(){return t},scrolledTop(){n.navMenu.style.display=""},init:a,toggle:s};function a(){n.navMenu=document.querySelector("#site-navigation .nav-menu-outer"),n.modalOverlay=document.getElementById("nav-menu-modal-overlay"),k(".nav-menu-toggle","click",s),n.modalOverlay.addEventListener("click",s),n.modalOverlay.addEventListener("transitionend",r),e.observe(n.navMenu.querySelector(".menu-primary-menu-container"))}function s(){c.siteHeader.classList.contains("sticky-nav-up")?t?n.navMenu.style.display="none":n.navMenu.style.display="flex":c.siteHeader.classList.contains("sticky-nav-down")===!1&&c.siteHeader.classList.toggle("hide-nav-menu")}function i(l){t=l[0].contentRect.height!==0,t?(n.modalOverlay.className="",n.modalOverlay.classList.add("show"),setTimeout(()=>n.modalOverlay.classList.add("fadein"),50)):n.modalOverlay.classList.add("fadeout")}function r(){t===!1&&(n.modalOverlay.className="",n.navMenu.style.display="")}})(),P=(()=>{const e=new Event("allowKeyboardShortcuts"),n=new Event("denyKeyboardShortcuts"),t={searchContainer:null,searchField:null};let a=!1;return{isVisible(){return a},init:s,toggle:i,hide:r};function s(){t.searchContainer=document.getElementById("search-container"),t.searchField=t.searchContainer.querySelector(".search-field"),k(".nav-search-toggle","click",i),k(".nav-search-toggle","mousedown",o=>o.preventDefault()),t.searchField.addEventListener("blur",r),t.searchField.addEventListener("keydown",o=>{o.key==="Escape"&&(o.stopPropagation(),r())})}function i(){t.searchContainer.style.display.length===0?(C(b.SITE_MAX_WIDTH_MOBILE)&&W.getLastScrollTop()>0&&window.scroll({top:0,left:0,behavior:X.smoothScrolling?"smooth":"auto"}),l()):r()}function r(){a&&u(!1,e,"","search")}function l(){C(b.SITE_MAX_WIDTH_MOBILE)&&W.getLastScrollTop()!==0?window.requestAnimationFrame(l):(g(),u(!0,n,"flex","clear"),t.searchField.focus(),t.searchField.setSelectionRange(9999,9999))}function u(o,m,p,L){a=o,document.dispatchEvent(m),t.searchContainer.style.display=p,document.querySelectorAll("div.nav-search-toggle i").forEach(O=>O.textContent=L)}function g(){let o=DOMRect;C(b.SITE_MAX_WIDTH_MOBILE)?(o.top=document.body.classList.contains("no-playback")?15:21,o.left=68,o.right=document.body.clientWidth-65,o.height=30):o=document.querySelector("div.site-branding-container").getBoundingClientRect(),t.searchContainer.style.top=`${o.top}px`,t.searchContainer.style.left=`${o.left}px`,t.searchContainer.style.width=`${o.right-o.left}px`,t.searchContainer.style.height=`${o.height}px`}})(),v=(()=>{let e=0,n=0;return{getHeaderHeight(){return e},setLastInnerWidth(s){n=s},addEventListener:t,setTopMargin:a};function t(){window.addEventListener("resize",()=>{const s=window.innerWidth;n!==s&&(a(),n=s)})}function a(){const s=Y("--site-content-margin-top");c.siteHeader.classList.contains("hide-nav-menu")&&(e=c.siteHeader.offsetHeight),c.introBanner!==null&&c.introBanner.style.display.length!==0?(c.introBanner.style.marginTop=`${e}px`,c.siteContent.style.marginTop=`${s}px`):c.siteContent.style.marginTop=`${e+s}px`}})(),W=(()=>{let e=0,n=!1;return{getLastScrollTop(){return e},addEventListener:t};function t(){window.addEventListener("scroll",()=>{const r=window.pageYOffset,l=Math.round(v.getHeaderHeight()>150?v.getHeaderHeight()/2:v.getHeaderHeight()/3);r<1?a():r>l&&r>e?s():i(),P.hide(),e=r})}function a(){c.siteHeader.classList.remove("sticky-nav-down","sticky-nav-up"),c.siteHeader.classList.add("hide-nav-menu"),E.scrolledTop(),v.setTopMargin()}function s(){n===!1&&(n=!0,U(c.siteHeader,"sticky-nav-up","sticky-nav-down"))}function i(){n===!0&&(n=!1,U(c.siteHeader,"sticky-nav-down","sticky-nav-up")),E.isVisible()&&E.toggle()}})();
//# sourceMappingURL=index.js.map
