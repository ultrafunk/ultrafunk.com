var N=!1,k=class{constructor(e="unknown"){this.moduleName=W(e.toUpperCase(),20,".")}isDebug(){return N}warn(e){console.warn(`${this.moduleName}:`,e)}error(e){console.error(`${this.moduleName}:`,e)}},F=class extends k{constructor(e){super(e)}log(e){console.log(`${this.moduleName}:`,e)}logEventLog(e,s,r){let a=[];for(let l=0;l<e.length;l++){let c={eventSource:this.getObjectKeyForValue(s,e[l].eventSource),eventType:this.getObjectKeyForValue(r,e[l].eventType),uId:e[l].uId,timeStamp:e[l].timeStamp};a.push(c)}this.log(a)}getObjectKeyForValue(e,s){return Object.keys(e).find(r=>e[r]===s)}},_=class extends k{constructor(e){super(e)}log(){}logEventLog(){}getObjectKeyForValue(){}};function g(t){return N===!0?new F(t):new _(t)}function W(t,e,s){return t.length>e?t.slice(0,e):t.padEnd(e,s)}var ne=g("crossfade");var H=g("mediaplayers"),B=/\s{1,}[–·-]\s{1,}/i;function de(t,e,s=B){if(t!==null&&t.length>0){e.artist=t,e.title="";let r=t.match(s);r!==null&&(e.artist=t.slice(0,r.index),e.title=t.slice(r.index+r[0].length))}}function fe(t,e="/wp-content/themes/ultrafunk/inc/img/photo_filled_grey.png"){let r=new URL(decodeURIComponent(t)).pathname.split("/embed/");return r.length===2&&r[1].length===11?`https://img.youtube.com/vi/${r[1]}/default.jpg`:(H.warn("getYouTubeImgUrl() failed for: "+t),e)}var T=g("settings"),o=1,u=2,p=3,n={version:{description:"",type:o,values:[1,999999],default:27,valueStrings:[]},user:{keyboardShortcuts:{description:"Keyboard Shortcuts",type:u,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},masterVolume:{description:"Master Volume",type:o,values:[0,25,50,75,100],default:100,valueStrings:["0%","25%","50%","75%","100%"]},masterMute:{description:"Master Mute",type:u,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},autoplay:{description:"Autoplay next track",type:u,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},autoCrossfade:{description:"Auto Crossfade to next track",type:u,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},autoCrossfadeLength:{description:"Auto Crossfade Length",type:o,values:[5,10,15,20,25,30],default:20,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},autoCrossfadeCurve:{description:"Auto Crossfade Curve",type:o,values:[0,1],default:1,valueStrings:["Equal Power","Linear"]},autoScroll:{description:"Autoscroll to next track",type:u,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},smoothScrolling:{description:"Smooth Scrolling to next track",type:u,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},autoExitFullscreen:{description:"Exit Fullscreen on next track",type:u,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},animateNowPlayingIcon:{description:"Animate Playing Track Icon",type:u,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},autoResumePlayback:{description:"Auto Resume Playback on focus",type:u,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},trackCrossfadeDefPreset:{description:"Track Crossfade Def. Preset",type:o,values:[0,1,2,3,4,5],default:1,valueStrings:["10 sec EqPow (1)","20 sec EqPow (2)","30 sec EqPow (3)","10 sec Linear (4)","20 sec Linear (5)","30 sec Linear (6)"]},timeRemainingWarning:{description:"Time Remaining Warning",type:u,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},timeRemainingSeconds:{description:"Time Remaining Warning Seconds",type:o,values:[15,30,45,60],default:60,valueStrings:["15 sec","30 sec","45 sec","60 sec"]},autoExitFsOnWarning:{description:"Exit Fullscreen on Time Warning",type:u,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},keepMobileScreenOn:{description:"Keep Mobile Screen On when playing",type:u,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},trackTimesOnMobile:{description:"Show Track Times on mobile",type:u,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},trackThumbnailOnMobile:{description:"Show Track Thumbnail on mobile",type:u,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]}},priv:{tips:{showLeftArrowHint:{description:"",type:u,values:[!0,!1],default:!0,valueStrings:[]},showRightArrowHint:{description:"",type:u,values:[!0,!1],default:!0,valueStrings:[]},showDetailsHint:{description:"",type:u,values:[!0,!1],default:!0,valueStrings:[]},showTrackImageHint:{description:"",type:u,values:[!0,!1],default:!0,valueStrings:[]}}}},pe={version:n.version.default,user:{keyboardShortcuts:n.user.keyboardShortcuts.default,masterVolume:n.user.masterVolume.default,masterMute:n.user.masterMute.default,autoplay:n.user.autoplay.default,autoCrossfade:n.user.autoCrossfade.default,autoCrossfadeLength:n.user.autoCrossfadeLength.default,autoCrossfadeCurve:n.user.autoCrossfadeCurve.default,autoScroll:n.user.autoScroll.default,smoothScrolling:n.user.smoothScrolling.default,autoExitFullscreen:n.user.autoExitFullscreen.default,animateNowPlayingIcon:n.user.animateNowPlayingIcon.default,autoResumePlayback:n.user.autoResumePlayback.default,trackCrossfadeDefPreset:n.user.trackCrossfadeDefPreset.default,timeRemainingWarning:n.user.timeRemainingWarning.default,timeRemainingSeconds:n.user.timeRemainingSeconds.default,autoExitFsOnWarning:n.user.autoExitFsOnWarning.default,keepMobileScreenOn:n.user.keepMobileScreenOn.default,trackTimesOnMobile:n.user.trackTimesOnMobile.default,trackThumbnailOnMobile:n.user.trackThumbnailOnMobile.default},priv:{tips:{showLeftArrowHint:n.priv.tips.showLeftArrowHint.default,showRightArrowHint:n.priv.tips.showRightArrowHint.default,showDetailsHint:n.priv.tips.showDetailsHint.default,showTrackImageHint:n.priv.tips.showTrackImageHint.default}}},m={version:{description:"",type:o,values:[1,999999],default:8,valueStrings:[]},user:{theme:{description:"Theme",type:p,values:["light","dark","auto"],default:"auto",valueStrings:["Light","Dark","Auto / System"]},trackLayout:{description:"Track Layout",type:p,values:["list","2-column","3-column"],default:"3-column",valueStrings:["List","2 Column","3 / 4 Column"]},tracksPerPage:{description:"Tracks Per Page for Search &amp; Shuffle",type:o,values:[...Array(22).keys()].map(t=>t+3),default:12,valueStrings:[...Array(22).keys()].map(t=>`${t+3}`)},keyboardShortcuts:{description:"Keyboard Shortcuts",type:u,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]}},priv:{banners:{showFrontpageIntro:{description:"",type:u,values:[!0,!1],default:!0,valueStrings:[]},showPremiumIntro:{description:"",type:u,values:[!0,!1],default:!0,valueStrings:[]},showPromoIntro:{description:"",type:u,values:[!0,!1],default:!0,valueStrings:[]}}}},he={version:m.version.default,user:{theme:m.user.theme.default,trackLayout:m.user.trackLayout.default,tracksPerPage:m.user.tracksPerPage.default,keyboardShortcuts:m.user.keyboardShortcuts.default},priv:{banners:{showFrontpageIntro:m.priv.banners.showFrontpageIntro.default,showPremiumIntro:m.priv.banners.showPremiumIntro.default,showPromoIntro:m.priv.banners.showPromoIntro.default}}},d={version:{description:"",type:o,values:[1,999999],default:1,valueStrings:[]},crossfade:[{name:{description:"Preset 1",type:p,values:[5,50],default:"10 sec EqPow",valueStrings:[]},length:{description:"Crossfade Length",type:o,values:[5,10,15,20,25,30],default:10,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},curve:{description:"Crossfade Curve",type:o,values:[0,1],default:0,valueStrings:["Equal Power","Linear"]}},{name:{description:"Preset 2",type:p,values:[5,50],default:"20 sec EqPow",valueStrings:[]},length:{description:"Crossfade Length",type:o,values:[5,10,15,20,25,30],default:20,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},curve:{description:"Crossfade Curve",type:o,values:[0,1],default:0,valueStrings:["Equal Power","Linear"]}},{name:{description:"Preset 3",type:p,values:[5,50],default:"30 sec EqPow",valueStrings:[]},length:{description:"Crossfade Length",type:o,values:[5,10,15,20,25,30],default:30,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},curve:{description:"Crossfade Curve",type:o,values:[0,1],default:0,valueStrings:["Equal Power","Linear"]}},{name:{description:"Preset 4",type:p,values:[5,50],default:"10 sec Linear",valueStrings:[]},length:{description:"Crossfade Length",type:o,values:[5,10,15,20,25,30],default:10,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},curve:{description:"Crossfade Curve",type:o,values:[0,1],default:1,valueStrings:["Equal Power","Linear"]}},{name:{description:"Preset 5",type:p,values:[5,50],default:"20 sec Linear",valueStrings:[]},length:{description:"Crossfade Length",type:o,values:[5,10,15,20,25,30],default:20,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},curve:{description:"Crossfade Curve",type:o,values:[0,1],default:1,valueStrings:["Equal Power","Linear"]}},{name:{description:"Preset 6",type:p,values:[5,50],default:"30 sec Linear",valueStrings:[]},length:{description:"Crossfade Length",type:o,values:[5,10,15,20,25,30],default:30,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},curve:{description:"Crossfade Curve",type:o,values:[0,1],default:1,valueStrings:["Equal Power","Linear"]}}]},ve={version:d.version.default,crossfade:[{name:d.crossfade[0].name.default,length:d.crossfade[0].length.default,curve:d.crossfade[0].curve.default},{name:d.crossfade[1].name.default,length:d.crossfade[1].length.default,curve:d.crossfade[1].curve.default},{name:d.crossfade[2].name.default,length:d.crossfade[2].length.default,curve:d.crossfade[2].curve.default},{name:d.crossfade[3].name.default,length:d.crossfade[3].length.default,curve:d.crossfade[3].curve.default},{name:d.crossfade[4].name.default,length:d.crossfade[4].length.default,curve:d.crossfade[4].curve.default},{name:d.crossfade[5].name.default,length:d.crossfade[5].length.default,curve:d.crossfade[5].curve.default}]};function E(t,e){let s=0;return r(t,e),s;function r(a,l){for(let c in a)if(a&&l&&typeof a[c]=="object"&&typeof l[c]=="object")r(a[c],l[c]);else if(l[c]!==void 0)j(a,l[c],a[c],c)&&s++;else throw`'${c}' ${typeof a[c]=="object"?"object":"property"} is not in schema`}}function j(t,e,s,r){switch(e.type){case o:if(Number.isInteger(s)===!1||s<e.values[0]||s>e.values[e.values.length-1])return T.warn(`validate() - '${r}' has invalid value: ${s} ('${r}' is type: INTEGER - min: ${e.values[0]} - max: ${e.values[e.values.length-1]}) -- setting default value: ${e.default}`),t[r]=e.default,!0;break;case u:if(s!==!0&&s!==!1)return T.warn(`validate() - '${r}' has invalid value: ${s} ('${r}' is type: BOOLEAN) -- setting default value: ${e.default}`),t[r]=e.default,!0;break;case p:if(typeof s!="string")return T.warn(`validate() - '${r}' has invalid value: ${s} ('${r}' is type: STRING) -- setting default value: ${e.default}`),t[r]=e.default,!0;break;default:return T.warn(`validate() - '${r}' has unknown type: ${e.type}`),!0}}var $=g("utils"),S={SITE_MIN_WIDTH_WIDE:1,SITE_MAX_WIDTH:2,SITE_MAX_WIDTH_MOBILE:3},q=window.matchMedia(`(min-width: ${P("--site-min-width-wide")})`),G=window.matchMedia(`(max-width: ${P("--site-max-width")})`),Y=window.matchMedia(`(max-width: ${P("--site-max-width-mobile")})`);function ye(t,e,s,r=null){document.querySelectorAll(t).forEach(l=>{l.addEventListener(e,c=>s(c,r))})}function P(t,e=document.documentElement){let s=getComputedStyle(e).getPropertyValue(t);return s.length!==0?s=s.replace(/'|"/g,"").trim():$.error(`getCssPropString(${t}): Returned CSS property string is empty`),s}function Te(t,e=document.documentElement){let s=P(t,e),r=NaN;return s.length!==0&&(r=parseInt(s)),isNaN(r)&&$.error(`getCssPropValue(${t}): Returned CSS property value is NaN`),r}function M(t){switch(t){case S.SITE_MIN_WIDTH_WIDE:return q.matches;case S.SITE_MAX_WIDTH:return G.matches;case S.SITE_MAX_WIDTH_MOBILE:return Y.matches}return!1}function Pe(t,e,s){t.classList.remove(e),t.classList.add(s)}var J=g("snackbar"),h={id:"snackbar"},X=`
  <div id="${h.id}">
    <div class="${h.id}-container">
      <div class="${h.id}-message"></div>
      <div class="${h.id}-action-button"></div>
      <div class="${h.id}-close-button"><span class="material-icons" title="Dismiss">close</span></div>
    </div>
  </div>
`,i={snackbar:null,actionButton:null,closeButton:null},w=0,A=null,b=null,I=-1,y=-1;function we(t,e=5,s=null,r=null,a=null){return J.log(`showSnackbar(): ${t} (${e} sec.)`),Q(),O(),i.snackbar.querySelector(`.${h.id}-message`).innerHTML=t,i.snackbar.classList.add("show"),i.actionButton.style.display="none",b=a,s!==null&&r!==null?(A=r,i.actionButton.style.display="block",i.actionButton.textContent=s,i.actionButton.addEventListener("click",x)):M(S.SITE_MAX_WIDTH_MOBILE)?i.closeButton.style.paddingLeft="10px":i.closeButton.style.paddingLeft="20px",e!==0&&(I=setTimeout(()=>{i.snackbar.classList.add("hide"),y=setTimeout(()=>{i.snackbar.className="",b!==null&&b()},450)},e*1e3)),++w}function Q(){i.snackbar===null&&(document.body.insertAdjacentHTML("beforeend",X),i.snackbar=document.getElementById(h.id),i.actionButton=i.snackbar.querySelector(`.${h.id}-action-button`),i.closeButton=i.snackbar.querySelector(`.${h.id}-close-button`),i.closeButton.addEventListener("click",()=>{b!==null&&b(),O(!0)}))}function x(){A(),O(!0)}function K(){return i.snackbar!==null&&i.snackbar.classList.length===1&&i.snackbar.classList.contains("show")}function Oe(t=0){K()&&(w===0||w===t)&&(i.snackbar.classList.add("hide"),y=setTimeout(()=>i.snackbar.className="",450))}function O(t=!1){I!==-1&&(clearTimeout(I),I=-1),y!==-1&&(clearTimeout(y),y=-1),i.actionButton.removeEventListener("click",x),t&&i.snackbar.classList.remove("show")}var f=g("storage"),U={},R={UF_AUTOPLAY:"UF_AUTOPLAY",UF_TERMLIST_CACHE:"UF_TERMLIST_CACHE",UF_TERMLIST_STATE:"UF_TERMLIST_STATE",UF_PLAYBACK_SETTINGS:"UF_PLAYBACK_SETTINGS",UF_SITE_SETTINGS:"UF_SITE_SETTINGS",UF_PRESET_LIST:"UF_PRESET_LIST",UF_SITE_THEME:"UF_SITE_THEME",UF_TRACK_LAYOUT:"UF_TRACK_LAYOUT",UF_TRACKS_PER_PAGE:"UF_TRACKS_PER_PAGE"};function z(t,e=null,s=!1){f.log(`readJson(): ${t} - ${e} - ${s}`);let r=localStorage.getItem(t),a=null;if(r===null)return s&&e!==null&&v(t,e),e;try{a=JSON.parse(r)}catch(l){f.error(l),e!==null&&(a=e)}return a}function v(t,e){f.log(`writeJson(): ${t} - ${e}`);try{localStorage.setItem(t,JSON.stringify(e))}catch(s){f.error(s)}}function Z(t,e,s){f.log(`mergeSettings(): Merging ${s} from version ${t.version} to version ${e.version}`);let r={version:e.version};return L(t,e,r),V(r,e),r}function L(t,e,s){for(let r in e)typeof e[r]=="object"&&(t&&typeof t[r]=="object"?(f.log(`mergeDeep() - Merging: ${r}`),s[r]={...e[r],...t[r]},L(t[r],e[r],s[r])):(f.log(`mergeDeep() - Copying: ${r}`),s[r]={...e[r]},L({},e[r],s[r])))}function V(t,e){for(let s in t)s in e||(f.log(`cleanDeep() - Deleting: ${s} (${typeof t[s]=="object"?"object":"property"})`),delete t[s]),typeof t[s]=="object"&&V(t[s],e[s])}function ee(t,e,s){try{let r=0;switch(t){case R.UF_PLAYBACK_SETTINGS:r=E(e,n);break;case R.UF_SITE_SETTINGS:r=E(e,m);break}r>0&&v(t,e)}catch(r){return f.error(`validateSettings() exception: ${r} -- using default settings`),v(t,s),s}return e}function Fe(t,e=null,s=!1){let r=z(t,e,s);if(r!==null&&e!==null&&r.version!==void 0){let a=r;return r.version<e.version&&(f.log(r),a=Z(r,e,t),v(t,a),f.log(a)),D(t,ee(t,a,e))}return e!==null?(f.warn(`readWriteSettingsProxy() - Failed for: ${t} -- using default settings`),v(t,e),D(t,e)):(f.error(`readWriteSettingsProxy() - Fatal error for: ${t} -- unable to read settings!`),null)}var D=(t,e)=>{let s={get(r,a,l){if(a in r){let c=Reflect.get(r,a,l);return typeof c=="object"?new Proxy(c,s):c}f.error(`onSettingsChange(): Get unknown property: ${a}`)},set(r,a,l,c){if(a in r){let C=Reflect.get(r,a,c);return l!==C&&(Reflect.set(r,a,l),v(t,e),te(a,C,l)),!0}return f.error(`onSettingsChange(): Set unknown property: ${a}`),!0}};return new Proxy(e,s)};function te(t,e,s){t in U&&(f.log(`callSettingsObserver() for property: ${t} - oldValue: ${e} - newValue: ${s}`),U[t].forEach(r=>r(e,s)))}export{ne as a,H as b,S as c,f as d,pe as e,U as f,R as g,he as h,ve as i,ye as j,we as k,P as l,Te as m,Oe as n,M as o,Pe as p,g as q,Fe as r,de as s,fe as t};
//# sourceMappingURL=chunk.K7XKIACX.js.map
