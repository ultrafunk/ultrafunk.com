const k=!1;class C{constructor(e="unknown"){this.caller=F(e.toUpperCase(),15,".")}isDebug(){return k}warn(e){console.warn(`${this.caller}:`,e)}error(e){console.error(`${this.caller}:`,e)}}class $ extends C{constructor(e){super(e)}log(e){console.log(`${this.caller}:`,e)}logEventLog(e,t,r){const n=[];for(let a=0;a<e.length;a++){const u={eventSource:this.getObjectKeyForValue(t,e[a].eventSource),eventType:this.getObjectKeyForValue(r,e[a].eventType),uId:e[a].uId,timeStamp:e[a].timeStamp};n.push(u)}this.log(n)}getObjectKeyForValue(e,t){return Object.keys(e).find(r=>e[r]===t)}}class P extends C{constructor(e){super(e)}log(){}logEventLog(){}getObjectKeyForValue(){}}function d(e){return k===!0?new $(e):new P(e)}function F(e,t,r){return e.length>t?e.slice(0,t):e.padEnd(t,r)}const l=d("storage"),w=[],f={UF_PLAYBACK_SETTINGS:"UF_PLAYBACK_SETTINGS",UF_SITE_SETTINGS:"UF_SITE_SETTINGS",UF_SITE_THEME:"UF_SITE_THEME",UF_TRACK_LAYOUT:"UF_TRACK_LAYOUT",UF_TRACKS_PER_PAGE:"UF_TRACKS_PER_PAGE"};function M(e,t=null,r=!1){l.log(`readJson(): ${e} - ${t} - ${r}`);const n=localStorage.getItem(e);let a=null;if(n===null)return r&&t!==null&&T(e,t),t;try{a=JSON.parse(n)}catch(u){l.error(u),t!==null&&(a=t)}return a}function T(e,t){l.log(`writeJson(): ${e} - ${t}`);try{localStorage.setItem(e,JSON.stringify(t))}catch(r){l.error(r)}}function R(e,t,r){l.log(`mergeObjectProps(): Merging ${r} from version ${e.version} to version ${t.version}`);const n={...e,...t};return n.user={...t.user,...e.user},n.priv={...t.priv,...e.priv},r===f.UF_SITE_SETTINGS?n.priv.banners={...t.priv.banners,...e.priv.banners}:r===f.UF_PLAYBACK_SETTINGS,n}function v(e,t){Object.keys(e).forEach(r=>{r in t===!1&&(l.log(`deleteOrphanedKeys(): Deleting '${r}'`),delete e[r])})}function x(e,t,r){v(e,t),v(e.user,t.user),v(e.priv,t.priv),r===f.UF_SITE_SETTINGS?v(e.priv.banners,t.priv.banners):r===f.UF_PLAYBACK_SETTINGS}function q(e,t=null,r=!1){const n=M(e,t,r);if(n!==null&&t!==null){let a=null;return n.version<t.version?(l.log(n),a=R(n,t,e),x(a,t,e),l.log(a),T(e,a)):a=n,B(e,a)}return l.error(`readWriteSettingsProxy() failed for: ${e}`),null}const B=(e,t)=>{const r={get(n,a,u){if(a in n){const g=Reflect.get(n,a,u);return typeof g=="object"?new Proxy(g,r):g}l.error(`onSettingsChange(): Get unknown property: ${a}`)},set(n,a,u,g){if(a in n){const I=Reflect.get(n,a,g);return u!==I&&(Reflect.set(n,a,u),T(e,t),U(a,I,u)),!0}return l.error(`onSettingsChange(): Set unknown property: ${a}`),!0}};return new Proxy(t,r)};function U(e,t,r){w.forEach(n=>{n.property===e&&(l.log(`callSettingsObserver() for property: ${e} - oldValue: ${t} - newValue: ${r}`),n.observer(t,r))})}function Q(e,t){let r=null;if(e.key===t)try{r=JSON.parse(e.oldValue)}catch(n){l.error(n)}return r}const h=d("settings"),s={INTEGER:"integer",BOOLEAN:"boolean",STRING:"string"},o={keyboardShortcuts:{description:"Keyboard Shortcuts",type:s.BOOLEAN,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},masterVolume:{description:"Master Volume",type:s.INTEGER,values:[0,25,50,75,100],default:100,valueStrings:["0%","25%","50%","75%","100%"]},masterMute:{description:"Master Mute",type:s.BOOLEAN,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},autoPlay:{description:"Autoplay next track",type:s.BOOLEAN,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},autoCrossfade:{description:"Auto Crossfade to next track",type:s.BOOLEAN,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},autoCrossfadeLength:{description:"Auto Crossfade Length",type:s.INTEGER,values:[5,10,15,20,25,30],default:20,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},autoCrossfadeCurve:{description:"Auto Crossfade Curve",type:s.INTEGER,values:[0,1],default:1,valueStrings:["EQUAL POWER","LINEAR"]},autoScroll:{description:"Autoscroll to next track",type:s.BOOLEAN,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},smoothScrolling:{description:"Smooth Scrolling to next track",type:s.BOOLEAN,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},autoExitFullscreen:{description:"Exit Fullscreen on next track",type:s.BOOLEAN,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},animateNowPlayingIcon:{description:"Animate Playing Track Icon",type:s.BOOLEAN,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},autoResumePlayback:{description:"Auto Resume Playback on focus",type:s.BOOLEAN,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},trackCrossfade:{description:"Track to Track Crossfade",type:s.BOOLEAN,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},trackCrossfadeLength:{description:"Track to Track Crossfade Length",type:s.INTEGER,values:[5,10,15,20,25,30],default:10,valueStrings:["5 sec","10 sec","15 sec","20 sec","25 sec","30 sec"]},trackCrossfadeCurve:{description:"Track to Track Crossfade Curve",type:s.INTEGER,values:[0,1],default:0,valueStrings:["EQUAL POWER","LINEAR"]},timeRemainingWarning:{description:"Time Remaining Warning",type:s.BOOLEAN,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},timeRemainingSeconds:{description:"Time Remaining Warning Seconds",type:s.INTEGER,values:[15,30,45,60],default:60,valueStrings:["15 sec","30 sec","45 sec","60 sec"]},autoExitFsOnWarning:{description:"Exit Fullscreen on Time Warning",type:s.BOOLEAN,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]},keepMobileScreenOn:{description:"Keep Mobile Screen On when playing",type:s.BOOLEAN,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},trackTimesOnMobile:{description:"Show Track Times on mobile",type:s.BOOLEAN,values:[!0,!1],default:!1,valueStrings:["ON","OFF"]},trackThumbnailOnMobile:{description:"Show Track Thumbnail on mobile",type:s.BOOLEAN,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]}},ee={version:21,storageChangeSync:!1,user:{keyboardShortcuts:o.keyboardShortcuts.default,masterVolume:o.masterVolume.default,masterMute:o.masterMute.default,autoPlay:o.autoPlay.default,autoCrossfade:o.autoCrossfade.default,autoCrossfadeLength:o.autoCrossfadeLength.default,autoCrossfadeCurve:o.autoCrossfadeCurve.default,autoScroll:o.autoScroll.default,smoothScrolling:o.smoothScrolling.default,autoExitFullscreen:o.autoExitFullscreen.default,animateNowPlayingIcon:o.animateNowPlayingIcon.default,autoResumePlayback:o.autoResumePlayback.default,trackCrossfade:o.trackCrossfade.default,trackCrossfadeLength:o.trackCrossfadeLength.default,trackCrossfadeCurve:o.trackCrossfadeCurve.default,timeRemainingWarning:o.timeRemainingWarning.default,timeRemainingSeconds:o.timeRemainingSeconds.default,autoExitFsOnWarning:o.autoExitFsOnWarning.default,keepMobileScreenOn:o.keepMobileScreenOn.default,trackTimesOnMobile:o.trackTimesOnMobile.default,trackThumbnailOnMobile:o.trackThumbnailOnMobile.default,blurFocusBgChange:!1},priv:{continueAutoPlay:!1,showLeftArrowHint:!0,showRightArrowHint:!0,showDetailsHint:!0,showTrackImageHint:!0}},p={theme:{description:"Theme",type:s.STRING,values:["light","dark","auto"],default:"auto",valueStrings:["LIGHT","DARK","AUTO / SYSTEM"]},trackLayout:{description:"Track Layout",type:s.STRING,values:["list","2-column","3-column"],default:"3-column",valueStrings:["LIST","2 COLUMN","3 / 4 COLUMN"]},tracksPerPage:{description:"Tracks Per Page for Search &amp; Shuffle",type:s.INTEGER,values:[...Array(22).keys()].map(e=>e+3),default:12,valueStrings:[...Array(22).keys()].map(e=>`${e+3}`)},keyboardShortcuts:{description:"Keyboard Shortcuts",type:s.BOOLEAN,values:[!0,!1],default:!0,valueStrings:["ON","OFF"]}},te={version:6,storageChangeSync:!1,user:{theme:p.theme.default,trackLayout:p.trackLayout.default,tracksPerPage:p.tracksPerPage.default,keyboardShortcuts:p.keyboardShortcuts.default},priv:{banners:{showFrontpageIntro:!0,showPremiumIntro:!0,showPromoIntro:!0}}};function re(e,t){h.log(`validate(): ${t}`);const r=t===f.UF_PLAYBACK_SETTINGS?o:p;Object.entries(e).forEach(([n,a])=>{if(n in r)switch(r[n].type){case s.INTEGER:(Number.isInteger(a)===!1||a<r[n].values[0]||a>r[n].values[r[n].values.length-1])&&(h.warn(`validate() - ${n} has invalid value: ${a} (${n} is type: ${r[n].type} - min: ${r[n].values[0]} - max: ${r[n].values[r[n].values.length-1]}) -- setting default value: ${r[n].default}`),e[n]=r[n].default);break;case s.BOOLEAN:a!==!0&&a!==!1&&(h.warn(`validate() - ${n} has invalid value: ${a} (${n} is type: ${r[n].type}) -- setting default value: ${r[n].default}`),e[n]=r[n].default);break;case s.STRING:break;default:h.warn(`validate() - ${n} has unknown type: ${r[n].type}`)}})}const A=d("utils"),m={SITE_MIN_WIDTH_WIDE:1,SITE_MAX_WIDTH:2,SITE_MAX_WIDTH_MOBILE:3},G=window.matchMedia(`(min-width: ${E("--site-min-width-wide")})`),W=window.matchMedia(`(max-width: ${E("--site-max-width")})`),D=window.matchMedia(`(max-width: ${E("--site-max-width-mobile")})`);function se(e,t,r,n=null){const a=document.querySelectorAll(e);a.forEach(u=>{u.addEventListener(t,g=>r(g,n))})}function E(e){let t=getComputedStyle(document.documentElement).getPropertyValue(e);return t.length!==0?t=t.replace(/'|"/g,"").trim():A.error(`getCssPropString(${e}): Returned CSS property string is empty`),t}function oe(e){const t=E(e);let r=NaN;return t.length!==0&&(r=parseInt(t)),isNaN(r)&&A.error(`getCssPropValue(${e}): Returned CSS property value is NaN`),r}function L(e){switch(e){case m.SITE_MIN_WIDTH_WIDE:return G.matches;case m.SITE_MAX_WIDTH:return W.matches;case m.SITE_MAX_WIDTH_MOBILE:return D.matches}return!1}function ie(e,t,r){e.classList.remove(t),e.classList.add(r)}const H=d("snackbar"),c={id:"snackbar"},K=`
  <div id="${c.id}">
    <div class="${c.id}-container">
      <div class="${c.id}-message"></div>
      <div class="${c.id}-action-button"></div>
      <div class="${c.id}-close-button"><span class="material-icons" title="Dismiss">close</span></div>
    </div>
  </div>
`,i={snackbar:null,actionButton:null,closeButton:null};let N=null,S=null,b=-1,O=-1;function de(e,t=5,r=null,n=null,a=null){H.log(`showSnackbar(): ${e} (${t} sec.)`),J(),y(),i.snackbar.querySelector(`.${c.id}-message`).innerHTML=e,i.snackbar.classList.add("show"),i.actionButton.style.display="none",S=a,r!==null&&n!==null?(N=n,i.actionButton.style.display="block",i.actionButton.textContent=r,i.actionButton.addEventListener("click",_)):L(m.SITE_MAX_WIDTH_MOBILE)?i.closeButton.style.paddingLeft="10px":i.closeButton.style.paddingLeft="20px",t!==0&&(b=setTimeout(()=>{i.snackbar.classList.add("hide"),O=setTimeout(()=>{i.snackbar.className="",S!==null&&S()},450)},t*1e3))}function J(){i.snackbar===null&&(document.body.insertAdjacentHTML("beforeend",K),i.snackbar=document.getElementById(c.id),i.actionButton=i.snackbar.querySelector(`.${c.id}-action-button`),i.closeButton=i.snackbar.querySelector(`.${c.id}-close-button`),i.closeButton.addEventListener("click",()=>{S!==null&&S(),y(!0)}))}function _(){N(),y(!0)}function y(e=!1){b!==-1&&(clearTimeout(b),b=-1),O!==-1&&(clearTimeout(O),O=-1),i.actionButton.removeEventListener("click",_),e&&i.snackbar.classList.remove("show")}export{l as a,w as b,m as c,f as d,ee as e,te as f,se as g,re as h,de as i,E as j,oe as k,L as l,ie as m,d as n,q as o,Q as p};
//# sourceMappingURL=chunk.SYT4KDGA.js.map
